(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){e.exports=a(83)},51:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(28),r=a(9),c="dmitrybodnar.com",u="http".concat("s","://").concat(c),s="ws".concat("s","://").concat(c),l=null;window.SharedWorker&&((l=new SharedWorker("worker.js")).port.start(),console.log("shared worker: started"),l.port.addEventListener("message",function(e){console.log("main: message received from shared worker",e.data)}));var d=function(e){console.log("main: post commands to shared worker",e),l?(console.log("main: commands posted to shared worker"),l.port.postMessage(e)):console.log("main: shared worker is not available")};a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(7),a(11);var m=a(30),p=a.n(m).a.create({baseURL:u}),f=a(31),g=a.n(f)()(),v=function(e){return{type:"ADD_TODO_STARTED",text:e}},b=function(e,t){return{type:"ADD_TODO_SUCCESS",id:e,text:t}},h=function(e){return{type:"ADD_TODO_FAILURE",error:e}},E=function(e){return{type:"REMOVE_TODO_STARTED",id:e}},O=function(e){return{type:"REMOVE_TODO_SUCCESS",id:e}},w=function(e,t){return{type:"REMOVE_TODO_FAILURE",id:e,error:t}},y=a(84),S=function(e){var t=e.onClick,a=e.onTrash,n=e.id,o=e.text,r=e.selected;return i.a.createElement("div",{id:"".concat(n),className:"card-wrapper float-left m-3",onClick:t},i.a.createElement("div",{className:"card shadow"},i.a.createElement("div",{className:"card-header"},i.a.createElement("div",{className:"card-title mb-0"},i.a.createElement(y.a,{style:{textDecoration:"none",fontWeight:"500"},to:"/board/".concat(n)},o)),i.a.createElement("div",{className:"text-white position-absolute card-badges card-badges-left"},i.a.createElement("div",{className:"bg-success shadow-sm m-1 p-1 text-center small rounded-circle card-badge",style:{display:r?"block":"none"}},i.a.createElement("i",{className:"fa fa-fw fa-check"})),i.a.createElement("div",{className:"bg-danger shadow-sm m-1 p-1 text-center small rounded-circle card-badge hover-card-badges",onClick:a},i.a.createElement("i",{className:"fa fa-fw fa-trash"})))),i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"card-body-wrapper"},i.a.createElement("div",{className:"card-text small text-justify"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Error quis, sed temporibus numquam voluptas cupiditate nemo corrupti quia velit odio quae natus molestias unde dolor aliquam magni consequuntur nisi at illum inventore maxime! Exercitationem minima voluptate, culpa ut eveniet enim harum illum eius quaerat alias labore fugiat sapiente odit consectetur delectus aliquam amet deleniti in iusto quis tempora ullam optio, nostrum quam! Architecto, laboriosam? Culpa dolorem eum error dignissimos nostrum ea ratione similique hic nesciunt, facere facilis doloremque, praesentium, corporis tempora tempore cupiditate ab quam? Incidunt distinctio tempora a illum eligendi quod voluptatibus excepturi laboriosam natus repellendus? Quam dolor pariatur eveniet error at excepturi aperiam blanditiis voluptatem expedita. Nisi saepe nulla accusantium. Consectetur, velit voluptate corrupti quae repellat quaerat! Vel ut commodi est dolorum ducimus culpa facilis pariatur incidunt, quisquam libero aut sint mollitia quaerat ipsum iusto iure fuga nostrum vitae dolor perferendis eligendi similique earum? Delectus unde sint voluptatibus explicabo vel distinctio dolores illo fugit error officia cupiditate, itaque libero ipsam repudiandae provident quasi omnis modi ipsa eos quibusdam debitis. Aliquam earum quos vel fugit, odit necessitatibus consectetur minima quae tempora quam libero ipsa repellendus eius sunt veritatis distinctio quod a laudantium! Cupiditate accusamus odit voluptatibus, error autem, enim iusto, fuga corporis totam doloremque quaerat? Magni, corporis, et numquam vel, nam reiciendis minima vero ullam deserunt quis officia dolor? Nihil sunt aperiam sequi labore itaque libero repellat quaerat quo sit facilis recusandae ea vero blanditiis nostrum dolorem, illo soluta dignissimos praesentium iure ipsum. Nemo ullam dolorem cupiditate commodi facilis corporis officia nam alias? Impedit, dolores omnis, adipisci, quaerat eligendi aliquam beatae ratione debitis in accusamus eum provident quam aut voluptatibus eveniet nulla. Nam unde aspernatur error dignissimos odit omnis aperiam nesciunt? Quae rerum molestias iusto aliquid harum dolores maiores consequatur voluptate architecto odit facilis sapiente sed, nostrum doloribus modi?")))))},N=function(e){var t=e.todos,a=e.toggleTodo,n=e.removeTodo;return i.a.createElement("div",{className:"container-fluid board-list"},i.a.createElement("div",{className:"lane-wrapper lane-item"},i.a.createElement("div",{className:"lane-body"},t.map(function(e){return i.a.createElement(S,Object.assign({key:e.id},e,{onTrash:function(){return n(e.id)},onClick:function(){return a(e.id)}}))}))))},I=function(e,t){switch(t){case"":return e;default:return e.filter(function(e){return e.text.toLowerCase().includes(t.toLowerCase())})}},q=Object(r.b)(function(e){return{todos:I(e.todos,e.visibilityFilter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))},removeTodo:function(t){return e(function(e){return function(t){t(E(e)),fetch("".concat(p,"/v1/api/board/").concat(e),{method:"delete"}).then(function(a){t(O(e))}).catch(function(a){t(w(e,a.message))})}}(t))}}})(N),T=a(32),k=a(33),D=a(39),_=a(34),C=a(40),A=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(D.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(i)))).onAuthChange=function(e){e?a.props.signIn(a.auth.currentUser.get().getId()):a.props.signOut()},a.onSignInClick=function(){a.auth.signIn()},a.onSignOutClick=function(){a.auth.signOut()},a}return Object(C.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"745975090298-bi7i72f2akkt9cglmjjsgqh0q9qo2vmt.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)})})}},{key:"renderAuthButton",value:function(){return null===this.props.isSignedIn?null:this.props.isSignedIn?i.a.createElement("button",{onClick:this.onSignOutClick,className:"btn btn-secondary btn-sm"},i.a.createElement("i",{className:"fa fa-fw fa-google"}),"Sign Out"):i.a.createElement("button",{onClick:this.onSignInClick,className:"btn btn-secondary btn-sm"},i.a.createElement("i",{className:"fa fa-fw fa-google"}),"Sign In with Google")}},{key:"render",value:function(){return i.a.createElement("div",null,this.renderAuthButton())}}]),t}(i.a.Component),x=Object(r.b)(function(e){return{isSignedIn:e.auth.isSignedIn}},{signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}})(A),j=Object(r.b)(function(e){return{secure:e.auth.isSignedIn}})(function(e){var t,a=e.secure,n=e.dispatch;return i.a.createElement("nav",{className:"navbar bg-dark navbar-dark fixed-top"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("form",{className:"input-group ml-auto mr-auto",onSubmit:function(e){e.preventDefault()}},i.a.createElement("div",{className:"input-group"},i.a.createElement("div",{className:"input-group-append"},i.a.createElement(x,null)),i.a.createElement("input",{type:"search",className:"form-control form-control-sm",placeholder:"Board title...",ref:function(e){return t=e}}),a?i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(e){var a;t.value.trim()&&(n((a=t.value,function(e){e(v(a)),fetch("".concat(p,"/v1/api/board"),{method:"post",body:JSON.stringify({name:a})}).then(function(e){return e.json()}).then(function(t){e(b(t.id,a))}).catch(function(t){e(h(t.message))})})),t.value="")}},"Create")):null,i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(e){n({type:"SET_VISIBILITY_FILTER",filter:t.value.trim()})}},"Search"))))))}),R=function(e){e.match;return i.a.createElement("nav",{className:"navbar bg-dark navbar-dark fixed-top"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("form",{className:"input-group ml-auto mr-auto",onSubmit:function(e){e.preventDefault()}},i.a.createElement("div",{className:"input-group"},i.a.createElement("input",{type:"text",className:"form-control form-control-sm",ref:function(e){return e}}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(e){}},"Update"))))))},L=a(87),U=a(86),B=a(85),M=function(){return i.a.createElement("div",null,i.a.createElement(j,null),i.a.createElement(q,null))},F=function(){return i.a.createElement(L.a,{history:g},i.a.createElement("div",null,i.a.createElement(U.a,null,i.a.createElement(B.a,{path:"/",exact:!0,component:M}),i.a.createElement(B.a,{path:"/kanban-ui/",exact:!0,component:M}),i.a.createElement(B.a,{path:"/board/:id",component:R}),i.a.createElement(B.a,{path:"/kanban-ui/board/:id",component:R}))))},G=a(8),V=a(36),W=a(37),J=function(e){return function(t,a,n){return e(function(e,a){var n,i=performance.now(),o=t(e,a),r=performance.now(),c=(n=r-i,Math.round(100*n)/100);return console.log("reducer process time:",c),o},a,n)}},H=function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}},Q=a(6),Y={isSignedIn:null,userId:null},K=a(10),$=a(19),z=a.n($),P=a(38),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO_STARTED":return e;case"ADD_TODO_SUCCESS":return[].concat(Object(P.a)(e),[{id:t.id,text:t.text,selected:!1}]);case"ADD_TODO_FAILURE":case"REMOVE_TODO_STARTED":return e;case"REMOVE_TODO_SUCCESS":return e.filter(function(e){return e.id!==t.id});case"REMOVE_TODO_FAILURE":return e;case"TOGGLE_TODO":return e.map(function(e){return e.id===t.id?Object(Q.a)({},e,{selected:!e.selected}):e});default:return e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},ee=Object(G.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(Q.a)({},e,{isSignedIn:!0,userId:t.payload});case"SIGN_OUT":return Object(Q.a)({},e,{isSignedIn:!1,userId:null});default:return e}},boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BOARDS":return Object(Q.a)({},e,z.a.mapKeys(t.payload,"id"));case"FETCH_BOARD":case"CREATE_BOARD":case"EDIT_BOARD":return Object(Q.a)({},e,Object(K.a)({},t.payload.id,t.payload));case"DELETE_BOARD":return z.a.omit(e,t.payload);default:return e}},todos:X,visibilityFilter:Z});var te;a(79),a(81);!function(){var e=new WebSocket("".concat(s,"/v1/api/notify/ws"));e.onopen=function(e){console.log("websocket opened")},e.onclose=function(e){console.log("websocket closed")},e.onmessage=function(e){console.log("websocket: notification received",e.data)}}(),fetch("".concat(u,"/v1/api/board")).then(function(e){return e.json()}).then(function(e){var t={todos:e.map(function(e){return{id:e.id,text:e.name,selected:!1}})};(te=function(e){var t=[H,V.a],a=[G.applyMiddleware.apply(void 0,t),J],n=W.composeWithDevTools.apply(void 0,a);return Object(G.createStore)(ee,e,n)}(t)).subscribe(ne),Object(o.render)(i.a.createElement(r.a,{store:te},i.a.createElement(F,null)),document.getElementById("root"))});var ae=[];function ne(){var e=ae;if((ae=te.getState().todos).length>e.length){d([{id:"5c3016bc4d74f1000177ed11",type:5,payload:{lane_id:"5c30169d4d74f1000177ed10"}}])}}"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,2,1]]]);
//# sourceMappingURL=main.950243f7.chunk.js.map