{"version":3,"sources":["serviceWorker.js","components/boards/Item.js","apis/index.js","apis/worker.js","actions/board.js","actions/types.js","components/boards/List.js","components/Boards.js","actions/lane.js","components/board/Header.js","actions/card.js","components/board/card/Body.js","components/board/Card.js","components/board/CardLane.js","components/board/CompositeLane.js","components/board/Lane.js","components/board/Body.js","enhancers/monitorReducer.js","middleware/logger.js","reducers/authReducer.js","reducers/index.js","reducers/boardsReducer.js","reducers/boardReducer.js","reducers/filterReducer.js","store.js","apis/socket.js","components/Board.js","components/GoogleAuth.js","actions/auth.js","components/Header.js","history.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","Item","_ref","id","name","description","shared","editable","shareBoard","deleteBoard","react_default","a","createElement","concat","className","react_router_dom","style","textDecoration","fontWeight","to","process","display","title","onClick","axios","create","baseURL","worker","boardId","commands","console","log","server","post","fetchBoard","_ref2","Object","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","response","wrap","_context2","prev","next","get","sent","type","payload","data","stop","_x2","apply","this","arguments","notification","_ref7","_callee7","_context7","delete","_x7","List","_this$props","_this","props","onConfirm","undefined","_this$props2","fetchBoards","currentUserId","prevProps","_this$props3","_this2","boards","map","board","boards_Item","assign","key","objectSpread","isSignedIn","owner","React","Component","connect","state","values","filter","toLowerCase","includes","auth","userProfile","_callee","_context","t0","_x","_ref6","_callee6","_context6","put","_x6","Boards","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleShow","bind","assertThisInitialized","handleClose","show","question","yesFn","fn","setState","length","Fragment","boards_List","Modal","onHide","Header","closeButton","Title","Body","Footer","Button","variant","fetchLane","laneId","createLane","layout","board_id","parent_id","deleteLane","parentId","excludeAndDeleteLane","update","_ref5","_callee5","_context5","_x5","_ref4","_callee4","_context4","_x4","lane","input","onSubmit","e","preventDefault","defaultValue","ref","node","value","trim","layoutIcon","layoutButton","fetchCard","cardId","deleteCard","card_Body","card","overflow","Card","draggable","onDragStart","dataTransfer","setData","CardLane","createCard","moveCard","fromLaneId","excludeAndDeleteCard","cards","_this$props4","_this$props5","children","_this3","_this$props6","onDragOver","types","onDrop","getData","renderCards","ownProps","lanes","toLaneId","_ref3","_callee3","_context3","_x3","CompositeLane","createChild","createCardLane","child","Lane","renderLanes","board_CardLane","board_CompositeLane","monitorReducer","createStore","reducer","initialState","enhancer","action","number","start","performance","now","newState","end","diff","Math","round","logger","store","group","info","result","getState","groupEnd","INTIAL_STATE","combineReducers","_","mapKeys","defineProperty","omit","walkFn","el","visitFn","forEach","i","push","formatBoard","pull","configureStore","middlewares","loggerMiddleware","thunkMiddleware","enhancers","applyMiddleware","monitorReducerEnhancer","composedEnhancers","composeWithDevTools","rootReducer","REFRESHCARDNOTIFICATION","REFRESHLANENOTIFICATION","REFRESHBOARDNOTIFICATION","REMOVECARDNOTIFICATION","REMOVELANENOTIFICATION","REMOVEBOARDNOTIFICATION","CREATECARDNOTIFICATION","CREATELANENOTIFICATION","CREATEBOARDNOTIFICATION","socket","sendMessage","ws","msg","JSON","parse","send","processNotification","apis_socket","conn","WebSocket","onopen","evt","onclose","onmessage","ns","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","err","return","createSocket","Board","params","stringify","cleanBoard","board_Header","board_Body","GoogleAuth","onAuthChange","profile","currentUser","getBasicProfile","getId","email","getEmail","getName","signIn","signOut","onSignInClick","onSignOutClick","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","userId","secure","visible","createBoard","filterBoards","visibility","components_GoogleAuth","placeholder","createHistory","App","react_router","history","components_Header","path","exact","component","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d9dc454c.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Item = ({ id, name, description, shared, editable, shareBoard, deleteBoard }) => (\r\n  <div id={`${id}`} className=\"card-wrapper float-left m-3\">\r\n    <div className=\"card shadow board\">\r\n      <div className=\"card-header\">\r\n        <div className=\"card-title mb-0\">\r\n          <div className=\"row mx-0\">\r\n            <div className=\"mr-auto\">\r\n              <Link\r\n                className=\"text-info\"\r\n                style={{ textDecoration: 'none', fontWeight: '500' }}\r\n                to={`${process.env.REACT_APP_CONTEXT_ROOT}/board/${id}`}\r\n              >\r\n                {name}\r\n              </Link>\r\n            </div>\r\n            <div\r\n              className=\"hover-card-badges\"\r\n              style={{ display: editable ? 'inline' : 'none' }}\r\n            >\r\n              <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n              <i\r\n                className=\"fa fa-fw fa-eye text-muted\"\r\n                title=\"public\"\r\n                style={{ display: shared ? 'inline' : 'none' }}\r\n                onClick={() => shareBoard(id, false)}\r\n              />\r\n              <i\r\n                className=\"fa fa-fw fa-eye-slash text-muted\"\r\n                title=\"private\"\r\n                style={{ display: shared ? 'none' : 'inline' }}\r\n                onClick={() => shareBoard(id, true)}\r\n              />\r\n              <i\r\n                className=\"fa fa-fw fa-trash text-muted\"\r\n                title=\"delete\"\r\n                onClick={() => deleteBoard(id, name)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"board-body-wrapper\">\r\n          <div className=\"card-text small text-justify\">{description}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nItem.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Item;\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL\r\n});","import server from './index';\r\n\r\nexport const UPDATECARD = 0;\r\nexport const REMOVECARD = 1;\r\nexport const UPDATELANE = 2;\r\nexport const REMOVELANE = 3;\r\nexport const EXCLUDECHILD = 4;\r\nexport const APPENDCHILD = 5;\r\nexport const INSERTBEFORE = 6;\r\nexport const INSERTAFTER = 7;\r\nexport const LAYOUTBOARD = 8;\r\n\r\nlet sharedWorker = null;\r\n\r\nif (false && window.SharedWorker) {\r\n  sharedWorker = new SharedWorker(`${process.env.REACT_APP_CONTEXT_ROOT}/worker.js`);\r\n  sharedWorker.port.start();\r\n\r\n  console.log('shared worker: started');\r\n\r\n  sharedWorker.port.addEventListener('message', event => {\r\n    console.log('main: message received from shared worker', event.data);\r\n  });\r\n}\r\n\r\nexport default (boardId, commands) => {\r\n  if (!sharedWorker) {\r\n    console.log('main: shared worker is not available');\r\n\r\n    server.post(`/v1/api/command/${boardId}`, commands);\r\n    \r\n    return;\r\n  }\r\n\r\n  console.log('main: post commands to shared worker', commands);\r\n\r\n  sharedWorker.port.postMessage({ boardId, commands });\r\n\r\n  console.log('main: commands posted to shared worker');\r\n};\r\n","import server from '../apis/index';\r\nimport worker, { LAYOUTBOARD } from '../apis/worker';\r\n\r\nimport {\r\n  CREATE_BOARD,\r\n  FILTER_BOARDS,\r\n  FETCH_BOARDS,\r\n  FETCH_BOARD,\r\n  CLEAN_BOARD,\r\n  DELETE_BOARD,\r\n  RENAME_BOARD,\r\n  SHARE_BOARD,\r\n  LAYOUT_BOARD\r\n} from './types';\r\n\r\nexport const filterBoards = filter => ({\r\n  type: FILTER_BOARDS,\r\n  filter\r\n});\r\n\r\nexport const fetchBoards = owner => async dispatch => {\r\n  const response = owner\r\n    ? await server.get(`/v1/api/board?owner=${owner}`)\r\n    : await server.get('/v1/api/board');\r\n\r\n  dispatch({ type: FETCH_BOARDS, payload: response.data });\r\n};\r\n\r\nexport const fetchBoard = id => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${id}`);\r\n\r\n  dispatch({ type: FETCH_BOARD, payload: response.data });\r\n};\r\n\r\nexport const cleanBoard = () => ({ type: CLEAN_BOARD });\r\n\r\nexport const createBoard = (name, owner) => async dispatch => {\r\n  const response = await server.post('/v1/api/board', {\r\n    name,\r\n    owner,\r\n    layout: 'H',\r\n    shared: false\r\n  });\r\n\r\n  dispatch({ type: CREATE_BOARD, payload: response.data });\r\n};\r\n\r\nexport const layoutBoard = (id, layout) => async dispatch => {\r\n  worker(id, [{ id, board_id: id, type: LAYOUTBOARD, payload: { layout } }]);\r\n\r\n  dispatch({ type: LAYOUT_BOARD, payload: layout });\r\n};\r\n\r\nexport const renameBoard = (id, name) => async dispatch => {\r\n  const response = await server.put(`/v1/api/board/${id}/rename`, { name });\r\n\r\n  dispatch({ type: RENAME_BOARD, payload: response.data });\r\n};\r\n\r\nexport const shareBoard = (id, shared) => async dispatch => {\r\n  const response = await server.put(`/v1/api/board/${id}/share`, { shared });\r\n\r\n  dispatch({ type: SHARE_BOARD, payload: response.data });\r\n};\r\n\r\nexport const deleteBoard = (id, notification) => async dispatch => {\r\n  if (!notification) {\r\n    await server.delete(`/v1/api/board/${id}`);\r\n  }\r\n\r\n  dispatch({ type: DELETE_BOARD, payload: id });\r\n};\r\n","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\n\r\nexport const FILTER_BOARDS = 'FILTER_BOARDS';\r\nexport const FETCH_BOARDS = 'FETCH_BOARDS';\r\nexport const CREATE_BOARD = 'CREATE_BOARD';\r\nexport const DELETE_BOARD = 'DELETE_BOARD';\r\nexport const RENAME_BOARD = 'RENAME_BOARD';\r\nexport const SHARE_BOARD = 'SHARE_BOARD';\r\n\r\nexport const FETCH_BOARD = 'FETCH_BOARD';\r\nexport const CLEAN_BOARD = 'CLEAN_BOARD';\r\nexport const LAYOUT_BOARD = 'LAYOUT_BOARD';\r\n\r\nexport const FETCH_LANE = 'FETCH_LANE'\r\nexport const CREATE_LANE = 'CREATE_LANE';\r\nexport const APPEND_LANE = 'APPEND_LANE';\r\nexport const EXCLUDE_LANE = 'EXCLUDE_LANE';\r\nexport const DELETE_LANE = 'DELETE_LANE';\r\n\r\nexport const FETCH_CARD = 'FETCH_CARD'\r\nexport const CREATE_CARD = 'CREATE_CARD';\r\nexport const APPEND_CARD = 'APPEND_CARD';\r\nexport const EXCLUDE_CARD = 'EXCLUDE_CARD';\r\nexport const DELETE_CARD = 'DELETE_CARD';\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Item from './Item';\r\nimport {\r\n  fetchBoards,\r\n  shareBoard,\r\n  deleteBoard\r\n} from '../../actions/board';\r\n\r\nclass List extends React.Component {\r\n  componentDidMount() {\r\n    let { fetchBoards, currentUserId } = this.props;\r\n\r\n    fetchBoards(currentUserId);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let { fetchBoards, currentUserId } = this.props;\r\n\r\n    if (currentUserId !== prevProps.currentUserId) {\r\n      fetchBoards(currentUserId);\r\n    }\r\n  }\r\n\r\n  deleteBoard = (id, name) => {\r\n    const { onConfirm, deleteBoard } = this.props;\r\n\r\n    if (onConfirm && deleteBoard) {\r\n      onConfirm(undefined, `Delete ${name}?`, () => deleteBoard(id, false));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid board-list\">\r\n        <div className=\"lane-wrapper lane-item\">\r\n          <div className=\"lane-body\">\r\n            {this.props.boards.map(board => (\r\n              <Item\r\n                key={board.id}\r\n                {...{\r\n                  ...board,\r\n                  editable: this.props.isSignedIn && this.props.currentUserId === board.owner,\r\n                  shareBoard: this.props.shareBoard,\r\n                  deleteBoard: this.deleteBoard\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\nTodoList.propTypes = {\r\n  todos: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      selected: PropTypes.bool.isRequired,\r\n      text: PropTypes.string.isRequired\r\n    }).isRequired\r\n  ).isRequired,\r\n  toggleTodo: PropTypes.func.isRequired,\r\n  removeTodo: PropTypes.func.isRequired\r\n};\r\n*/\r\n\r\nconst mapStateToProps = state => {\r\n  let boards = Object.values(state.boards);\r\n  let filter = state.filter.toLowerCase();\r\n\r\n  return {\r\n    boards: boards.filter(board => (board.name || '').toLowerCase().includes(filter)),\r\n    currentUserId: state.auth.isSignedIn ? state.auth.userProfile.id : null,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoards, shareBoard, deleteBoard }\r\n)(List);\r\n","import React from 'react';\r\nimport List from './boards/List';\r\nimport { Modal, Button } from 'react-bootstrap';\r\n\r\nclass Boards extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n\r\n    this.state = {\r\n      show: false,\r\n      title: 'Confirm',\r\n      question: 'Are you sure?',\r\n      yesFn: this.handleClose\r\n    };\r\n  }\r\n\r\n  handleClose(fn) {\r\n    if (fn && typeof fn == 'function') {\r\n      fn();\r\n    }\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow(title = 'Confirm', question = 'Are you sure?', fn) {\r\n    this.setState({\r\n      show: true,\r\n      title,\r\n      question,\r\n      yesFn: () => this.handleClose(fn)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <List onConfirm={this.handleShow}/>\r\n        <Modal show={this.state.show} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.state.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>{this.state.question}</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={this.state.yesFn}>\r\n              Yes\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Boards;\r\n","import server from '../apis/index';\r\nimport worker, { APPENDCHILD, EXCLUDECHILD, REMOVELANE } from '../apis/worker';\r\n\r\nimport {\r\n  FETCH_LANE,\r\n  CREATE_LANE,\r\n  APPEND_LANE,\r\n  EXCLUDE_LANE,\r\n  DELETE_LANE\r\n} from './types';\r\n\r\nexport const fetchLane = (boardId, laneId) => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${boardId}/lanes/${laneId}`);\r\n\r\n  dispatch({ type: FETCH_LANE, payload: response.data });\r\n};\r\n\r\nexport const createLane = (boardId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/lanes`, {\r\n    name,\r\n    layout: 'H',\r\n    type: 'L'\r\n  });\r\n\r\n  dispatch({ type: CREATE_LANE, payload: response.data });\r\n\r\n  worker(boardId, [\r\n    {\r\n      id: response.data.id,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: boardId }\r\n    }\r\n  ]);\r\n};\r\n\r\nexport const createCardLane = (boardId, laneId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/lanes`, {\r\n    name,\r\n    type: 'C'\r\n  });\r\n\r\n  dispatch({ type: CREATE_LANE, payload: response.data });\r\n\r\n  worker(boardId, [\r\n    {\r\n      id: response.data.id,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n  ]);\r\n};\r\n\r\nexport const excludeLane = (boardId, parentId, laneId) => dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: laneId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: parentId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: EXCLUDE_LANE, payload: { boardId, laneId, parentId } });\r\n};\r\n\r\nexport const appendLane = (boardId, parentId, laneId) => dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: laneId,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: parentId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: APPEND_LANE, payload: { boardId, laneId, parentId } });\r\n};\r\n\r\nexport const deleteLane = (\r\n  boardId,\r\n  parentId,\r\n  laneId,\r\n  notification\r\n) => dispatch => {\r\n  if (!notification) {\r\n    worker(boardId, [\r\n      {\r\n        id: laneId,\r\n        board_id: boardId,\r\n        type: REMOVELANE,\r\n        payload: { parent_id: parentId }\r\n      }\r\n    ]);\r\n  }\r\n\r\n  dispatch({ type: DELETE_LANE, payload: { boardId, laneId } });\r\n};\r\n\r\nexport const excludeAndDeleteLane = (boardId, parentId, laneId) => dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: laneId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: parentId }\r\n    },\r\n    {\r\n      id: laneId,\r\n      board_id: boardId,\r\n      type: REMOVELANE,\r\n      payload: { parent_id: parentId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: EXCLUDE_LANE, payload: { boardId, laneId, parentId } });\r\n  dispatch({ type: DELETE_LANE, payload: { boardId, laneId } });\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { renameBoard, layoutBoard } from '../../actions/board';\r\nimport { createLane } from '../../actions/lane';\r\n\r\nconst Header = ({ editable, update, layout, lane, board }) => {\r\n  let input;\r\n\r\n  const updateButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"input-group-append\">\r\n        <button\r\n          className=\"btn btn-success btn-sm\"\r\n          onClick={e => {\r\n            if (!input.value.trim()) {\r\n              return;\r\n            }\r\n            update(board.id, input.value);\r\n          }}\r\n        >\r\n          <i className=\"fa fa-fw fa-check\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const layoutButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    const layoutIcon = board.layout === 'V' ? 'fa-table' : 'fa-columns';\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-sm text-white\"\r\n        onClick={e => {\r\n          layout(board.id, board.layout === 'V' ? 'H' : 'V');\r\n        }}\r\n      >\r\n        <i className={`fa fa-fw ${layoutIcon}`} />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  const laneButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-sm text-white\"\r\n        onClick={e => {\r\n          lane(board.id, 'Lane');\r\n        }}\r\n      >\r\n        <i className=\"fa fa-fw fa-file\" />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar bg-dark navbar-dark\">\r\n      <div className=\"container-fluid no-gutters\">\r\n        <div className=\"col-12 col-sm-12 col-md-6 col-lg-3 ml-auto\">\r\n          <form\r\n            className=\"input-group ml-auto mr-auto\"\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <Link to={`${process.env.REACT_APP_CONTEXT_ROOT}/`} className=\"btn btn-success btn-sm\">\r\n                  <i className=\"fa fa-fw fa-home\" />\r\n                </Link>\r\n              </div>\r\n              <input\r\n                type=\"search\"\r\n                className=\"form-control form-control-sm\"\r\n                defaultValue={board.name}\r\n                ref={node => (input = node)}\r\n              />\r\n              {updateButton()}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"mr-auto\">\r\n          {laneButton()}\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-filter\" />\r\n          </button>\r\n          {layoutButton()}\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-gear\" />\r\n          </button>\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-refresh\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = () => {\r\n  return {};\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { update: renameBoard, layout: layoutBoard, lane: createLane }\r\n)(Header);\r\n","import server from '../apis/index';\r\nimport worker, { APPENDCHILD, EXCLUDECHILD, REMOVECARD } from '../apis/worker';\r\n\r\nimport {\r\n  FETCH_CARD,\r\n  CREATE_CARD,\r\n  APPEND_CARD,\r\n  EXCLUDE_CARD,\r\n  DELETE_CARD\r\n} from './types';\r\n\r\nexport const fetchCard = (boardId, cardId) => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${boardId}/cards/${cardId}`);\r\n\r\n  dispatch({ type: FETCH_CARD, payload: response.data });\r\n};\r\n\r\nexport const createCard = (boardId, laneId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/cards`, {\r\n    name\r\n  });\r\n\r\n  dispatch({ type: CREATE_CARD, payload: response.data });\r\n\r\n  worker(boardId, [\r\n    {\r\n      id: response.data.id,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n  ]);\r\n};\r\n\r\nexport const moveCard = (\r\n  boardId,\r\n  fromLaneId,\r\n  toLaneId,\r\n  cardId\r\n) => async dispatch => {\r\n  dispatch({\r\n    type: EXCLUDE_CARD,\r\n    payload: { boardId, laneId: fromLaneId, cardId }\r\n  });\r\n  dispatch({\r\n    type: APPEND_CARD,\r\n    payload: { boardId, laneId: toLaneId, cardId }\r\n  });\r\n\r\n  let cmds = [\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: fromLaneId }\r\n    },\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: toLaneId }\r\n    }\r\n  ];\r\n\r\n  worker(boardId, cmds);\r\n};\r\n\r\nexport const excludeCard = (boardId, laneId, cardId) => async dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: EXCLUDE_CARD, payload: { boardId, laneId, cardId } });\r\n};\r\n\r\nexport const appendCard = (boardId, laneId, cardId) => async dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: APPEND_CARD, payload: { boardId, laneId, cardId } });\r\n};\r\n\r\nexport const deleteCard = (\r\n  boardId,\r\n  laneId,\r\n  cardId,\r\n  notification\r\n) => dispatch => {\r\n  if (!notification) {\r\n    worker(boardId, [\r\n      {\r\n        id: cardId,\r\n        board_id: boardId,\r\n        type: REMOVECARD,\r\n        payload: { parent_id: laneId }\r\n      }\r\n    ]);\r\n  }\r\n\r\n  dispatch({ type: DELETE_CARD, payload: { boardId, cardId } });\r\n};\r\n\r\nexport const excludeAndDeleteCard = (\r\n  boardId,\r\n  laneId,\r\n  cardId\r\n) => dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: laneId }\r\n    },\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: REMOVECARD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n\r\n  ]);\r\n\r\n  dispatch({ type: EXCLUDE_CARD, payload: { boardId, laneId, cardId } });\r\n  dispatch({ type: DELETE_CARD, payload: { boardId, cardId } });\r\n};\r\n","import React from 'react';\r\n\r\nexport default card => {\r\n  return (\r\n    <div className=\"card-body py-2\" style={{ overflow: 'hidden' }}>\r\n      <div className=\"card-body-wrapper\">\r\n        <div className=\"card-text small text-justify\">{card.description}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport Body from './card/Body';\r\n\r\nexport default ({ board, lane, card, deleteCard, editable }) => {\r\n  return (\r\n    <div\r\n      id={card.id}\r\n      className=\"card-wrapper float-left m-3\"\r\n      draggable={editable ? 'true' : 'false'}\r\n      onDragStart={e => {\r\n        //e.dataTransfer.setData('id', e.target.id);\r\n        //e.dataTransfer.setData('card', e.target.id);\r\n        e.dataTransfer.setData('card', card.id);\r\n        e.dataTransfer.setData('parent', lane.id);\r\n      }}\r\n    >\r\n      <div className=\"card shadow item\">\r\n        <div className=\"card-header\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{card.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i className=\"fa fa-fw fa-pencil text-muted card-badge\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted card-badge\"\r\n                  title=\"edit\"\r\n                  onClick={() => deleteCard(card.id)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Body card={card} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { excludeAndDeleteLane } from '../../actions/lane';\r\nimport { createCard, moveCard, excludeAndDeleteCard } from '../../actions/card';\r\nimport Card from './Card';\r\n\r\nclass CardLane extends React.Component {\r\n  renderCards() {\r\n    const { lane, board, editable } = this.props;\r\n\r\n    if (!lane || !lane.children) {\r\n      return null;\r\n    }\r\n\r\n    return lane.children\r\n      .map(id => board.cards[id])\r\n      .filter(card => card)\r\n      .map(card => (\r\n        <Card\r\n          key={card.id}\r\n          board={board}\r\n          card={card}\r\n          lane={lane}\r\n          deleteCard={this.deleteCard}\r\n          editable={editable}\r\n        />\r\n      ));\r\n  }\r\n\r\n  createCard = () => {\r\n    const { lane, board, createCard, editable } = this.props;\r\n\r\n    if (editable && lane && createCard) {\r\n      createCard(board.id, lane.id, 'Card');\r\n    }\r\n  };\r\n\r\n  moveCard = (cardId, fromLaneId) => {\r\n    const { lane, board, moveCard, editable } = this.props;\r\n\r\n    if (editable && lane && moveCard) {\r\n      moveCard(board.id, fromLaneId, lane.id, cardId);\r\n    }\r\n  };\r\n\r\n  deleteCard = id => {\r\n    const { lane, board, excludeAndDeleteCard, editable, onConfirm } = this.props;\r\n\r\n    if (editable && lane && excludeAndDeleteCard) {\r\n      let card = board.cards[id];\r\n      onConfirm(undefined, `Delete ${card.name}?`, () => excludeAndDeleteCard(board.id, lane.id, id));\r\n    }\r\n  };\r\n\r\n  deleteLane = () => {\r\n    const { lane, board, excludeAndDeleteLane, parentId, editable, onConfirm } = this.props;\r\n\r\n    if (editable && lane && excludeAndDeleteLane) {\r\n      onConfirm(undefined, `Delete ${lane.name}?`, () => excludeAndDeleteLane(board.id, parentId, lane.id));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { lane, editable } = this.props;\r\n\r\n    return (\r\n      <div id={lane.id} className=\"lane-wrapper\">\r\n        <div className=\"lane-header card-header border rounded-0\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{lane.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-file text-muted\"\r\n                  title=\"card\"\r\n                  onClick={this.createCard}\r\n                />\r\n                <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted\"\r\n                  title=\"delete\"\r\n                  onClick={this.deleteLane}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"lane-body\"\r\n          onDragOver={e => {\r\n            if (e.dataTransfer.types.includes('card')) {\r\n              e.preventDefault();\r\n            }\r\n          }}\r\n          onDrop={e => {\r\n            e.preventDefault();\r\n            let cardId = e.dataTransfer.getData('card');\r\n            let laneId = e.dataTransfer.getData('parent');\r\n            this.moveCard(cardId, laneId);\r\n          }}\r\n        >\r\n          {this.renderCards()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.board;\r\n  let lane = board.lanes[ownProps.lane.id];\r\n  return { board, lane };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createCard, moveCard, excludeAndDeleteCard, excludeAndDeleteLane }\r\n)(CardLane);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  createLane,\r\n  createCardLane,\r\n  excludeAndDeleteLane\r\n} from '../../actions/lane';\r\nimport Lane from './Lane';\r\n\r\nclass CompositeLane extends React.Component {\r\n  renderLanes() {\r\n    const { lane, board, editable, onConfirm } = this.props;\r\n\r\n    if (!lane || !lane.children) {\r\n      return null;\r\n    }\r\n\r\n    return lane.children\r\n      .map(id => board.lanes[id])\r\n      .filter(lane => lane)\r\n      .map(child => (\r\n        <Lane\r\n          key={child.id}\r\n          lane={child}\r\n          board={board}\r\n          parentId={lane.id}\r\n          editable={editable}\r\n          onConfirm={onConfirm}\r\n        />\r\n      ));\r\n  }\r\n\r\n  createChild = () => {\r\n    const { lane, board, createCardLane, editable } = this.props;\r\n\r\n    if (editable && lane && createCardLane) {\r\n      createCardLane(board.id, lane.id, 'CardLane');\r\n    }\r\n  };\r\n\r\n  deleteLane = () => {\r\n    const {\r\n      lane,\r\n      board,\r\n      excludeAndDeleteLane,\r\n      parentId,\r\n      editable,\r\n      onConfirm\r\n    } = this.props;\r\n\r\n    if (editable && lane && excludeAndDeleteLane) {\r\n      onConfirm(undefined, `Delete ${lane.name}?`, () =>\r\n        excludeAndDeleteLane(board.id, parentId, lane.id)\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { lane, editable } = this.props;\r\n\r\n    return (\r\n      <div id={lane.id} className=\"lane-wrapper\">\r\n        <div className=\"lane-header card-header border rounded-0\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{lane.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-file text-muted\"\r\n                  title=\"lane\"\r\n                  onClick={this.createChild}\r\n                />\r\n                <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted\"\r\n                  title=\"delete\"\r\n                  onClick={this.deleteLane}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"lane-body\">{this.renderLanes()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.board;\r\n  let lane = board.lanes[ownProps.lane.id];\r\n  return { board, lane };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createLane, createCardLane, excludeAndDeleteLane }\r\n)(CompositeLane);\r\n","import React from 'react';\r\nimport CardLane from './CardLane';\r\nimport CompositeLane from './CompositeLane';\r\n\r\nexport default ({ lane, board, parentId, editable, onConfirm }) => {\r\n  return lane.type === 'C' ? (\r\n    <CardLane key={lane.id} lane={lane} board={board} parentId={parentId} editable={editable} onConfirm={onConfirm}/>\r\n  ) : (\r\n    <CompositeLane key={lane.id} lane={lane} board={board} parentId={parentId} editable={editable} onConfirm={onConfirm}/>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Lane from './Lane';\r\n\r\nclass Body extends React.Component {\r\n  renderLanes() {\r\n    const { board, editable, onConfirm } = this.props;\r\n\r\n    if (!board || !board.children) {\r\n      return null;\r\n    }\r\n\r\n    return board.children\r\n      .map(id => board.lanes[id])\r\n      .filter(lane => lane)\r\n      .map(lane => (\r\n        <Lane\r\n          key={lane.id}\r\n          lane={lane}\r\n          board={board}\r\n          parentId={board.id}\r\n          editable={editable}\r\n          onConfirm={onConfirm}\r\n        />\r\n      ));\r\n  }\r\n\r\n  render() {\r\n    const board = this.props.board;\r\n    const layout = (board && board.layout) || 'V';\r\n    const style = layout === 'V' ? 'flex-column' : 'flex-row';\r\n\r\n    return (\r\n      <div className={`board-body d-flex ${style}`}>{this.renderLanes()}</div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { board: state.board };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Body);\r\n","const round = number => Math.round(number * 100) / 100;\r\n\r\nexport default createStore => (reducer, initialState, enhancer) => {\r\n  const monitoredReducer = (state, action) => {\r\n    const start = performance.now();\r\n    const newState = reducer(state, action);\r\n    const end = performance.now();\r\n    const diff = round(end - start);\r\n\r\n    console.log('reducer process time:', diff);\r\n\r\n    return newState;\r\n  };\r\n\r\n  return createStore(monitoredReducer, initialState, enhancer);\r\n};\r\n","export default store => next => action => {\r\n  console.group(action.type || 'THUNK');\r\n  console.info('dispatching', action);\r\n  let result = next(action);\r\n  console.log('next state', store.getState());\r\n  console.groupEnd();\r\n  return result;\r\n};\r\n","import { SIGN_IN, SIGN_OUT } from '../actions/types';\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: null,\r\n  userProfile: null\r\n};\r\n\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userProfile: action.payload };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userProfile: null };\r\n    default:\r\n      return state;\r\n  }\r\n};","import { combineReducers } from 'redux'\r\nimport authReducer from './authReducer';\r\nimport boardsReducer from './boardsReducer';\r\nimport boardReducer from './boardReducer';\r\nimport filterReducer from './filterReducer'\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  boards: boardsReducer,\r\n  board: boardReducer,\r\n  filter: filterReducer\r\n})\r\n","import _ from 'lodash';\r\nimport {\r\n  FETCH_BOARDS,\r\n  CREATE_BOARD,\r\n  RENAME_BOARD,\r\n  SHARE_BOARD,\r\n  DELETE_BOARD\r\n} from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_BOARDS:\r\n      return { ..._.mapKeys(action.payload, 'id') };\r\n\r\n    case CREATE_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n\r\n    case RENAME_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n\r\n    case SHARE_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n\r\n    case DELETE_BOARD:\r\n      return _.omit(state, action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import _ from 'lodash';\r\nimport {\r\n  FETCH_BOARD,\r\n  CLEAN_BOARD,\r\n  LAYOUT_BOARD,\r\n  FETCH_LANE,\r\n  APPEND_LANE,\r\n  EXCLUDE_LANE,\r\n  CREATE_LANE,\r\n  DELETE_LANE,\r\n  FETCH_CARD,\r\n  APPEND_CARD,\r\n  EXCLUDE_CARD,\r\n  CREATE_CARD,\r\n  DELETE_CARD\r\n} from '../actions/types';\r\n\r\nconst formatBoard = payload => {\r\n  let walkFn = (el, visitFn) => {\r\n    visitFn(el);\r\n\r\n    if (el.lanes) {\r\n      el.lanes.forEach(i => walkFn(i, visitFn));\r\n    }\r\n\r\n    if (el.cards) {\r\n      el.cards.forEach(i => walkFn(i, visitFn));\r\n    }\r\n  };\r\n\r\n  let lanes = [];\r\n  let cards = [];\r\n\r\n  walkFn(payload, el => {\r\n    if (el.type) {\r\n      let children = (el.lanes || el.cards || []).map(i => i.id);\r\n      lanes.push(_.omit({ ...el, children }, ['lanes', 'cards']));\r\n    } else if (el.id !== payload.id) {\r\n      cards.push(el);\r\n    }\r\n  });\r\n\r\n  return {\r\n    ...payload,\r\n    children: (payload.lanes || []).map(i => i.id),\r\n    lanes: _.mapKeys(lanes, 'id'),\r\n    cards: _.mapKeys(cards, 'id')\r\n  };\r\n};\r\n\r\nexport default (state = null, action) => {\r\n  let lane = null;\r\n  switch (action.type) {\r\n    case FETCH_BOARD:\r\n      return formatBoard(action.payload);\r\n    case CLEAN_BOARD:\r\n      return null;\r\n\r\n    case LAYOUT_BOARD:\r\n      return { ...state, layout: action.payload };\r\n\r\n    case FETCH_LANE:\r\n      return {\r\n        ...state,\r\n        lanes: {\r\n          ...state.lanes,\r\n          [action.payload.id]: {\r\n            ...action.payload,\r\n            children: action.payload.children || []\r\n          }\r\n        }\r\n      };\r\n\r\n    case CREATE_LANE:\r\n      return {\r\n        ...state,\r\n        lanes: {\r\n          ...state.lanes,\r\n          [action.payload.id]: {\r\n            ...action.payload,\r\n            children: []\r\n          }\r\n        }\r\n      };\r\n\r\n    case DELETE_LANE:\r\n      return state.lanes[action.payload.laneId]\r\n        ? { ...state, lanes: _.omit(state.lanes, action.payload.laneId) }\r\n        : state;\r\n\r\n    case APPEND_LANE:\r\n      lane = state.lanes[action.payload.parentId];\r\n      if (lane) {\r\n        lane.children = lane.children || [];\r\n        lane.children.push(action.payload.laneId);\r\n      } else {\r\n        state.children.push(action.payload.laneId);\r\n      }\r\n      return { ...state };\r\n\r\n    case EXCLUDE_LANE:\r\n      if (state.lanes[action.payload.parentId]) {\r\n        state.lanes[action.payload.parentId].children = _.pull(\r\n          state.lanes[action.payload.parentId].children,\r\n          action.payload.laneId\r\n        );\r\n      } else {\r\n        state.children = _.pull(state.children, action.payload.laneId);\r\n      }\r\n      return { ...state };\r\n\r\n    case APPEND_CARD:\r\n      if (state.lanes[action.payload.laneId]) {\r\n        state.lanes[action.payload.laneId].children.push(action.payload.cardId);\r\n        return { ...state };\r\n      } else {\r\n        return state;\r\n      }\r\n\r\n    case EXCLUDE_CARD:\r\n      if (state.lanes[action.payload.laneId]) {\r\n        state.lanes[action.payload.laneId].children = _.pull(\r\n          state.lanes[action.payload.laneId].children,\r\n          action.payload.cardId\r\n        );\r\n        return { ...state };\r\n      } else {\r\n        return state;\r\n      }\r\n\r\n    case CREATE_CARD:\r\n    case FETCH_CARD:\r\n      return {\r\n        ...state,\r\n        cards: {\r\n          ...state.cards,\r\n          [action.payload.id]: action.payload\r\n        }\r\n      };\r\n\r\n    case DELETE_CARD:\r\n      return state.cards[action.payload.cardId]\r\n        ? { ...state, cards: _.omit(state.cards, action.payload.cardId) }\r\n        : state;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  FILTER_BOARDS\r\n} from '../actions/types';\r\n\r\nexport default (state = '', action) => {\r\n  switch (action.type) {\r\n    case FILTER_BOARDS:\r\n      return action.filter\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport monitorReducerEnhancer from './enhancers/monitorReducer';\r\nimport loggerMiddleware from './middleware/logger';\r\nimport rootReducer from './reducers';\r\n\r\nconst configureStore = () => {\r\n  const middlewares = [loggerMiddleware, thunkMiddleware];\r\n  const middlewareEnhancer = applyMiddleware(...middlewares);\r\n\r\n  const enhancers = [middlewareEnhancer, monitorReducerEnhancer];\r\n  const composedEnhancers = composeWithDevTools(...enhancers);\r\n\r\n  return createStore(rootReducer, {}, composedEnhancers);\r\n};\r\n\r\nexport default configureStore();\r\n","import { fetchBoard, deleteBoard } from '../actions/board';\r\nimport { fetchLane, deleteLane } from '../actions/lane';\r\nimport { fetchCard, deleteCard } from '../actions/card';\r\nimport store from '../store';\r\n\r\nconst REFRESHCARDNOTIFICATION = 0;\r\nconst REFRESHLANENOTIFICATION = 1;\r\nconst REFRESHBOARDNOTIFICATION = 2;\r\nconst REMOVECARDNOTIFICATION = 3;\r\nconst REMOVELANENOTIFICATION = 4;\r\nconst REMOVEBOARDNOTIFICATION = 5;\r\nconst CREATECARDNOTIFICATION = 6;\r\nconst CREATELANENOTIFICATION = 7;\r\nconst CREATEBOARDNOTIFICATION = 8;\r\n\r\nlet socket = null;\r\n\r\nfunction createSocket(msg) {\r\n  let conn = new WebSocket(`${process.env.REACT_APP_WS_URL}/v1/api/notify`);\r\n\r\n  conn.onopen = function(evt) {\r\n    console.log('websocket opened');\r\n    if (msg) {\r\n      sendMessage(conn, msg);\r\n    }\r\n  };\r\n\r\n  conn.onclose = function(evt) {\r\n    console.log('websocket closed');\r\n    socket = null;\r\n  };\r\n\r\n  conn.onmessage = function(evt) {\r\n    const ns = JSON.parse(evt.data);\r\n    console.log('websocket: receive', ns);\r\n    if (ns && ns.length) {\r\n      for (let n of ns) {\r\n        processNotification(n);\r\n      }\r\n    } else {\r\n      console.log('array is expected by socket!');\r\n    }\r\n  };\r\n\r\n  return conn;\r\n}\r\n\r\nfunction sendMessage(ws, msg) {\r\n  console.log('websocket: send', JSON.parse(msg));\r\n  ws.send(msg);\r\n}\r\n\r\nfunction processNotification(msg) {\r\n  switch (msg.type) {\r\n    case CREATECARDNOTIFICATION:\r\n    case REFRESHCARDNOTIFICATION:\r\n      fetchCard(msg.board_id, msg.id)(store.dispatch);\r\n      return;\r\n    case CREATELANENOTIFICATION:\r\n    case REFRESHLANENOTIFICATION:\r\n      fetchLane(msg.board_id, msg.id)(store.dispatch);\r\n      return;\r\n    case CREATEBOARDNOTIFICATION:\r\n    case REFRESHBOARDNOTIFICATION:\r\n      fetchBoard(msg.board_id)(store.dispatch);\r\n      return;\r\n    case REMOVECARDNOTIFICATION:\r\n      deleteCard(msg.board_id, undefined, msg.id, true)(store.dispatch);\r\n      return;\r\n    case REMOVELANENOTIFICATION:\r\n      deleteLane(msg.board_id, undefined, msg.id, true)(store.dispatch);\r\n      return;\r\n    case REMOVEBOARDNOTIFICATION:\r\n      deleteBoard(msg.board_id, true)(store.dispatch);\r\n      return;\r\n    default:\r\n  }\r\n}\r\n\r\nexport default msg => {\r\n  if (!socket) {\r\n    console.log('websocket not available');\r\n    socket = createSocket(msg);\r\n    return;\r\n  }\r\n\r\n  sendMessage(socket, msg);\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './board/Header';\r\nimport Body from './board/Body';\r\nimport socket from '../apis/socket';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { fetchBoard, cleanBoard } from '../actions/board';\r\n\r\nclass Board extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n\r\n    this.state = {\r\n      show: false,\r\n      title: 'Confirm',\r\n      question: 'Are you sure?',\r\n      yesFn: this.handleClose\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    const { fetchBoard } = this.props;\r\n\r\n    fetchBoard(id);\r\n\r\n    socket(JSON.stringify({ id }));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { cleanBoard } = this.props;\r\n    \r\n    cleanBoard();\r\n\r\n    socket(JSON.stringify({ id: '' }));\r\n  }\r\n\r\n  handleClose(fn) {\r\n    if (fn && typeof fn == 'function') {\r\n      fn();\r\n    }\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow(title = 'Confirm', question = 'Are you sure?', fn) {\r\n    this.setState({\r\n      show: true,\r\n      title,\r\n      question,\r\n      yesFn: () => this.handleClose(fn)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { board, editable } = this.props;\r\n\r\n    if (!board) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Header board={board} editable={editable} />\r\n        <Body board={board} editable={editable} onConfirm={this.handleShow} />\r\n        <Modal show={this.state.show} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.state.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>{this.state.question}</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={this.state.yesFn}>\r\n              Yes\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.board && state.board.id === ownProps.match.params.id ? state.board : null;\r\n  let editable = state.auth.isSignedIn && board && board.owner === state.auth.userProfile.id;\r\n\r\n  return { board, editable };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoard, cleanBoard }\r\n)(Board);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signOut } from '../actions/auth';\r\n\r\nclass GoogleAuth extends React.Component {\r\n  componentDidMount() {\r\n    window.gapi.load('client:auth2', () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId: `${process.env.REACT_APP_AUTH_CLIENTID}`,\r\n          scope: 'email'\r\n        })\r\n        .then(() => {\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n        });\r\n    });\r\n  }\r\n\r\n  onAuthChange = isSignedIn => {\r\n    if (isSignedIn) {\r\n      const profile = this.auth.currentUser.get().getBasicProfile();\r\n      const payload = {\r\n        id: profile.getId(),\r\n        email: profile.getEmail(),\r\n        name: profile.getName()\r\n      };\r\n      this.props.signIn(payload);\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n\r\n  render() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button\r\n          onClick={this.onSignOutClick}\r\n          className=\"btn btn-info btn-sm\"\r\n          title={this.props.profile.name}\r\n        >\r\n          <i className=\"fa fa-fw fa-google\" />\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button\r\n          onClick={this.onSignInClick}\r\n          className=\"btn btn-info btn-sm\"\r\n        >\r\n          <i className=\"fa fa-fw fa-google\" />\r\n          Sign In\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { isSignedIn: state.auth.isSignedIn, profile: state.auth.userProfile };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { signIn, signOut }\r\n)(GoogleAuth);\r\n","import {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n} from './types';\r\n\r\nexport const signIn = userId => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createBoard, filterBoards } from '../actions/board';\r\nimport GoogleAuth from './GoogleAuth';\r\n\r\nconst Header = ({ secure, owner, visible, createBoard, filterBoards }) => {\r\n  let input;\r\n\r\n  const createButton = () => {\r\n    if (!secure) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"input-group-append\">\r\n        <button\r\n          className=\"btn btn-info btn-sm\"\r\n          onClick={e => {\r\n            if (!input.value.trim()) {\r\n              return;\r\n            }\r\n            console.log(secure, owner);\r\n            createBoard(input.value, secure ? owner : 'anonymous');\r\n            input.value = '';\r\n          }}\r\n        >\r\n          <i className=\"fa fa-fw fa-check\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar bg-dark navbar-dark fixed-top\" style={{visibility: visible ? 'visible' : 'hidden'}}>\r\n      <div className=\"container-fluid no-gutters\">\r\n        <div className=\"col-12 col-sm-9 col-md-6 col-lg-3 ml-auto mr-auto\">\r\n          <form\r\n            className=\"input-group\"\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <GoogleAuth />\r\n              </div>\r\n              <input\r\n                type=\"search\"\r\n                className=\"form-control form-control-sm\"\r\n                placeholder=\"Board title...\"\r\n                ref={node => (input = node)}\r\n              />\r\n              {createButton()}\r\n              <div className=\"input-group-append\">\r\n                <button\r\n                  className=\"btn btn-info btn-sm\"\r\n                  onClick={e => {\r\n                    filterBoards(input.value.trim());\r\n                  }}\r\n                >\r\n                  <i className=\"fa fa-fw fa-search\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  secure: state.auth.isSignedIn,\r\n  owner: state.auth.userProfile && state.auth.userProfile.id,\r\n  visible: state.board == null\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createBoard, filterBoards }\r\n)(Header);\r\n","import { createBrowserHistory as createHistory } from 'history';\r\n\r\nexport default createHistory();","import React from 'react';\nimport Boards from './Boards';\nimport Board from './Board';\nimport Header from './Header';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from '../history';\n\nconst App = () => (\n  <Router history={history}>\n    <React.Fragment>\n      <Header />\n      <Switch>\n        <Route\n          path={`${process.env.REACT_APP_CONTEXT_ROOT}/`}\n          exact\n          component={Boards}\n        />\n        <Route\n          path={`${process.env.REACT_APP_CONTEXT_ROOT}/board/:id`}\n          exact\n          component={Board}\n        />\n      </Switch>\n    </React.Fragment>\n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport store from './store';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}