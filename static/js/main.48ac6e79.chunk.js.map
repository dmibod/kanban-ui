{"version":3,"sources":["serviceWorker.js","apis/index.js","apis/worker.js","actions/board.js","actions/types.js","components/GoogleAuth.js","actions/auth.js","components/boards/Header.js","components/boards/Item.js","components/boards/List.js","components/Boards.js","actions/lane.js","components/board/Header.js","actions/card.js","components/board/card/Body.js","components/board/Card.js","components/board/CardLane.js","components/board/CompositeLane.js","components/board/Lane.js","components/board/Body.js","enhancers/monitorReducer.js","middleware/logger.js","reducers/authReducer.js","reducers/visibilityFilter.js","reducers/index.js","reducers/boardReducer.js","store.js","apis/socket.js","components/Board.js","history.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","axios","create","baseURL","process","worker","boardId","commands","console","log","server","post","concat","fetchBoard","id","_ref2","Object","asyncToGenerator","regenerator_default","a","mark","_callee2","dispatch","response","wrap","_context2","prev","next","get","sent","type","payload","data","stop","_x2","apply","this","arguments","notifyDeleteBoard","GoogleAuth","onAuthChange","isSignedIn","profile","_this","auth","currentUser","getBasicProfile","getId","email","getEmail","name","getName","props","signIn","signOut","onSignInClick","onSignOutClick","_this2","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","react_default","createElement","onClick","className","title","React","Component","connect","state","userProfile","userId","secure","owner","_ref3","_callee3","_context3","layout","shared","_x3","createBoard","filter","setVisibilityFilter","_ref","input","onSubmit","e","preventDefault","components_GoogleAuth","placeholder","ref","node","value","trim","Item","description","editable","shareBoard","deleteBoard","react_router_dom","style","textDecoration","fontWeight","to","display","List","_this$props","fetchBoards","currentUserId","prevProps","_this$props2","boards","map","board","boards_Item","assign","key","objectSpread","values","visibilityFilter","toLowerCase","includes","_callee","_context","t0","_x","_ref6","_callee6","_context6","put","_x6","_ref7","_callee7","_context7","delete","_x7","Boards","boards_Header","boards_List","fetchLane","laneId","createLane","board_id","parent_id","deleteLane","parentId","notifyDeleteLane","update","_ref5","_callee5","_context5","_x5","_ref4","_callee4","_context4","_x4","lane","defaultValue","layoutIcon","layoutButton","fetchCard","cardId","notifyDeleteCard","card_Body","card","overflow","Card","deleteCard","draggable","onDragStart","dataTransfer","setData","CardLane","createCard","moveCard","fromLaneId","_this$props3","onConfirm","cards","undefined","_this$props4","_this$props5","children","_this3","_this$props6","onDragOver","types","onDrop","getData","renderCards","ownProps","lanes","toLaneId","CompositeLane","createChild","createCardLane","child","Lane","renderLanes","board_CardLane","board_CompositeLane","Body","monitorReducer","createStore","reducer","initialState","enhancer","action","number","start","performance","now","newState","end","diff","Math","round","logger","store","group","info","result","getState","groupEnd","INTIAL_STATE","length","combineReducers","_","mapKeys","defineProperty","walkFn","el","visitFn","forEach","i","push","omit","formatBoard","pull","configureStore","middlewares","loggerMiddleware","thunkMiddleware","enhancers","applyMiddleware","monitorReducerEnhancer","composedEnhancers","composeWithDevTools","rootReducer","REFRESHCARDNOTIFICATION","REFRESHLANENOTIFICATION","REFRESHBOARDNOTIFICATION","REMOVECARDNOTIFICATION","REMOVELANENOTIFICATION","REMOVEBOARDNOTIFICATION","CREATECARDNOTIFICATION","CREATELANENOTIFICATION","CREATEBOARDNOTIFICATION","socket","sendMessage","ws","msg","JSON","parse","send","processNotification","apis_socket","conn","WebSocket","onopen","evt","onclose","onmessage","notifiactions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","err","return","createSocket","Board","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleShow","bind","assertThisInitialized","handleClose","show","question","yesFn","params","stringify","fn","setState","board_Header","board_Body","Modal","onHide","Header","closeButton","Title","Footer","Button","variant","createHistory","App","react_router","history","path","exact","component","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.48ac6e79.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL\r\n});","import server from './index';\r\n\r\nexport const UPDATECARD = 0;\r\nexport const REMOVECARD = 1;\r\nexport const UPDATELANE = 2;\r\nexport const REMOVELANE = 3;\r\nexport const EXCLUDECHILD = 4;\r\nexport const APPENDCHILD = 5;\r\nexport const INSERTBEFORE = 6;\r\nexport const INSERTAFTER = 7;\r\nexport const LAYOUTBOARD = 8;\r\n\r\nlet sharedWorker = null;\r\n\r\nif (false && window.SharedWorker) {\r\n  sharedWorker = new SharedWorker(`${process.env.REACT_APP_CONTEXT_ROOT}/worker.js`);\r\n  sharedWorker.port.start();\r\n\r\n  console.log('shared worker: started');\r\n\r\n  sharedWorker.port.addEventListener('message', event => {\r\n    console.log('main: message received from shared worker', event.data);\r\n  });\r\n}\r\n\r\nexport default (boardId, commands) => {\r\n  if (!sharedWorker) {\r\n    console.log('main: shared worker is not available');\r\n\r\n    server.post(`/v1/api/command/${boardId}`, commands);\r\n    \r\n    return;\r\n  }\r\n\r\n  console.log('main: post commands to shared worker', commands);\r\n\r\n  sharedWorker.port.postMessage({ boardId, commands });\r\n\r\n  console.log('main: commands posted to shared worker');\r\n};\r\n","import server from '../apis/index';\r\nimport worker, { LAYOUTBOARD } from '../apis/worker';\r\n//import { root } from '../apis/urls';\r\n//import history from '../history';\r\n\r\nimport {\r\n  CREATE_BOARD,\r\n  FETCH_BOARDS,\r\n  FETCH_BOARD,\r\n  DELETE_BOARD,\r\n  RENAME_BOARD,\r\n  SHARE_BOARD,\r\n  LAYOUT_BOARD,\r\n  NOTIFY_DELETE_BOARD\r\n\r\n} from './types';\r\n\r\nexport const setVisibilityFilter = filter => ({\r\n  type: 'SET_VISIBILITY_FILTER',\r\n  filter\r\n});\r\n\r\nexport const fetchBoards = owner => async dispatch => {\r\n  const response = owner\r\n    ? await server.get(`/v1/api/board?owner=${owner}`)\r\n    : await server.get('/v1/api/board');\r\n\r\n  dispatch({ type: FETCH_BOARDS, payload: response.data });\r\n};\r\n\r\nexport const fetchBoard = id => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${id}`);\r\n\r\n  dispatch({ type: FETCH_BOARD, payload: response.data });\r\n};\r\n\r\nexport const createBoard = (name, owner) => async dispatch => {\r\n  const response = await server.post('/v1/api/board', { name, owner, layout: 'H', shared: false });\r\n\r\n  dispatch({ type: CREATE_BOARD, payload: response.data });\r\n};\r\n\r\nexport const layoutBoard = (id, layout) => async dispatch => {\r\n  worker(id, [{ id, board_id: id, type: LAYOUTBOARD, payload: { layout } }]);\r\n\r\n  dispatch({ type: LAYOUT_BOARD, payload: { id, layout } });\r\n};\r\n\r\nexport const renameBoard = (id, name) => async dispatch => {\r\n  const response = await server.put(`/v1/api/board/${id}/rename`, { name });\r\n\r\n  dispatch({ type: RENAME_BOARD, payload: response.data });\r\n};\r\n\r\nexport const shareBoard = (id, shared) => async dispatch => {\r\n  const response = await server.put(`/v1/api/board/${id}/share`, { shared });\r\n\r\n  dispatch({ type: SHARE_BOARD, payload: response.data });\r\n};\r\n\r\nexport const deleteBoard = id => async dispatch => {\r\n  await server.delete(`/v1/api/board/${id}`);\r\n\r\n  dispatch({ type: DELETE_BOARD, payload: id });\r\n};\r\n\r\nexport const notifyDeleteBoard = id => dispatch => {\r\n  dispatch({ type: NOTIFY_DELETE_BOARD, payload: id });\r\n};\r\n","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\n\r\nexport const FETCH_BOARDS = 'FETCH_BOARDS';\r\nexport const FETCH_BOARD = 'FETCH_BOARD';\r\nexport const CREATE_BOARD = 'CREATE_BOARD';\r\nexport const DELETE_BOARD = 'DELETE_BOARD';\r\nexport const RENAME_BOARD = 'RENAME_BOARD';\r\nexport const SHARE_BOARD = 'SHARE_BOARD';\r\nexport const LAYOUT_BOARD = 'LAYOUT_BOARD';\r\nexport const NOTIFY_DELETE_BOARD = 'NOTIFY_DELETE_BOARD';\r\n\r\nexport const FETCH_LANE = 'FETCH_LANE'\r\nexport const CREATE_LANE = 'CREATE_LANE';\r\nexport const APPEND_LANE = 'APPEND_LANE';\r\nexport const EXCLUDE_LANE = 'EXCLUDE_LANE';\r\nexport const DELETE_LANE = 'DELETE_LANE';\r\nexport const NOTIFY_DELETE_LANE = 'NOTIFY_DELETE_LANE';\r\n\r\nexport const FETCH_CARD = 'FETCH_CARD'\r\nexport const CREATE_CARD = 'CREATE_CARD';\r\nexport const APPEND_CARD = 'APPEND_CARD';\r\nexport const EXCLUDE_CARD = 'EXCLUDE_CARD';\r\nexport const DELETE_CARD = 'DELETE_CARD';\r\nexport const NOTIFY_DELETE_CARD = 'NOTIFY_DELETE_CARD';","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signOut } from '../actions/auth';\r\n\r\nclass GoogleAuth extends React.Component {\r\n  componentDidMount() {\r\n    window.gapi.load('client:auth2', () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId: `${process.env.REACT_APP_AUTH_CLIENTID}`,\r\n          scope: 'email'\r\n        })\r\n        .then(() => {\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n        });\r\n    });\r\n  }\r\n\r\n  onAuthChange = isSignedIn => {\r\n    if (isSignedIn) {\r\n      const profile = this.auth.currentUser.get().getBasicProfile();\r\n      const payload = {\r\n        id: profile.getId(),\r\n        email: profile.getEmail(),\r\n        name: profile.getName()\r\n      };\r\n      this.props.signIn(payload);\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n\r\n  render() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button\r\n          onClick={this.onSignOutClick}\r\n          className=\"btn btn-info btn-sm\"\r\n          title={this.props.profile.name}\r\n        >\r\n          <i className=\"fa fa-fw fa-google\" />\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button\r\n          onClick={this.onSignInClick}\r\n          className=\"btn btn-info btn-sm\"\r\n        >\r\n          <i className=\"fa fa-fw fa-google\" />\r\n          Sign In\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { isSignedIn: state.auth.isSignedIn, profile: state.auth.userProfile };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { signIn, signOut }\r\n)(GoogleAuth);\r\n","import {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n} from './types';\r\n\r\nexport const signIn = userId => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createBoard, setVisibilityFilter } from '../../actions/board';\r\nimport GoogleAuth from '../GoogleAuth';\r\n\r\nconst Header = ({ secure, owner, create, filter }) => {\r\n  let input;\r\n\r\n  const createButton = () => {\r\n    if (!secure) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"input-group-append\">\r\n        <button\r\n          className=\"btn btn-info btn-sm\"\r\n          onClick={e => {\r\n            if (!input.value.trim()) {\r\n              return;\r\n            }\r\n            console.log(secure, owner);\r\n            create(input.value, secure ? owner : 'anonymous');\r\n            input.value = '';\r\n          }}\r\n        >\r\n          <i className=\"fa fa-fw fa-check\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar bg-dark navbar-dark fixed-top\">\r\n      <div className=\"container-fluid no-gutters\">\r\n        <div className=\"col-12 col-sm-9 col-md-6 col-lg-3 ml-auto mr-auto\">\r\n          <form\r\n            className=\"input-group\"\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <GoogleAuth />\r\n              </div>\r\n              <input\r\n                type=\"search\"\r\n                className=\"form-control form-control-sm\"\r\n                placeholder=\"Board title...\"\r\n                ref={node => (input = node)}\r\n              />\r\n              {createButton()}\r\n              <div className=\"input-group-append\">\r\n                <button\r\n                  className=\"btn btn-info btn-sm\"\r\n                  onClick={e => {\r\n                    filter(input.value.trim());\r\n                  }}\r\n                >\r\n                  <i className=\"fa fa-fw fa-search\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  secure: state.auth.isSignedIn,\r\n  owner: state.auth.userProfile && state.auth.userProfile.id\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  create: (title, owner) => createBoard(title, owner)(dispatch),\r\n  filter: title => dispatch(setVisibilityFilter(title))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Item = ({ id, name, description, shared, editable, shareBoard, deleteBoard }) => (\r\n  <div id={`${id}`} className=\"card-wrapper float-left m-3\">\r\n    <div className=\"card shadow board\">\r\n      <div className=\"card-header\">\r\n        <div className=\"card-title mb-0\">\r\n          <div className=\"row mx-0\">\r\n            <div className=\"mr-auto\">\r\n              <Link\r\n                className=\"text-info\"\r\n                style={{ textDecoration: 'none', fontWeight: '500' }}\r\n                to={`${process.env.REACT_APP_CONTEXT_ROOT}/board/${id}`}\r\n              >\r\n                {name}\r\n              </Link>\r\n            </div>\r\n            <div\r\n              className=\"hover-card-badges\"\r\n              style={{ display: editable ? 'inline' : 'none' }}\r\n            >\r\n              <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n              <i\r\n                className=\"fa fa-fw fa-eye text-muted\"\r\n                title=\"public\"\r\n                style={{ display: shared ? 'inline' : 'none' }}\r\n                onClick={() => shareBoard(id, false)}\r\n              />\r\n              <i\r\n                className=\"fa fa-fw fa-eye-slash text-muted\"\r\n                title=\"private\"\r\n                style={{ display: shared ? 'none' : 'inline' }}\r\n                onClick={() => shareBoard(id, true)}\r\n              />\r\n              <i\r\n                className=\"fa fa-fw fa-trash text-muted\"\r\n                title=\"delete\"\r\n                onClick={() => deleteBoard(id)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"board-body-wrapper\">\r\n          <div className=\"card-text small text-justify\">{description}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nItem.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Item from './Item';\r\nimport {\r\n  fetchBoards,\r\n  shareBoard,\r\n  deleteBoard\r\n} from '../../actions/board';\r\n\r\nclass List extends React.Component {\r\n  componentDidMount() {\r\n    let { fetchBoards, currentUserId } = this.props;\r\n\r\n    fetchBoards(currentUserId);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let { fetchBoards, currentUserId } = this.props;\r\n\r\n    if (currentUserId !== prevProps.currentUserId) {\r\n      fetchBoards(currentUserId);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid board-list\">\r\n        <div className=\"lane-wrapper lane-item\">\r\n          <div className=\"lane-body\">\r\n            {this.props.boards.map(board => (\r\n              <Item\r\n                key={board.id}\r\n                {...{\r\n                  ...board,\r\n                  editable: this.props.isSignedIn && this.props.currentUserId === board.owner,\r\n                  shareBoard: this.props.shareBoard,\r\n                  deleteBoard: this.props.deleteBoard\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\nTodoList.propTypes = {\r\n  todos: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      selected: PropTypes.bool.isRequired,\r\n      text: PropTypes.string.isRequired\r\n    }).isRequired\r\n  ).isRequired,\r\n  toggleTodo: PropTypes.func.isRequired,\r\n  removeTodo: PropTypes.func.isRequired\r\n};\r\n*/\r\n\r\nconst mapStateToProps = state => {\r\n  let boards = Object.values(state.boards);\r\n  let filter = state.visibilityFilter.toLowerCase();\r\n\r\n  return {\r\n    boards: boards.filter(board => (board.name || '').toLowerCase().includes(filter)),\r\n    currentUserId: state.auth.isSignedIn ? state.auth.userProfile.id : null,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoards, shareBoard, deleteBoard }\r\n)(List);\r\n","import React from 'react';\r\nimport Header from './boards/Header';\r\nimport List from './boards/List';\r\n\r\nconst Boards = () => {\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <List />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Boards;","import server from '../apis/index';\r\nimport worker, { APPENDCHILD, EXCLUDECHILD, REMOVELANE } from '../apis/worker';\r\n\r\nimport {\r\n  FETCH_LANE,\r\n  CREATE_LANE,\r\n  APPEND_LANE,\r\n  EXCLUDE_LANE,\r\n  DELETE_LANE,\r\n  NOTIFY_DELETE_LANE\r\n\r\n} from './types';\r\n\r\nexport const fetchLane = (boardId, laneId) => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${boardId}/lanes/${laneId}`);\r\n\r\n  dispatch({ type: FETCH_LANE, payload: { ...response.data, boardId }  });\r\n};\r\n\r\nexport const createLane = (boardId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/lanes`, { name, layout: 'H', type: 'L' });\r\n\r\n  dispatch({ type: CREATE_LANE, payload: { ...response.data, boardId } });\r\n\r\n  worker(boardId, [{ id: response.data.id, board_id: boardId, type: APPENDCHILD, payload: { parent_id: boardId } }]);\r\n};\r\n\r\nexport const createCardLane = (boardId, laneId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/lanes`, { name, type: 'C' });\r\n\r\n  dispatch({ type: CREATE_LANE, payload: { ...response.data, boardId } });\r\n\r\n  worker(boardId, [{ id: response.data.id, board_id: boardId, type: APPENDCHILD, payload: { parent_id: laneId } }]);\r\n};\r\n\r\nexport const excludeLane = (boardId, parentId, laneId) => async dispatch => {\r\n  worker(boardId, [{ id: laneId, board_id: boardId, type: EXCLUDECHILD, payload: { parent_id: parentId } }]);\r\n\r\n  dispatch({ type: EXCLUDE_LANE, payload: { boardId, laneId, parentId } });\r\n};\r\n\r\nexport const appendLane = (boardId, parentId, laneId) => async dispatch => {\r\n  worker(boardId, [{ id: laneId, board_id: boardId, type: APPENDCHILD, payload: { parent_id: parentId } }]);\r\n\r\n  dispatch({ type: APPEND_LANE, payload: { boardId, laneId, parentId } });\r\n};\r\n\r\nexport const deleteLane = (boardId, laneId, parentId) => dispatch => {\r\n  dispatch({ type: EXCLUDE_LANE, payload: { boardId, laneId, parentId } });\r\n  dispatch({ type: DELETE_LANE, payload: { boardId, laneId } });\r\n\r\n  worker(boardId, [{ id: laneId, board_id: boardId, type: REMOVELANE, payload: { parent_id: parentId } }]);\r\n};\r\n\r\nexport const notifyDeleteLane = (boardId, laneId) => dispatch => {\r\n  //dispatch({ type: NOTIFY_DELnETE_LANE, payload: { boardId, laneId } });\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { renameBoard, layoutBoard } from '../../actions/board';\r\nimport { createLane } from '../../actions/lane';\r\n\r\nconst Header = ({ editable, update, layout, lane, board }) => {\r\n  let input;\r\n\r\n  const updateButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"input-group-append\">\r\n        <button\r\n          className=\"btn btn-success btn-sm\"\r\n          onClick={e => {\r\n            if (!input.value.trim()) {\r\n              return;\r\n            }\r\n            update(board.id, input.value);\r\n          }}\r\n        >\r\n          <i className=\"fa fa-fw fa-check\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const layoutButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    const layoutIcon = board.layout === 'V' ? 'fa-table' : 'fa-columns';\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-sm text-white\"\r\n        onClick={e => {\r\n          layout(board.id, board.layout === 'V' ? 'H' : 'V');\r\n        }}\r\n      >\r\n        <i className={`fa fa-fw ${layoutIcon}`} />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  const laneButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-sm text-white\"\r\n        onClick={e => {\r\n          lane(board.id, 'Lane');\r\n        }}\r\n      >\r\n        <i className=\"fa fa-fw fa-file\" />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar bg-dark navbar-dark\">\r\n      <div className=\"container-fluid no-gutters\">\r\n        <div className=\"col-12 col-sm-12 col-md-6 col-lg-3 ml-auto\">\r\n          <form\r\n            className=\"input-group ml-auto mr-auto\"\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <Link to={`${process.env.REACT_APP_CONTEXT_ROOT}/`} className=\"btn btn-success btn-sm\">\r\n                  <i className=\"fa fa-fw fa-home\" />\r\n                </Link>\r\n              </div>\r\n              <input\r\n                type=\"search\"\r\n                className=\"form-control form-control-sm\"\r\n                defaultValue={board.name}\r\n                ref={node => (input = node)}\r\n              />\r\n              {updateButton()}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"mr-auto\">\r\n          {laneButton()}\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-filter\" />\r\n          </button>\r\n          {layoutButton()}\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-gear\" />\r\n          </button>\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-refresh\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = () => {\r\n  return {\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { update: renameBoard, layout: layoutBoard, lane: createLane }\r\n)(Header);\r\n","import server from '../apis/index';\r\nimport worker, { APPENDCHILD, EXCLUDECHILD, REMOVECARD } from '../apis/worker';\r\n\r\nimport {\r\n  FETCH_CARD,\r\n  CREATE_CARD,\r\n  APPEND_CARD,\r\n  EXCLUDE_CARD,\r\n  DELETE_CARD,\r\n  NOTIFY_DELETE_CARD\r\n\r\n} from './types';\r\n\r\nexport const fetchCard = (boardId, cardId) => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${boardId}/cards/${cardId}`);\r\n\r\n  dispatch({ type: FETCH_CARD, payload: { ...response.data, boardId }  });\r\n};\r\n\r\nexport const createCard = (boardId, laneId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/cards`, { name });\r\n\r\n  dispatch({ type: CREATE_CARD, payload: { ...response.data, boardId } });\r\n\r\n  worker(boardId, [{ id: response.data.id, board_id: boardId, type: APPENDCHILD, payload: { parent_id: laneId } }]);\r\n};\r\n\r\nexport const moveCard = (boardId, fromLaneId, toLaneId, cardId) => async dispatch => {\r\n  dispatch({ type: EXCLUDE_CARD, payload: { boardId, laneId: fromLaneId, cardId } });\r\n  dispatch({ type: APPEND_CARD, payload: { boardId, laneId: toLaneId, cardId } });\r\n\r\n  let cmds = [\r\n    { id: cardId, board_id: boardId, type: EXCLUDECHILD, payload: { parent_id: fromLaneId } },\r\n    { id: cardId, board_id: boardId, type: APPENDCHILD, payload: { parent_id: toLaneId } }\r\n  ];\r\n\r\n  worker(boardId, cmds);\r\n};\r\n\r\nexport const excludeCard = (boardId, laneId, cardId) => async dispatch => {\r\n  worker(boardId, [{ id: cardId, board_id: boardId, type: EXCLUDECHILD, payload: { parent_id: laneId } }]);\r\n\r\n  dispatch({ type: EXCLUDE_CARD, payload: { boardId, laneId, cardId } });\r\n};\r\n\r\nexport const appendCard = (boardId, laneId, cardId) => async dispatch => {\r\n  worker(boardId, [{ id: cardId, board_id: boardId, type: APPENDCHILD, payload: { parent_id: laneId } }]);\r\n\r\n  dispatch({ type: APPEND_CARD, payload: { boardId, laneId, cardId } });\r\n};\r\n\r\nexport const deleteCard = (boardId, cardId, laneId) => dispatch => {\r\n  worker(boardId, [{ id: cardId, board_id: boardId, type: REMOVECARD, payload: { parent_id: laneId } }]);\r\n\r\n  dispatch({ type: EXCLUDE_CARD, payload: { boardId, laneId, cardId } });\r\n  dispatch({ type: DELETE_CARD, payload: { boardId, cardId } });\r\n};\r\n\r\nexport const notifyDeleteCard = (boardId, cardId) => dispatch => {\r\n  dispatch({ type: NOTIFY_DELETE_CARD, payload: { boardId, cardId } });\r\n};\r\n","import React from 'react';\r\n\r\nexport default card => {\r\n  return (\r\n    <div className=\"card-body py-2\" style={{ overflow: 'hidden' }}>\r\n      <div className=\"card-body-wrapper\">\r\n        <div className=\"card-text small text-justify\">{card.description}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport Body from './card/Body';\r\n\r\nexport default ({ board, lane, card, deleteCard, editable }) => {\r\n  return (\r\n    <div\r\n      id={card.id}\r\n      className=\"card-wrapper float-left m-3\"\r\n      draggable={editable ? 'true' : 'false'}\r\n      onDragStart={e => {\r\n        //e.dataTransfer.setData('id', e.target.id);\r\n        //e.dataTransfer.setData('card', e.target.id);\r\n        e.dataTransfer.setData('card', card.id);\r\n        e.dataTransfer.setData('parent', lane.id);\r\n      }}\r\n    >\r\n      <div className=\"card shadow item\">\r\n        <div className=\"card-header\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{card.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i className=\"fa fa-fw fa-pencil text-muted card-badge\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted card-badge\"\r\n                  title=\"edit\"\r\n                  onClick={() => deleteCard(card.id)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Body card={card} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deleteLane } from '../../actions/lane';\r\nimport { createCard, moveCard, deleteCard } from '../../actions/card';\r\nimport Card from './Card';\r\n\r\nclass CardLane extends React.Component {\r\n  renderCards() {\r\n    const { lane, board, editable } = this.props;\r\n\r\n    if (!lane || !lane.children) {\r\n      return null;\r\n    }\r\n\r\n    return lane.children\r\n      .map(id => board.cards[id])\r\n      .map(card => (\r\n        <Card\r\n          key={card.id}\r\n          board={board}\r\n          card={card}\r\n          lane={lane}\r\n          deleteCard={this.deleteCard}\r\n          editable={editable}\r\n        />\r\n      ));\r\n  }\r\n\r\n  createCard = () => {\r\n    const { lane, board, createCard, editable } = this.props;\r\n\r\n    if (editable && lane && createCard) {\r\n      createCard(board.id, lane.id, 'Card');\r\n    }\r\n  };\r\n\r\n  moveCard = (cardId, fromLaneId) => {\r\n    const { lane, board, moveCard, editable } = this.props;\r\n\r\n    if (editable && lane && moveCard) {\r\n      moveCard(board.id, fromLaneId, lane.id, cardId);\r\n    }\r\n  };\r\n\r\n  deleteCard = id => {\r\n    const { lane, board, deleteCard, editable, onConfirm } = this.props;\r\n\r\n    if (editable && lane && deleteCard) {\r\n      let card = board.cards[id];\r\n      onConfirm(undefined, `Delete ${card.name}?`, () => deleteCard(board.id, id, lane.id));\r\n    }\r\n  };\r\n\r\n  deleteLane = () => {\r\n    const { lane, board, deleteLane, parentId, editable, onConfirm } = this.props;\r\n\r\n    if (editable && lane && deleteLane) {\r\n      onConfirm(undefined, `Delete ${lane.name}?`, () => deleteLane(board.id, lane.id, parentId));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { lane, editable } = this.props;\r\n\r\n    return (\r\n      <div id={lane.id} className=\"lane-wrapper\">\r\n        <div className=\"lane-header card-header border rounded-0\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{lane.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-file text-muted\"\r\n                  title=\"card\"\r\n                  onClick={this.createCard}\r\n                />\r\n                <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted\"\r\n                  title=\"delete\"\r\n                  onClick={this.deleteLane}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"lane-body\"\r\n          onDragOver={e => {\r\n            if (e.dataTransfer.types.includes('card')) {\r\n              e.preventDefault();\r\n            }\r\n          }}\r\n          onDrop={e => {\r\n            e.preventDefault();\r\n            let cardId = e.dataTransfer.getData('card');\r\n            let laneId = e.dataTransfer.getData('parent');\r\n            this.moveCard(cardId, laneId);\r\n          }}\r\n        >\r\n          {this.renderCards()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.boards[ownProps.board.id];\r\n  let lane = board.lanes[ownProps.lane.id];\r\n  return { board, lane };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createCard, moveCard, deleteCard, deleteLane }\r\n)(CardLane);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createLane, createCardLane, deleteLane } from '../../actions/lane';\r\nimport Lane from './Lane';\r\n\r\nclass CompositeLane extends React.Component {\r\n  renderLanes() {\r\n    const { lane, board, editable, onConfirm } = this.props;\r\n\r\n    if (!lane || !lane.children) {\r\n      return null;\r\n    }\r\n\r\n    return lane.children.map(id => board.lanes[id]).map(child => (\r\n      <Lane key={child.id} lane={child} board={board} parentId={lane.id} editable={editable} onConfirm={onConfirm}/>\r\n    ));\r\n  }\r\n\r\n  createChild = () => {\r\n    const { lane, board, createCardLane, editable } = this.props;\r\n\r\n    if (editable && lane && createCardLane) {\r\n      createCardLane(board.id, lane.id, 'CardLane');\r\n    }\r\n  };\r\n\r\n  deleteLane = () => {\r\n    const { lane, board, deleteLane, parentId, editable, onConfirm } = this.props;\r\n\r\n    if (editable && lane && deleteLane) {\r\n      onConfirm(undefined, `Delete ${lane.name}?`, () => deleteLane(board.id, lane.id, parentId));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { lane, editable } = this.props;\r\n\r\n    return (\r\n      <div id={lane.id} className=\"lane-wrapper\">\r\n        <div className=\"lane-header card-header border rounded-0\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{lane.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-file text-muted\"\r\n                  title=\"lane\"\r\n                  onClick={this.createChild}\r\n                />\r\n                <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted\"\r\n                  title=\"delete\"\r\n                  onClick={this.deleteLane}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"lane-body\">{this.renderLanes()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.boards[ownProps.board.id];\r\n  let lane = board.lanes[ownProps.lane.id];\r\n  return { board, lane };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createLane, createCardLane, deleteLane }\r\n)(CompositeLane);\r\n","import React from 'react';\r\nimport CardLane from './CardLane';\r\nimport CompositeLane from './CompositeLane';\r\n\r\nexport default ({ lane, board, parentId, editable, onConfirm }) => {\r\n  return lane.type === 'C' ? (\r\n    <CardLane key={lane.id} lane={lane} board={board} parentId={parentId} editable={editable} onConfirm={onConfirm}/>\r\n  ) : (\r\n    <CompositeLane key={lane.id} lane={lane} board={board} parentId={parentId} editable={editable} onConfirm={onConfirm}/>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Lane from './Lane';\r\n\r\nclass Body extends React.Component {\r\n  renderLanes() {\r\n    const { board, editable, onConfirm } = this.props;\r\n\r\n    if (!board || !board.children) {\r\n      return null;\r\n    }\r\n\r\n    return board.children\r\n      .map(id => board.lanes[id])\r\n      .map(lane => (\r\n        <Lane\r\n          key={lane.id}\r\n          lane={lane}\r\n          board={board}\r\n          parentId={board.id}\r\n          editable={editable}\r\n          onConfirm={onConfirm}\r\n        />\r\n      ));\r\n  }\r\n\r\n  render() {\r\n    const board = this.props.board;\r\n    const layout = (board && board.layout) || 'V';\r\n    const style = layout === 'V' ? 'flex-column' : 'flex-row';\r\n    return <div className={`d-flex ${style}`}>{this.renderLanes()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    board: state.boards[ownProps.board.id]\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Body);\r\n","const round = number => Math.round(number * 100) / 100;\r\n\r\nexport default createStore => (reducer, initialState, enhancer) => {\r\n  const monitoredReducer = (state, action) => {\r\n    const start = performance.now();\r\n    const newState = reducer(state, action);\r\n    const end = performance.now();\r\n    const diff = round(end - start);\r\n\r\n    console.log('reducer process time:', diff);\r\n\r\n    return newState;\r\n  };\r\n\r\n  return createStore(monitoredReducer, initialState, enhancer);\r\n};\r\n","export default store => next => action => {\r\n  console.group(action.type || 'THUNK');\r\n  console.info('dispatching', action);\r\n  let result = next(action);\r\n  console.log('next state', store.getState());\r\n  console.groupEnd();\r\n  return result;\r\n};\r\n","import { SIGN_IN, SIGN_OUT } from '../actions/types';\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: null,\r\n  userProfile: null\r\n};\r\n\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userProfile: action.payload };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userProfile: null };\r\n    default:\r\n      return state;\r\n  }\r\n};","const visibilityFilter = (state = '', action) => {\r\n  switch (action.type) {\r\n    case 'SET_VISIBILITY_FILTER':\r\n      return action.filter\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default visibilityFilter","import { combineReducers } from 'redux'\r\nimport authReducer from './authReducer';\r\nimport boardReducer from './boardReducer';\r\nimport visibilityFilter from './visibilityFilter'\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  boards: boardReducer,\r\n  visibilityFilter\r\n})\r\n","import _ from 'lodash';\r\nimport {\r\n  FETCH_BOARDS,\r\n  FETCH_BOARD,\r\n  CREATE_BOARD,\r\n  RENAME_BOARD,\r\n  SHARE_BOARD,\r\n  DELETE_BOARD,\r\n  LAYOUT_BOARD,\r\n  NOTIFY_DELETE_BOARD,\r\n  FETCH_LANE,\r\n  APPEND_LANE,\r\n  EXCLUDE_LANE,\r\n  CREATE_LANE,\r\n  DELETE_LANE,\r\n  NOTIFY_DELETE_LANE,\r\n  FETCH_CARD,\r\n  APPEND_CARD,\r\n  EXCLUDE_CARD,\r\n  CREATE_CARD,\r\n  DELETE_CARD,\r\n  NOTIFY_DELETE_CARD\r\n} from '../actions/types';\r\n\r\nconst formatBoard = payload => {\r\n  let walkFn = (el, visitFn) => {\r\n    visitFn(el);\r\n\r\n    if (el.lanes) {\r\n      el.lanes.forEach(i => walkFn(i, visitFn));\r\n    }\r\n\r\n    if (el.cards) {\r\n      el.cards.forEach(i => walkFn(i, visitFn));\r\n    }\r\n  };\r\n\r\n  let lanes = [];\r\n  let cards = [];\r\n\r\n  walkFn(payload, el => {\r\n    if (el.type) {\r\n      let children = (el.lanes || el.cards || []).map(i => i.id);\r\n      lanes.push(_.omit({ ...el, children }, ['lanes', 'cards']));\r\n    } else if (el.id !== payload.id) {\r\n      cards.push(el);\r\n    }\r\n  });\r\n\r\n  return {\r\n    ...payload,\r\n    children: (payload.lanes || []).map(i => i.id),\r\n    lanes: _.mapKeys(lanes, 'id'),\r\n    cards: _.mapKeys(cards, 'id')\r\n  };\r\n};\r\n\r\nexport default (state = {}, action) => {\r\n  let board = null;\r\n  let lane = null;\r\n  switch (action.type) {\r\n    case FETCH_BOARDS:\r\n      return { ..._.mapKeys(action.payload, 'id') };\r\n    case FETCH_BOARD:\r\n      return { ...state, [action.payload.id]: formatBoard(action.payload) };\r\n    case CREATE_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case RENAME_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case SHARE_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n\r\n    case NOTIFY_DELETE_BOARD:\r\n    case DELETE_BOARD:\r\n      return _.omit(state, action.payload);\r\n\r\n    case LAYOUT_BOARD:\r\n      board = {\r\n        ...state[action.payload.id],\r\n        layout: action.payload.layout\r\n      };\r\n      return { ...state, [action.payload.id]: board };\r\n\r\n    case FETCH_LANE:\r\n      board = state[action.payload.boardId];\r\n      lane = _.omit(action.payload, 'boardId');\r\n      lane.children = lane.children || [];\r\n      board.lanes[action.payload.id] = lane;\r\n      return { ...state, [board.id]: { ...board } };\r\n\r\n    case CREATE_LANE:\r\n      board = state[action.payload.boardId];\r\n      board.lanes[action.payload.id] = _.omit(\r\n        { ...action.payload, children: [] },\r\n        'boardId'\r\n      );\r\n      return { ...state, [board.id]: board };\r\n\r\n    case DELETE_LANE:\r\n    case NOTIFY_DELETE_LANE:\r\n      board = state[action.payload.boardId];\r\n      if (board.lanes[action.payload.laneId]) {\r\n        board.lanes = _.omit(board.lanes, action.payload.laneId);\r\n        return { ...state, [board.id]: { ...board } };\r\n      } else {\r\n        return state;\r\n      }\r\n\r\n    case APPEND_LANE:\r\n      board = state[action.payload.boardId];\r\n      lane = board.lanes[action.payload.parentId];\r\n      if (lane) {\r\n        lane.children = lane.children || [];\r\n        lane.children.push(\r\n          action.payload.laneId\r\n        );\r\n      } else {\r\n        board.children.push(action.payload.laneId);\r\n      }\r\n      return { ...state, [board.id]: board };\r\n\r\n    case EXCLUDE_LANE:\r\n      board = state[action.payload.boardId];\r\n      if (board.lanes[action.payload.parentId]) {\r\n        board.lanes[action.payload.parentId].children = _.pull(\r\n          board.lanes[action.payload.parentId].children,\r\n          action.payload.laneId\r\n        );\r\n      } else {\r\n        board.children = _.pull(board.children, action.payload.laneId);\r\n      }\r\n      return { ...state, [board.id]: { ...board } };\r\n\r\n    case APPEND_CARD:\r\n      board = state[action.payload.boardId];\r\n      board.lanes[action.payload.laneId].children.push(action.payload.cardId);\r\n      return { ...state, [board.id]: board };\r\n\r\n    case EXCLUDE_CARD:\r\n      board = state[action.payload.boardId];\r\n      board.lanes[action.payload.laneId].children = _.pull(\r\n        board.lanes[action.payload.laneId].children,\r\n        action.payload.cardId\r\n      );\r\n      return { ...state, [board.id]: board };\r\n\r\n    case CREATE_CARD:\r\n    case FETCH_CARD:\r\n      board = state[action.payload.boardId];\r\n      board.cards[action.payload.id] = _.omit(action.payload, 'boardId');\r\n      return { ...state, [board.id]: board };\r\n\r\n    case DELETE_CARD:\r\n    case NOTIFY_DELETE_CARD:\r\n      board = state[action.payload.boardId];\r\n      board.cards = _.omit(board.cards, action.payload.cardId);\r\n      return { ...state, [board.id]: board };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport monitorReducerEnhancer from './enhancers/monitorReducer';\r\nimport loggerMiddleware from './middleware/logger';\r\nimport rootReducer from './reducers';\r\n\r\nconst configureStore = () => {\r\n  const middlewares = [loggerMiddleware, thunkMiddleware];\r\n  const middlewareEnhancer = applyMiddleware(...middlewares);\r\n\r\n  const enhancers = [middlewareEnhancer, monitorReducerEnhancer];\r\n  const composedEnhancers = composeWithDevTools(...enhancers);\r\n\r\n  return createStore(rootReducer, {}, composedEnhancers);\r\n};\r\n\r\nexport default configureStore();\r\n","import { fetchBoard, notifyDeleteBoard } from '../actions/board';\r\nimport { fetchLane, notifyDeleteLane } from '../actions/lane';\r\nimport { fetchCard, notifyDeleteCard } from '../actions/card';\r\nimport store from '../store';\r\n\r\nconst REFRESHCARDNOTIFICATION = 0;\r\nconst REFRESHLANENOTIFICATION = 1;\r\nconst REFRESHBOARDNOTIFICATION = 2;\r\nconst REMOVECARDNOTIFICATION = 3;\r\nconst REMOVELANENOTIFICATION = 4;\r\nconst REMOVEBOARDNOTIFICATION = 5;\r\nconst CREATECARDNOTIFICATION = 6;\r\nconst CREATELANENOTIFICATION = 7;\r\nconst CREATEBOARDNOTIFICATION = 8;\r\n\r\nlet socket = null;\r\n\r\nfunction createSocket(msg) {\r\n  let conn = new WebSocket(`${process.env.REACT_APP_WS_URL}/v1/api/notify`);\r\n\r\n  conn.onopen = function(evt) {\r\n    console.log('websocket opened');\r\n    if (msg) {\r\n      sendMessage(conn, msg);\r\n    }\r\n  };\r\n\r\n  conn.onclose = function(evt) {\r\n    console.log('websocket closed');\r\n    socket = null;\r\n  };\r\n\r\n  conn.onmessage = function(evt) {\r\n    const notifiactions = JSON.parse(evt.data);\r\n    console.log('websocket: receive', notifiactions);\r\n    if (notifiactions && notifiactions.length) {\r\n      for (let notification of notifiactions) {\r\n        processNotification(notification);\r\n      }\r\n    } else {\r\n      console.log('array is expected by socket!');\r\n    }\r\n  };\r\n\r\n  return conn;\r\n}\r\n\r\nfunction sendMessage(ws, msg) {\r\n  console.log('websocket: send', JSON.parse(msg));\r\n  ws.send(msg);\r\n}\r\n\r\nfunction processNotification(msg) {\r\n  switch (msg.type) {\r\n    case CREATECARDNOTIFICATION:\r\n    case REFRESHCARDNOTIFICATION:\r\n      fetchCard(msg.board_id, msg.id)(store.dispatch);\r\n      return;\r\n    case CREATELANENOTIFICATION:\r\n    case REFRESHLANENOTIFICATION:\r\n      fetchLane(msg.board_id, msg.id)(store.dispatch);\r\n      return;\r\n    case CREATEBOARDNOTIFICATION:\r\n    case REFRESHBOARDNOTIFICATION:\r\n      fetchBoard(msg.board_id)(store.dispatch);\r\n      return;\r\n    case REMOVECARDNOTIFICATION:\r\n      notifyDeleteCard(msg.board_id, msg.id)(store.dispatch);\r\n      return;\r\n    case REMOVELANENOTIFICATION:\r\n      notifyDeleteLane(msg.board_id, msg.id)(store.dispatch);\r\n      return;\r\n    case REMOVEBOARDNOTIFICATION:\r\n      notifyDeleteBoard(msg.board_id)(store.dispatch);\r\n      return;\r\n    default:\r\n  }\r\n}\r\n\r\nexport default msg => {\r\n  if (!socket) {\r\n    console.log('websocket not available');\r\n    socket = createSocket(msg);\r\n    return;\r\n  }\r\n\r\n  sendMessage(socket, msg);\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './board/Header';\r\nimport Body from './board/Body';\r\nimport socket from '../apis/socket';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { fetchBoard } from '../actions/board';\r\n\r\nclass Board extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n\r\n    this.state = {\r\n      show: false,\r\n      title: 'Confirm',\r\n      question: 'Are you sure?',\r\n      yesFn: this.handleClose\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    const { fetchBoard } = this.props;\r\n\r\n    fetchBoard(id);\r\n\r\n    socket(JSON.stringify({ id }));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket(JSON.stringify({ id: '' }));\r\n  }\r\n\r\n  handleClose(fn) {\r\n    if (fn && typeof fn == 'function') {\r\n       fn();\r\n    }\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow(title = 'Confirm', question = 'Are you sure?', fn) {\r\n    this.setState({ show: true, title, question, yesFn: () => this.handleClose(fn) });\r\n  }\r\n\r\n  render() {\r\n    const { board, editable } = this.props;\r\n\r\n    if (!board) {\r\n      return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Header board={board} editable={editable} />\r\n        <Body board={board} editable={editable} onConfirm={this.handleShow} />\r\n        <Modal show={this.state.show} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.state.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>{this.state.question}</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={this.state.yesFn}>\r\n              Yes\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.boards[ownProps.match.params.id];\r\n  let editable = state.auth.isSignedIn && board && board.owner === state.auth.userProfile.id\r\n\r\n  return { board, editable };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoard }\r\n)(Board);\r\n","import { createBrowserHistory as createHistory } from 'history';\r\n\r\nexport default createHistory();","import React from 'react';\nimport Boards from './Boards';\nimport Board from './Board';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from '../history';\n\nconst App = () => (\n  <Router history={history}>\n    <div>\n      <Switch>\n        <Route path={`${process.env.REACT_APP_CONTEXT_ROOT}/`} exact component={Boards} />\n        <Route path={`${process.env.REACT_APP_CONTEXT_ROOT}/board/:id`} component={Board} />\n      </Switch>\n    </div>\n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport store from './store';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}