(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(31)},25:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n(3),i="dmitrybodnar.com",s="http".concat("s","://").concat(i),l="ws".concat("s","://").concat(i);n(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=function(e){return{type:"ADD_TODO_STARTED",text:e}},u=function(e,t){return{type:"ADD_TODO_SUCCESS",id:e,text:t}},m=function(e){return{type:"ADD_TODO_FAILURE",error:e}},f=function(e){return{type:"REMOVE_TODO_STARTED",id:e}},p=function(e){return{type:"REMOVE_TODO_SUCCESS",id:e}},v=function(e,t){return{type:"REMOVE_TODO_FAILURE",id:e,error:t}},E=function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}},b=function(e){var t=e.onClick,n=e.onTrash,a=(e.id,e.text),o=e.selected;return r.a.createElement("div",{id:"{id}",className:"card-wrapper float-left m-3",onClick:t},r.a.createElement("div",{className:"card shadow",style:{width:"150px",height:"150px"}},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-title mb-0"},a),r.a.createElement("div",{className:"text-white position-absolute card-badges card-badges-left"},r.a.createElement("div",{className:"bg-success shadow-sm m-1 p-1 text-center small rounded-circle card-badge",style:{display:o?"block":"none"}},r.a.createElement("i",{className:"fa fa-fw fa-check"})),r.a.createElement("div",{className:"bg-danger shadow-sm m-1 p-1 text-center small rounded-circle card-badge hover-card-badges",onClick:n},r.a.createElement("i",{className:"fa fa-fw fa-trash"})))),r.a.createElement("div",{className:"card-body py-2",style:{overflow:"hidden"}},r.a.createElement("div",{className:"card-text small text-justify"}))))},g=function(e){var t=e.todos,n=e.toggleTodo,a=e.removeTodo;return r.a.createElement("div",{className:"container-fluid board-list"},r.a.createElement("div",{className:"lane-wrapper lane-item"},r.a.createElement("div",{className:"lane-body"},t.map(function(e){return r.a.createElement(b,Object.assign({key:e.id},e,{onTrash:function(){return a(e.id)},onClick:function(){return n(e.id)}}))}))))},h=function(e,t){switch(t){case"":return e;default:return e.filter(function(e){return e.text.toLowerCase().includes(t.toLowerCase())})}},O=Object(c.b)(function(e){return{todos:h(e.todos,e.visibilityFilter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))},removeTodo:function(t){return e(function(e){return function(t){t(f(e)),fetch("".concat(s,"/v1/api/board/").concat(e),{method:"delete"}).then(function(n){t(p(e))}).catch(function(n){t(v(e,n.message))})}}(t))}}})(g),w=Object(c.b)()(function(e){var t,n=e.dispatch;return r.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark fixed-top"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("form",{className:"input-group ml-auto mr-auto",onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-sm",ref:function(e){return t=e}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(e){var a;t.value.trim()&&(n((a=t.value,function(e){e(d(a)),fetch("".concat(s,"/v1/api/board"),{method:"post",body:JSON.stringify({name:a})}).then(function(e){return e.json()}).then(function(t){e(u(t.id,a))}).catch(function(t){e(m(t.message))})})),t.value="")}},"Create")),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-warning btn-sm",onClick:function(e){t.value="",n(E(""))}},"Reset")),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(e){n(E(t.value.trim()))}},"Search"))))))}),T=function(){return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(O,null))},y=n(1),D=n(12),_=n(13),S=function(e){return function(t,n,a){return e(function(e,n){var a,r=performance.now(),o=t(e,n),c=performance.now(),i=(a=c-r,Math.round(100*a)/100);return console.log("reducer process time:",i),o},n,a)}},N=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}},k=n(15),x=n(14),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO_STARTED":return e;case"ADD_TODO_SUCCESS":return[].concat(Object(x.a)(e),[{id:t.id,text:t.text,selected:!1}]);case"ADD_TODO_FAILURE":case"REMOVE_TODO_STARTED":return e;case"REMOVE_TODO_SUCCESS":return e.filter(function(e){return e.id!==t.id});case"REMOVE_TODO_FAILURE":return e;case"TOGGLE_TODO":return e.map(function(e){return e.id===t.id?Object(k.a)({},e,{selected:!e.selected}):e});default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},I=Object(y.combineReducers)({todos:C,visibilityFilter:R});var A;n(27),n(29);fetch("".concat(s,"/v1/api/board")).then(function(e){return e.json()}).then(function(e){var t={todos:e.map(function(e){return{id:e.id,text:e.name,selected:!1}})};(A=function(e){var t=[N,D.a],n=[y.applyMiddleware.apply(void 0,t),S],a=_.composeWithDevTools.apply(void 0,n);return Object(y.createStore)(I,e,a)}(t)).subscribe(M),Object(o.render)(r.a.createElement(c.a,{store:A},r.a.createElement(T,null)),document.getElementById("root"))});var L=[],j=null;function M(){var e=L;if((L=A.getState().todos).length>e.length){!function(e){if(console.log("post commands: ",e),!j)return void console.log("shared worker is not available");console.log("commands posted to shared worker"),j.port.postMessage(e)}([{id:"5c3016bc4d74f1000177ed11",type:5,payload:{lane_id:"5c30169d4d74f1000177ed10"}}])}}!function(){var e=new WebSocket("".concat(l,"/v1/api/notify/ws"));e.onclose=function(e){console.log("Connection closed")},e.onmessage=function(e){console.log("notification received",e.data)}}(),window.SharedWorker&&((j=new SharedWorker("worker.js")).port.start(),console.log("shared worker is started"),j.port.addEventListener("message",function(e){console.log("message received by main is..."),console.log(e.data)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.9ff5526a.chunk.js.map