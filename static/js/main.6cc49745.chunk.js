(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,a,t){e.exports=t(82)},50:function(e,a,t){},82:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(34),i=t(7);t(50),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(2),l=t.n(o),s=t(8),u=t(36),d=t.n(u),f="dmitrybodnar.com",m="/kanban-ui",p="http".concat("s","://").concat(f),b="ws".concat("s","://").concat(f),v=d.a.create({baseURL:p});var h=function(e,a){return console.log("main: shared worker is not available"),void v.post("/v1/api/command/".concat(e),a)},y=function(e){return function(){var a=Object(s.a)(l.a.mark(function a(t){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.get("/v1/api/board/".concat(e));case 2:n=a.sent,t({type:"FETCH_BOARD",payload:n.data});case 4:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},E=function(e,a){return function(){var t=Object(s.a)(l.a.mark(function t(n){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.post("/v1/api/board/".concat(a,"/lanes"),{name:e,layout:"H",type:"L"});case 2:r=t.sent,h(a,[{id:r.data.id,board_id:a,type:3,payload:{parent_id:a}}]),n({type:"CREATE_LANE",payload:r.data});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},g=t(10),w=t(11),N=t(13),O=t(12),j=t(14),k=function(e){function a(){var e,t;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(N.a)(this,(e=Object(O.a)(a)).call.apply(e,[this].concat(r)))).onAuthChange=function(e){if(e){var a=t.auth.currentUser.get().getBasicProfile(),n={id:a.getId(),email:a.getEmail(),name:a.getName()};t.props.signIn(n)}else t.props.signOut()},t.onSignInClick=function(){t.auth.signIn()},t.onSignOutClick=function(){t.auth.signOut()},t}return Object(j.a)(a,e),Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"745975090298-bi7i72f2akkt9cglmjjsgqh0q9qo2vmt.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)})})}},{key:"render",value:function(){return null===this.props.isSignedIn?null:this.props.isSignedIn?r.a.createElement("button",{onClick:this.onSignOutClick,className:"btn btn-info btn-sm",title:this.props.profile.name},r.a.createElement("i",{className:"fa fa-fw fa-google"})):r.a.createElement("button",{onClick:this.onSignInClick,className:"btn btn-info btn-sm"},r.a.createElement("i",{className:"fa fa-fw fa-google"}),"Sign In")}}]),a}(r.a.Component),C=Object(i.b)(function(e){return{isSignedIn:e.auth.isSignedIn,profile:e.auth.userProfile}},{signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}})(k),x=Object(i.b)(function(e){return{secure:e.auth.isSignedIn,owner:e.auth.userProfile&&e.auth.userProfile.id}},function(e){return{create:function(a,t){return function(e,a){return function(){var t=Object(s.a)(l.a.mark(function t(n){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.post("/v1/api/board",{name:e,owner:a,layout:"H",shared:!1});case 2:r=t.sent,n({type:"CREATE_BOARD",payload:r.data});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}(a,t)(e)},filter:function(a){return e(function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}}(a))}}})(function(e){var a,t=e.secure,n=e.owner,c=e.create,i=e.filter;return r.a.createElement("nav",{className:"navbar bg-dark navbar-dark fixed-top"},r.a.createElement("div",{className:"container-fluid no-gutters"},r.a.createElement("div",{className:"col-12 col-sm-9 col-md-6 col-lg-3 ml-auto mr-auto"},r.a.createElement("form",{className:"input-group",onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(C,null)),r.a.createElement("input",{type:"search",className:"form-control form-control-sm",placeholder:"Board title...",ref:function(e){return a=e}}),t?r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-info btn-sm",onClick:function(e){a.value.trim()&&(console.log(t,n),c(a.value,t?n:"anonymous"),a.value="")}},r.a.createElement("i",{className:"fa fa-fw fa-check"}))):null,r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-info btn-sm",onClick:function(e){i(a.value.trim())}},r.a.createElement("i",{className:"fa fa-fw fa-search"}))))))))}),A=t(3),I=t(83),S=function(e){var a=e.id,t=e.name,n=e.description,c=e.shared,i=e.editable,o=e.shareBoard,l=e.deleteBoard;return r.a.createElement("div",{id:"".concat(a),className:"card-wrapper float-left m-3"},r.a.createElement("div",{className:"card shadow board"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-title mb-0"},r.a.createElement("div",{className:"row mx-0"},r.a.createElement("div",{className:"mr-auto"},r.a.createElement(I.a,{className:"text-info",style:{textDecoration:"none",fontWeight:"500"},to:"".concat(m,"/board/").concat(a)},t)),r.a.createElement("div",{className:"hover-card-badges",style:{display:i?"inline":"none"}},r.a.createElement("i",{className:"fa fa-fw fa-pencil text-muted",title:"edit"}),r.a.createElement("i",{className:"fa fa-fw fa-eye text-muted",title:"public",style:{display:c?"inline":"none"},onClick:function(){return o(a,!1)}}),r.a.createElement("i",{className:"fa fa-fw fa-eye-slash text-muted",title:"private",style:{display:c?"none":"inline"},onClick:function(){return o(a,!0)}}),r.a.createElement("i",{className:"fa fa-fw fa-trash text-muted",title:"delete",onClick:function(){return l(a)}}))))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"board-body-wrapper"},r.a.createElement("div",{className:"card-text small text-justify"},n)))))},_=function(e){function a(){return Object(g.a)(this,a),Object(N.a)(this,Object(O.a)(a).apply(this,arguments))}return Object(j.a)(a,e),Object(w.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchBoards(this.props.currentUserId)}},{key:"componentDidUpdate",value:function(e){this.props.currentUserId!==e.currentUserId&&this.props.fetchBoards(this.props.currentUserId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-fluid board-list"},r.a.createElement("div",{className:"lane-wrapper lane-item"},r.a.createElement("div",{className:"lane-body"},this.props.boards.map(function(a){return r.a.createElement(S,Object.assign({key:a.id},Object(A.a)({},a,{editable:e.props.isSignedIn&&e.props.currentUserId===a.owner,shareBoard:e.props.shareBoard,deleteBoard:e.props.deleteBoard})))}))))}}]),a}(r.a.Component),B=Object(i.b)(function(e){var a=Object.values(e.boards),t=e.visibilityFilter.toLowerCase();return{boards:a.filter(function(e){return(e.name||"").toLowerCase().includes(t)}),currentUserId:e.auth.isSignedIn?e.auth.userProfile.id:null,isSignedIn:e.auth.isSignedIn}},{fetchBoards:function(e){return function(){var a=Object(s.a)(l.a.mark(function a(t){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=6;break}return a.next=3,v.get("/v1/api/board?owner=".concat(e));case 3:a.t0=a.sent,a.next=9;break;case 6:return a.next=8,v.get("/v1/api/board");case 8:a.t0=a.sent;case 9:n=a.t0,t({type:"FETCH_BOARDS",payload:n.data});case 11:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},shareBoard:function(e,a){return function(){var t=Object(s.a)(l.a.mark(function t(n){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.put("/v1/api/board/".concat(e,"/share"),{shared:a});case 2:r=t.sent,n({type:"SHARE_BOARD",payload:r.data});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},deleteBoard:function(e){return function(){var a=Object(s.a)(l.a.mark(function a(t){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.delete("/v1/api/board/".concat(e));case 2:t({type:"DELETE_BOARD",payload:e});case 3:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}})(_),R=function(){return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement(B,null))},L=Object(i.b)(function(e,a){return{editable:e.auth.isSignedIn&&a.board&&a.board.owner===e.auth.userProfile.id}},{update:function(e,a){return function(){var t=Object(s.a)(l.a.mark(function t(n){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.put("/v1/api/board/".concat(e,"/rename"),{name:a});case 2:r=t.sent,n({type:"RENAME_BOARD",payload:r.data});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},layout:function(e,a){return function(){var t=Object(s.a)(l.a.mark(function t(n){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h(e,[{id:e,board_id:e,type:6,payload:{layout:a}}]),n({type:"LAYOUT_BOARD",payload:{id:e,layout:a}});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},lane:E})(function(e){var a,t=e.editable,n=e.update,c=e.layout,i=e.lane,o=e.board;return r.a.createElement("nav",{className:"navbar bg-dark navbar-dark"},r.a.createElement("div",{className:"container-fluid no-gutters"},r.a.createElement("div",{className:"col-12 col-sm-12 col-md-6 col-lg-3 ml-auto"},r.a.createElement("form",{className:"input-group ml-auto mr-auto",onSubmit:function(e){e.preventDefault()}},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement(I.a,{to:"".concat(m,"/"),className:"btn btn-success btn-sm"},r.a.createElement("i",{className:"fa fa-fw fa-home"}))),r.a.createElement("input",{type:"search",className:"form-control form-control-sm",defaultValue:o.name,ref:function(e){return a=e}}),t?r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(e){a.value.trim()&&n(o.id,a.value)}},r.a.createElement("i",{className:"fa fa-fw fa-check"}))):null))),r.a.createElement("div",{className:"mr-auto"},t?r.a.createElement("button",{className:"btn btn-sm text-white",onClick:function(e){i("Lane",o.id)}},r.a.createElement("i",{className:"fa fa-fw fa-file"})):null,r.a.createElement("button",{className:"btn btn-sm text-white"},r.a.createElement("i",{className:"fa fa-fw fa-filter"})),function(){if(!t)return null;var e="V"===o.layout?"fa-table":"fa-columns";return r.a.createElement("button",{className:"btn btn-sm text-white",onClick:function(e){c(o.id,"V"===o.layout?"H":"V")}},r.a.createElement("i",{className:"fa fa-fw ".concat(e)}))}(),r.a.createElement("button",{className:"btn btn-sm text-white"},r.a.createElement("i",{className:"fa fa-fw fa-gear"})),r.a.createElement("button",{className:"btn btn-sm text-white"},r.a.createElement("i",{className:"fa fa-fw fa-refresh"})))))}),D=function(e){var a=e.card,t=e.deleteCard;return r.a.createElement("div",{className:"card-wrapper float-left m-3"},r.a.createElement("div",{className:"card shadow item"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-title mb-0"},r.a.createElement("div",{className:"row mx-0"},r.a.createElement("div",{className:"mr-auto"},a.name),r.a.createElement("div",{className:"hover-card-badges",style:{display:"inline"}},r.a.createElement("i",{className:"fa fa-fw fa-pencil text-muted",title:"edit"}),r.a.createElement("i",{className:"fa fa-fw fa-trash text-muted",title:"delete",onClick:function(){return t(a.id)}}))))),r.a.createElement("div",{className:"card-body py-2",style:{overflow:"hidden"}},r.a.createElement("div",{className:"card-body-wrapper"},r.a.createElement("div",{className:"card-text small text-justify"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur odio fuga perspiciatis nesciunt rem quasi vero deleniti sed beatae ex laborum dignissimos ipsam doloremque, expedita, quae eum voluptates! Ut, necessitatibus!")))))},T=function(e){function a(){var e,t;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(N.a)(this,(e=Object(O.a)(a)).call.apply(e,[this].concat(r)))).createCard=function(){var e=t.props,a=e.lane,n=e.board,r=e.createCard;a&&r&&r(n.id,"Card",a.id)},t.deleteCard=function(e){var a=t.props,n=a.lane,r=a.board,c=a.deleteCard;n&&c&&c(r.id,e,n.id)},t}return Object(j.a)(a,e),Object(w.a)(a,[{key:"renderCards",value:function(){var e=this,a=this.props.lane;return a&&a.cards?a.cards.map(function(a){return r.a.createElement(D,{key:a.id,card:a,deleteCard:e.deleteCard})}):null}},{key:"render",value:function(){return r.a.createElement("div",{className:"lane-wrapper"},r.a.createElement("div",{className:"lane-header card-header border rounded-0"},r.a.createElement("div",{className:"card-title mb-0"},r.a.createElement("div",{className:"row mx-0"},r.a.createElement("div",{className:"mr-auto"},this.props.lane.name),r.a.createElement("div",{className:"hover-card-badges",style:{display:"inline"}},r.a.createElement("i",{className:"fa fa-fw fa-file text-muted",title:"card",onClick:this.createCard}),r.a.createElement("i",{className:"fa fa-fw fa-pencil text-muted",title:"edit"}),r.a.createElement("i",{className:"fa fa-fw fa-trash text-muted",title:"delete"}))))),r.a.createElement("div",{className:"lane-body"},this.renderCards()))}}]),a}(r.a.Component);var U=Object(i.b)(function(e,a){var t=e.boards[a.board.id];return{board:t,lane:function e(a,t){var n=(a=a||[]).find(function(e){return e.id===t});if(n)return n;for(var r=0;r<a.length;r++)if(n=e(a[r].lanes,t))return n;return null}(t.lanes,a.lane.id)}},{createCard:function(e,a,t){return function(){var n=Object(s.a)(l.a.mark(function n(r){var c;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.post("/v1/api/board/".concat(e,"/cards"),{name:a});case 2:c=n.sent,h(e,[{id:c.data.id,board_id:e,type:3,payload:{parent_id:t}}]),r({type:"CREATE_CARD",payload:c.data});case 5:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},deleteCard:function(e,a,t){return function(n){h(e,[{id:a,board_id:e,type:1,payload:{parent_id:t}}]),n({type:"DELETE_CARD",payload:a})}}})(T),H=function(e){function a(){var e,t;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(N.a)(this,(e=Object(O.a)(a)).call.apply(e,[this].concat(r)))).createChild=function(){var e=t.props,a=e.lane,n=e.board,r=e.createCardLane;a&&r&&r(n.id,"CardLane",a.id)},t}return Object(j.a)(a,e),Object(w.a)(a,[{key:"renderLanes",value:function(){var e=this.props,a=e.lane,t=e.board;return a&&a.lanes?a.lanes.map(function(e){return r.a.createElement(P,{key:e.id,lane:e,board:t})}):null}},{key:"render",value:function(){return r.a.createElement("div",{className:"lane-wrapper"},r.a.createElement("div",{className:"lane-header card-header border rounded-0"},r.a.createElement("div",{className:"card-title mb-0"},r.a.createElement("div",{className:"row mx-0"},r.a.createElement("div",{className:"mr-auto"},this.props.lane.name),r.a.createElement("div",{className:"hover-card-badges",style:{display:"inline"}},r.a.createElement("i",{className:"fa fa-fw fa-file text-muted",title:"lane",onClick:this.createChild}),r.a.createElement("i",{className:"fa fa-fw fa-pencil text-muted",title:"edit"}),r.a.createElement("i",{className:"fa fa-fw fa-trash text-muted",title:"delete"}))))),r.a.createElement("div",{className:"lane-body"},this.renderLanes()))}}]),a}(r.a.Component);var F=Object(i.b)(function(e,a){var t=e.boards[a.board.id];return{board:t,lane:function e(a,t){var n=(a=a||[]).find(function(e){return e.id===t});if(n)return n;for(var r=0;r<a.length;r++)if(n=e(a[r].lanes,t))return n;return null}(t.lanes,a.lane.id)}},{createLane:E,createCardLane:function(e,a,t){return function(){var n=Object(s.a)(l.a.mark(function n(r){var c;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.post("/v1/api/board/".concat(e,"/lanes"),{name:a,type:"C"});case 2:c=n.sent,h(e,[{id:c.data.id,board_id:e,type:3,payload:{parent_id:t}}]),r({type:"CREATE_LANE",payload:c.data});case 5:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}})(H),P=function(e){var a=e.lane,t=e.board;return"C"===a.type?r.a.createElement(U,{key:a.id,lane:a,board:t}):r.a.createElement(F,{key:a.id,lane:a,board:t})},V=function(e){function a(){return Object(g.a)(this,a),Object(N.a)(this,Object(O.a)(a).apply(this,arguments))}return Object(j.a)(a,e),Object(w.a)(a,[{key:"renderLanes",value:function(){var e=this.props.board;return e&&e.lanes?e.lanes.map(function(a){return r.a.createElement(P,{key:a.id,lane:a,board:e})}):null}},{key:"render",value:function(){var e=this.props.board,a="V"===(e&&e.layout||"V")?"flex-column":"flex-row";return r.a.createElement("div",{className:"d-flex ".concat(a)},this.renderLanes())}}]),a}(r.a.Component),M=Object(i.b)(function(e,a){return{board:e.boards[a.board.id]}})(V),q=t(16),J=t(37),W=t(38),G=function(e){return function(a,t,n){return e(function(e,t){var n,r=performance.now(),c=a(e,t),i=performance.now(),o=(n=i-r,Math.round(100*n)/100);return console.log("reducer process time:",o),c},t,n)}},Y=function(e){return function(a){return function(t){console.group(t.type),console.info("dispatching",t);var n=a(t);return console.log("next state",e.getState()),console.groupEnd(),n}}},K={isSignedIn:null,userProfile:null},$=t(6),z=t(24),Q=t.n(z),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_VISIBILITY_FILTER":return a.filter;default:return e}},Z=Object(q.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_IN":return Object(A.a)({},e,{isSignedIn:!0,userProfile:a.payload});case"SIGN_OUT":return Object(A.a)({},e,{isSignedIn:!1,userProfile:null});default:return e}},boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,t=null;switch(a.type){case"FETCH_BOARD_LANES":return t=Object(A.a)({},e[a.payload.id],{lanes:a.payload.lanes}),Object(A.a)({},e,Object($.a)({},a.payload.id,t));case"FETCH_BOARDS":return Object(A.a)({},Q.a.mapKeys(a.payload,"id"));case"FETCH_BOARD":case"CREATE_BOARD":case"RENAME_BOARD":case"SHARE_BOARD":return Object(A.a)({},e,Object($.a)({},a.payload.id,a.payload));case"DELETE_BOARD":return Q.a.omit(e,a.payload);case"LAYOUT_BOARD":return t=Object(A.a)({},e[a.payload.id],{layout:a.payload.layout}),Object(A.a)({},e,Object($.a)({},a.payload.id,t));default:return e}},boardLanes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_BOARD_LANES":return Object(A.a)({},e,Object($.a)({},a.payload.id,a.payload));default:return e}},lanes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CREATE_LANE":return Object(A.a)({},e,Object($.a)({},a.payload.id,a.payload));default:return e}},laneLanes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_LANE_LANES":return Object(A.a)({},e,Object($.a)({},a.payload.id,a.payload));default:return e}},laneCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_LANE_CARDS":return Object(A.a)({},e,Object($.a)({},a.payload.id,a.payload));default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CREATE_CARD":return Object(A.a)({},e,Object($.a)({},a.payload.id,a.payload));default:return e}},visibilityFilter:X}),ee=function(){var e=[Y,J.a],a=[q.applyMiddleware.apply(void 0,e),G],t=W.composeWithDevTools.apply(void 0,a);return Object(q.createStore)(Z,{},t)}(),ae=0,te=1,ne=2,re=null;function ce(e,a){console.log("websocket: send",JSON.parse(a)),e.send(a)}function ie(e){switch(e.type){case ae:case te:case ne:return console.log(e),void y(e.board_id)(ee.dispatch)}}var oe=function(e){if(!re)return console.log("websocket not available"),void(re=function(e){var a=new WebSocket("".concat(b,"/v1/api/notify"));return a.onopen=function(t){console.log("websocket opened"),e&&ce(a,e)},a.onclose=function(e){console.log("websocket closed"),re=null},a.onmessage=function(e){var a=JSON.parse(e.data);if(console.log("websocket: receive",a),a&&a.length){var t=!0,n=!1,r=void 0;try{for(var c,i=a[Symbol.iterator]();!(t=(c=i.next()).done);t=!0)ie(c.value)}catch(o){n=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}else console.log("array is expected by socket!")},a}(e));ce(re,e)},le=function(e){function a(){return Object(g.a)(this,a),Object(N.a)(this,Object(O.a)(a).apply(this,arguments))}return Object(j.a)(a,e),Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchBoard(e),oe(JSON.stringify({id:e}))}},{key:"componentWillUnmount",value:function(){oe(JSON.stringify({id:""}))}},{key:"render",value:function(){return console.log("render board"),this.props.board?r.a.createElement("div",null,r.a.createElement(L,{board:this.props.board}),r.a.createElement(M,{board:this.props.board})):r.a.createElement("div",null,"Loading...")}}]),a}(r.a.Component),se=Object(i.b)(function(e,a){return{board:e.boards[a.match.params.id]}},{fetchBoard:y})(le),ue=t(86),de=t(85),fe=t(84),me=t(39),pe=t.n(me)()(),be=function(){return r.a.createElement(ue.a,{history:pe},r.a.createElement("div",null,r.a.createElement(de.a,null,r.a.createElement(fe.a,{path:"".concat(m,"/"),exact:!0,component:R}),r.a.createElement(fe.a,{path:"".concat(m,"/board/:id"),component:se}))))};t(78),t(80);Object(c.render)(r.a.createElement(i.a,{store:ee},r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,2,1]]]);
//# sourceMappingURL=main.6cc49745.chunk.js.map