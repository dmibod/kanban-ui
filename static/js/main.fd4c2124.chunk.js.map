{"version":3,"sources":["serviceWorker.js","apis/urls.js","apis/index.js","apis/worker.js","actions/index.js","actions/types.js","components/GoogleAuth.js","components/boards/Header.js","components/boards/Item.js","components/boards/List.js","components/Boards.js","components/board/Header.js","components/board/Card.js","components/board/CardLane.js","components/board/CompositeLane.js","components/board/Lane.js","components/board/Body.js","enhancers/monitorReducer.js","middleware/logger.js","reducers/authReducer.js","reducers/visibilityFilter.js","reducers/index.js","reducers/boardReducer.js","reducers/boardLaneReducer.js","reducers/laneReducer.js","reducers/laneLaneReducer.js","reducers/laneCardReducer.js","reducers/cardReducer.js","store.js","apis/socket.js","components/Board.js","history.js","components/App.js","index.js"],"names":["Boolean","window","location","hostname","match","host","root","api","concat","wsapi","axios","create","baseURL","sharedWorker","SharedWorker","port","start","console","log","addEventListener","event","data","worker","cmd","server","post","postMessage","fetchBoardLanes","id","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","response","wrap","_context","prev","next","get","sent","type","payload","lanes","stop","this","_x","apply","arguments","fetchBoard","_ref3","_callee3","_context3","_x3","createLane","name","parentId","_ref10","_callee10","_context10","layout","parent_id","_x10","GoogleAuth","onAuthChange","isSignedIn","profile","_this","auth","currentUser","getBasicProfile","getId","email","getEmail","getName","props","signIn","signOut","onSignInClick","onSignOutClick","_this2","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","react_default","createElement","onClick","className","title","React","Component","connect","state","userProfile","userId","secure","owner","_ref4","_callee4","_context4","shared","_x4","createBoard","filter","setVisibilityFilter","input","onSubmit","e","preventDefault","components_GoogleAuth","placeholder","ref","node","value","trim","Item","editable","shareBoard","deleteBoard","Link","style","textDecoration","fontWeight","to","display","List","fetchBoards","currentUserId","prevProps","boards","map","board","boards_Item","assign","key","objectSpread","values","visibilityFilter","toLowerCase","includes","_ref2","_callee2","_context2","t0","_x2","_ref7","_callee7","_context7","put","_x7","_ref8","_callee8","_context8","delete","_x8","Boards","boards_Header","boards_List","ownProps","update","_ref6","_callee6","_context6","_x6","renameBoard","_ref5","_callee5","_context5","_x5","layoutBoard","lane","boardId","defaultValue","layoutIcon","layoutButton","Card","overflow","CardLane","createCard","_this$props","_this$props2","fetchLaneCards","record","cards","card","renderCards","laneCards","_ref12","_callee12","_context12","_x12","laneId","_ref13","_callee13","_context13","_x13","CompositeLane","createChild","createCardLane","fetchLaneLanes","Lane","renderLanes","laneLanes","_ref9","_callee9","_context9","_x9","_ref11","_callee11","_context11","_x11","board_CardLane","board_CompositeLane","Body","boardLanes","monitorReducer","createStore","reducer","initialState","enhancer","action","number","performance","now","newState","end","diff","Math","round","logger","store","group","info","result","getState","groupEnd","INTIAL_STATE","length","undefined","combineReducers","defineProperty","_","mapKeys","omit","configureStore","middlewares","loggerMiddleware","thunkMiddleware","enhancers","applyMiddleware","monitorReducerEnhancer","composedEnhancers","composeWithDevTools","rootReducer","REFRESHCARDNOTIFICATION","REFRESHLANENOTIFICATION","REFRESHBOARDNOTIFICATION","socket","sendMessage","ws","msg","JSON","parse","send","processNotification","context","apis_socket","conn","WebSocket","onopen","evt","onclose","onmessage","notifiactions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","err","return","createSocket","Board","params","stringify","board_Header","board_Body","createHistory","App","Router","history","Switch","Route","path","exact","component","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"kMAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,uGCjBAC,EAAO,mBAIAC,EAAO,aAEPC,EAAG,OAAAC,OAPD,IAOC,OAAAA,OAAsBH,GACzBI,EAAK,KAAAD,OARH,IAQG,OAAAA,OAAoBH,GCLvBK,MAAMC,OAAO,CAC1BC,QAASL,ICMPM,EAAe,KAEfZ,OAAOa,gBACTD,EAAe,IAAIC,aAAa,eACnBC,KAAKC,QAElBC,QAAQC,IAAI,0BAEZL,EAAaE,KAAKI,iBAAiB,UAAW,SAAAC,GAC5CH,QAAQC,IAAI,4CAA6CE,EAAMC,SAIpD,IAAAC,EAAA,SAAAC,GACb,IAAKV,EAKH,OAJAI,QAAQC,IAAI,6CAEZM,EAAOC,KAAP,kBAA+BF,GAKjCN,QAAQC,IAAI,uCAAwCK,GAEpDV,EAAaE,KAAKW,YAAYH,GAE9BN,QAAQC,IAAI,2CCSDS,EAAkB,SAAAC,GAAE,sBAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACZjB,EAAOkB,IAAP,iBAAAlC,OAA4BoB,EAA5B,UADY,OAC7BS,EAD6BE,EAAAI,KAGnCP,EAAS,CAAEQ,KC7CoB,oBD6CKC,QAAS,CAAEjB,KAAIkB,MAAOT,EAAShB,QAHhC,wBAAAkB,EAAAQ,SAAAZ,EAAAa,SAAJ,gBAAAC,GAAA,OAAApB,EAAAqB,MAAAF,KAAAG,YAAA,IAcpBC,EAAa,SAAAxB,GAAE,sBAAAyB,EAAAvB,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAoB,EAAMlB,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,cAAAc,EAAAd,KAAA,EACPjB,EAAOkB,IAAP,iBAAAlC,OAA4BoB,IADrB,OACxBS,EADwBkB,EAAAZ,KAG9BP,EAAS,CAAEQ,KCxDc,cDwDKC,QAASR,EAAShB,OAHlB,wBAAAkC,EAAAR,SAAAO,EAAAN,SAAJ,gBAAAQ,GAAA,OAAAH,EAAAH,MAAAF,KAAAG,YAAA,IA4CfM,EAAa,SAACC,EAAMC,GAAP,sBAAAC,EAAA9B,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAoB,SAAA2B,EAAMzB,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAArB,KAAA,EACvBjB,EAAOC,KAAK,eAAgB,CAAEiC,OAAMK,OAAQ,IAAKnB,KAAM,MADhC,cACxCP,EADwCyB,EAAAnB,KAAAmB,EAAArB,KAAA,EAG3BjB,EAAOkB,IAAP,gBAAAlC,OAA2B6B,EAAShB,KAAKO,KAHd,OAG5CS,EAH4CyB,EAAAnB,KAK5CrB,EAAO,CAAC,CAAEM,GAAIS,EAAShB,KAAKO,GAAIgB,KDvGP,ECuG0BC,QAAS,CAAEmB,UAAWL,MAEzEvB,EAAS,CAAEQ,KC/Fc,cD+FKC,QAASR,EAAShB,OAPJ,wBAAAyC,EAAAf,SAAAc,EAAAb,SAApB,gBAAAiB,GAAA,OAAAL,EAAAV,MAAAF,KAAAG,YAAA,4CEnGpBe,6MAmBJC,aAAe,SAAAC,GACb,GAAIA,EAAY,CACd,IAAMC,EAAUC,EAAKC,KAAKC,YAAY9B,MAAM+B,kBACtC5B,EAAU,CACdjB,GAAIyC,EAAQK,QACZC,MAAON,EAAQO,WACflB,KAAMW,EAAQQ,WAEhBP,EAAKQ,MAAMC,OAAOlC,QAElByB,EAAKQ,MAAME,aAIfC,cAAgB,WACdX,EAAKC,KAAKQ,YAGZG,eAAiB,WACfZ,EAAKC,KAAKS,8FArCQ,IAAAG,EAAAnC,KAClB/C,OAAOmF,KAAKC,KAAK,eAAgB,WAC/BpF,OAAOmF,KAAKE,OACTC,KAAK,CACJC,SACE,2EAEFC,MAAO,UAERC,KAAK,WACJP,EAAKZ,KAAOtE,OAAOmF,KAAKO,MAAMC,kBAE9BT,EAAKhB,aAAagB,EAAKZ,KAAKH,WAAW1B,OACvCyC,EAAKZ,KAAKH,WAAWyB,OAAOV,EAAKhB,mDA4BvC,OAA8B,OAA1BnB,KAAK8B,MAAMV,WACN,KACEpB,KAAK8B,MAAMV,WAElB0B,EAAA7D,EAAA8D,cAAA,UACEC,QAAShD,KAAKkC,eACde,UAAU,sBACVC,MAAOlD,KAAK8B,MAAMT,QAAQX,MAE1BoC,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,wBAKfH,EAAA7D,EAAA8D,cAAA,UACEC,QAAShD,KAAKiC,cACdgB,UAAU,uBAEVH,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,uBAJf,kBAxDiBE,IAAMC,WAwEhBC,cAJS,SAAAC,GACtB,MAAO,CAAElC,WAAYkC,EAAM/B,KAAKH,WAAYC,QAASiC,EAAM/B,KAAKgC,cAKhE,CAAExB,OFnDkB,SAAAyB,GACpB,MAAO,CACL5D,KC7BmB,UD8BnBC,QAAS2D,IEgDDxB,QF5CW,WACrB,MAAO,CACLpC,KCnCoB,cC2ETyD,CAGbnC,GCEamC,cAVS,SAAAC,GAAK,MAAK,CAChCG,OAAQH,EAAM/B,KAAKH,WACnBsC,MAAOJ,EAAM/B,KAAKgC,aAAeD,EAAM/B,KAAKgC,YAAY3E,KAG/B,SAAAQ,GAAQ,MAAK,CACtCzB,OAAQ,SAACuF,EAAOQ,GAAR,OHZiB,SAAChD,EAAMgD,GAAP,sBAAAC,EAAA7E,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAiB,SAAA0E,EAAMxE,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAuE,GAAA,cAAAA,EAAArE,KAAAqE,EAAApE,MAAA,cAAAoE,EAAApE,KAAA,EACrBjB,EAAOC,KAAK,gBAAiB,CAAEiC,OAAMgD,QAAO3C,OAAQ,IAAK+C,QAAQ,IAD5C,cACtCzE,EADsCwE,EAAAlE,KAAAkE,EAAApE,KAAA,EAGzBjB,EAAOkB,IAAP,iBAAAlC,OAA4B6B,EAAShB,KAAKO,KAHjB,OAG1CS,EAH0CwE,EAAAlE,KAK1CP,EAAS,CAAEQ,KC/De,eD+DKC,QAASR,EAAShB,OALP,wBAAAwF,EAAA9D,SAAA6D,EAAA5D,SAAjB,gBAAA+D,GAAA,OAAAJ,EAAAzD,MAAAF,KAAAG,YAAA,GGYC6D,CAAYd,EAAOQ,EAAnBM,CAA0B5E,IACpD6E,OAAQ,SAAAf,GAAK,OAAI9D,EHtCgB,SAAA6E,GAAM,MAAK,CAC5CrE,KAAM,wBACNqE,UGoC0BC,CAAoBhB,OAGjCG,CA5EA,SAAAxE,GAAuC,IAChDsF,EADYV,EAAoC5E,EAApC4E,OAAQC,EAA4B7E,EAA5B6E,MAAO/F,EAAqBkB,EAArBlB,OAAQsG,EAAapF,EAAboF,OA2BvC,OACEnB,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,wCACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,8BACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,qDACbH,EAAA7D,EAAA8D,cAAA,QACEE,UAAU,cACVmB,SAAU,SAAAC,GACRA,EAAEC,mBAGJxB,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,eACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,uBACbH,EAAA7D,EAAA8D,cAACwB,EAAD,OAEFzB,EAAA7D,EAAA8D,cAAA,SACEnD,KAAK,SACLqD,UAAU,+BACVuB,YAAY,iBACZC,IAAK,SAAAC,GAAI,OAAKP,EAAQO,KAzC7BjB,EAKHX,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,sBACbH,EAAA7D,EAAA8D,cAAA,UACEE,UAAU,sBACVD,QAAS,SAAAqB,GACFF,EAAMQ,MAAMC,SAGjB3G,QAAQC,IAAIuF,EAAQC,GACpB/F,EAAOwG,EAAMQ,MAAOlB,EAASC,EAAQ,aACrCS,EAAMQ,MAAQ,MAGhB7B,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,wBAhBV,KA2CCH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,sBACbH,EAAA7D,EAAA8D,cAAA,UACEE,UAAU,sBACVD,QAAS,SAAAqB,GACPJ,EAAOE,EAAMQ,MAAMC,UAGrB9B,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,+CCoChB4B,EA3FF,SAAAhG,GAAA,IAAGD,EAAHC,EAAGD,GAAI8B,EAAP7B,EAAO6B,KAAMoD,EAAbjF,EAAaiF,OAAQgB,EAArBjG,EAAqBiG,SAAUC,EAA/BlG,EAA+BkG,WAAYC,EAA3CnG,EAA2CmG,YAA3C,OACXlC,EAAA7D,EAAA8D,cAAA,OAAKnE,GAAE,GAAApB,OAAKoB,GAAMqE,UAAU,+BAC1BH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,qBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,eACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,mBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,YACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,WACbH,EAAA7D,EAAA8D,cAACkC,EAAA,EAAD,CACEhC,UAAU,YACViC,MAAO,CAAEC,eAAgB,OAAQC,WAAY,OAC7CC,GAAE,GAAA7H,OAAKF,EAAL,WAAAE,OAAmBoB,IAEpB8B,IAGLoC,EAAA7D,EAAA8D,cAAA,OACEE,UAAU,oBACViC,MAAO,CAAEI,QAASR,EAAW,SAAW,SAExChC,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,gCAAgCC,MAAM,SACnDJ,EAAA7D,EAAA8D,cAAA,KACEE,UAAU,6BACVC,MAAM,SACNgC,MAAO,CAAEI,QAASxB,EAAS,SAAW,QACtCd,QAAS,kBAAM+B,EAAWnG,GAAI,MAEhCkE,EAAA7D,EAAA8D,cAAA,KACEE,UAAU,mCACVC,MAAM,UACNgC,MAAO,CAAEI,QAASxB,EAAS,OAAS,UACpCd,QAAS,kBAAM+B,EAAWnG,GAAI,MAEhCkE,EAAA7D,EAAA8D,cAAA,KACEE,UAAU,+BACVC,MAAM,SACNF,QAAS,kBAAMgC,EAAYpG,UAMrCkE,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,aACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,sBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,gCAAf,ktECvCJsC,8LAEFvF,KAAK8B,MAAM0D,YAAYxF,KAAK8B,MAAM2D,0DAGjBC,GACb1F,KAAK8B,MAAM2D,gBAAkBC,EAAUD,eACzCzF,KAAK8B,MAAM0D,YAAYxF,KAAK8B,MAAM2D,gDAI7B,IAAAnE,EAAAtB,KACP,OACE8C,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,8BACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,0BACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,aACZjD,KAAK8B,MAAM6D,OAAOC,IAAI,SAAAC,GAAK,OAC1B/C,EAAA7D,EAAA8D,cAAC+C,EAADhH,OAAAiH,OAAA,CACEC,IAAKH,EAAMjH,IADbE,OAAAmH,EAAA,EAAAnH,CAAA,GAGO+G,EAHP,CAIIf,SAAUxD,EAAKQ,MAAMV,YAAcE,EAAKQ,MAAM2D,gBAAkBI,EAAMnC,MACtEqB,WAAYzD,EAAKQ,MAAMiD,WACvBC,YAAa1D,EAAKQ,MAAMkD,4BAvBvB7B,IAAMC,WA2DVC,cAXS,SAAAC,GACtB,IAAIqC,EAAS7G,OAAOoH,OAAO5C,EAAMqC,QAC7B1B,EAASX,EAAM6C,iBAAiBC,cAEpC,MAAO,CACLT,OAAQA,EAAO1B,OAAO,SAAA4B,GAAK,OAAIA,EAAMnF,KAAK0F,cAAcC,SAASpC,KACjEwB,cAAenC,EAAM/B,KAAKH,WAAakC,EAAM/B,KAAKgC,YAAY3E,GAAK,KACnEwC,WAAYkC,EAAM/B,KAAKH,aAMzB,CAAEoE,YLnBuB,SAAA9B,GAAK,sBAAA4C,EAAAxH,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAqH,EAAMnH,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAkH,GAAA,cAAAA,EAAAhH,KAAAgH,EAAA/G,MAAA,WACjBiE,EADiB,CAAA8C,EAAA/G,KAAA,eAAA+G,EAAA/G,KAAA,EAExBjB,EAAOkB,IAAP,uBAAAlC,OAAkCkG,IAFV,OAAA8C,EAAAC,GAAAD,EAAA7G,KAAA6G,EAAA/G,KAAA,sBAAA+G,EAAA/G,KAAA,EAGxBjB,EAAOkB,IAAI,iBAHa,OAAA8G,EAAAC,GAAAD,EAAA7G,KAAA,OAC5BN,EAD4BmH,EAAAC,GAKlCrH,EAAS,CAAEQ,KCnDe,eDmDKC,QAASR,EAAShB,OALf,yBAAAmI,EAAAzG,SAAAwG,EAAAvG,SAAJ,gBAAA0G,GAAA,OAAAJ,EAAApG,MAAAF,KAAAG,YAAA,IKmBf4E,WLeS,SAACnG,EAAIkF,GAAL,sBAAA6C,EAAA7H,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAgB,SAAA0H,EAAMxH,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAuH,GAAA,cAAAA,EAAArH,KAAAqH,EAAApH,MAAA,cAAAoH,EAAApH,KAAA,EACjBjB,EAAOsI,IAAP,iBAAAtJ,OAA4BoB,EAA5B,UAAwC,CAAEkF,WADzB,OAClCzE,EADkCwH,EAAAlH,KAGxCP,EAAS,CAAEQ,KC9Ec,cD8EKC,QAASR,EAAShB,OAHR,wBAAAwI,EAAA9G,SAAA6G,EAAA5G,SAAhB,gBAAA+G,GAAA,OAAAJ,EAAAzG,MAAAF,KAAAG,YAAA,IKfG6E,YLqBF,SAAApG,GAAE,sBAAAoI,EAAAlI,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAA+H,EAAM7H,GAAN,OAAAJ,EAAAC,EAAAK,KAAA,SAAA4H,GAAA,cAAAA,EAAA1H,KAAA0H,EAAAzH,MAAA,cAAAyH,EAAAzH,KAAA,EACzBjB,EAAO2I,OAAP,iBAAA3J,OAA+BoB,IADN,OAG/BQ,EAAS,CAAEQ,KCtFe,eDsFKC,QAASjB,IAHT,wBAAAsI,EAAAnH,SAAAkH,EAAAjH,SAAJ,gBAAAoH,GAAA,OAAAJ,EAAA9G,MAAAF,KAAAG,YAAA,KKvBdkD,CAGbkC,GCzDa8B,EAVA,WAEb,OACEvE,EAAA7D,EAAA8D,cAAA,WACED,EAAA7D,EAAA8D,cAACuE,EAAD,MACAxE,EAAA7D,EAAA8D,cAACwE,EAAD,QCqHSlE,cAfS,SAACC,EAAOkE,GAC9B,MAAO,CACL1C,SACExB,EAAM/B,KAAKH,YACXoG,EAAS3B,OACT2B,EAAS3B,MAAMnC,QAAUJ,EAAM/B,KAAKgC,YAAY3E,KAI3B,SAAAQ,GAAQ,MAAK,CACtCqI,OAAQ,SAAC7I,EAAIsE,GAAL,OP1CiB,SAACtE,EAAI8B,GAAL,sBAAAgH,EAAA5I,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAc,SAAAyI,EAAMvI,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAsI,GAAA,cAAAA,EAAApI,KAAAoI,EAAAnI,MAAA,cAAAmI,EAAAnI,KAAA,EAChBjB,EAAOsI,IAAP,iBAAAtJ,OAA4BoB,EAA5B,WAAyC,CAAE8B,SAD3B,OACjCrB,EADiCuI,EAAAjI,KAGvCP,EAAS,CAAEQ,KCzEe,eDyEKC,QAASR,EAAShB,OAHV,wBAAAuJ,EAAA7H,SAAA4H,EAAA3H,SAAd,gBAAA6H,GAAA,OAAAH,EAAAxH,MAAAF,KAAAG,YAAA,GO0CF2H,CAAYlJ,EAAIsE,EAAhB4E,CAAuB1I,IAC9C2B,OAAQ,SAACnC,EAAImC,GAAL,OPjDiB,SAACnC,EAAImC,GAAL,sBAAAgH,EAAAjJ,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAgB,SAAA8I,EAAM5I,GAAN,OAAAJ,EAAAC,EAAAK,KAAA,SAAA2I,GAAA,cAAAA,EAAAzI,KAAAyI,EAAAxI,MAAA,OACzCnB,EAAO,CAAC,CAAEM,KAAIgB,KDlEW,ECkEQC,QAAS,CAAEkB,aAE5C3B,EAAS,CAAEQ,KCjEe,eDiEKC,QAAS,CAAEjB,KAAImC,YAHL,wBAAAkH,EAAAlI,SAAAiI,EAAAhI,SAAhB,gBAAAkI,GAAA,OAAAH,EAAA7H,MAAAF,KAAAG,YAAA,GOiDDgI,CAAYvJ,EAAImC,EAAhBoH,CAAwB/I,IAChDgJ,KAAM,SAAC1H,EAAM2H,GAAP,OAAmB5H,EAAWC,EAAM2H,EAAjB5H,CAA0BrB,MAGtCiE,CAxHA,SAAAxE,GAA+C,IACxDsF,EADYW,EAA4CjG,EAA5CiG,SAAU2C,EAAkC5I,EAAlC4I,OAAQ1G,EAA0BlC,EAA1BkC,OAAQqH,EAAkBvJ,EAAlBuJ,KAAMvC,EAAYhH,EAAZgH,MA6DhD,OACE/C,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,8BACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,8BACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,8CACbH,EAAA7D,EAAA8D,cAAA,QACEE,UAAU,8BACVmB,SAAU,SAAAC,GACRA,EAAEC,mBAGJxB,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,eACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,uBACbH,EAAA7D,EAAA8D,cAACkC,EAAA,EAAD,CAAMI,GAAE,GAAA7H,OAAKF,EAAL,KAAc2F,UAAU,0BAC9BH,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,uBAGjBH,EAAA7D,EAAA8D,cAAA,SACEnD,KAAK,SACLqD,UAAU,+BACVqF,aAAczC,EAAMnF,KACpB+D,IAAK,SAAAC,GAAI,OAAKP,EAAQO,KA7E7BI,EAKHhC,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,sBACbH,EAAA7D,EAAA8D,cAAA,UACEE,UAAU,yBACVD,QAAS,SAAAqB,GACFF,EAAMQ,MAAMC,QAGjB6C,EAAO5B,EAAMjH,GAAIuF,EAAMQ,SAGzB7B,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,wBAdV,QAkFLH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,WA1Cd6B,EAKHhC,EAAA7D,EAAA8D,cAAA,UACEE,UAAU,wBACVD,QAAS,SAAAqB,GACP+D,EAAK,OAAQvC,EAAMjH,MAGrBkE,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,sBAVR,KA2CHH,EAAA7D,EAAA8D,cAAA,UAAQE,UAAU,yBAChBH,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,wBAjEF,WACnB,IAAK6B,EACH,OAAO,KAGT,IAAMyD,EAA8B,MAAjB1C,EAAM9E,OAAiB,WAAa,aAEvD,OACE+B,EAAA7D,EAAA8D,cAAA,UACEE,UAAU,wBACVD,QAAS,SAAAqB,GACPtD,EAAO8E,EAAMjH,GAAqB,MAAjBiH,EAAM9E,OAAiB,IAAM,OAGhD+B,EAAA7D,EAAA8D,cAAA,KAAGE,UAAS,YAAAzF,OAAc+K,MAqDvBC,GACD1F,EAAA7D,EAAA8D,cAAA,UAAQE,UAAU,yBAChBH,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,sBAEfH,EAAA7D,EAAA8D,cAAA,UAAQE,UAAU,yBAChBH,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,8BCrGVwF,EAAA,SAAA5J,GAAc,IAAX6B,EAAW7B,EAAX6B,KAChB,OACEoC,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,+BACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,oBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,eACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,mBAAmBvC,IAEpCoC,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,iBAAiBiC,MAAO,CAAEwD,SAAU,WACjD5F,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,qBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,gCAAf,2OCHN0F,6MAmBJC,WAAa,WAAM,IAAAC,EACYvH,EAAKQ,MAA1BsG,EADSS,EACTT,KAAMQ,EADGC,EACHD,WAEVR,GAAQQ,GACVA,EAAW,OAAQR,EAAKxJ,wFAtBR,IAAAkK,EACe9I,KAAK8B,MAA9BsG,EADUU,EACVV,KAAMW,EADID,EACJC,eAEVX,GAAQW,GACRA,EAAeX,EAAKxJ,0CAIZ,IACJoK,EAAWhJ,KAAK8B,MAAhBkH,OAER,OAAKA,EAIEA,EAAOC,MAAMrD,IAAI,SAAAsD,GAAI,OAAIpG,EAAA7D,EAAA8D,cAAC0F,EAAD,CAAMzC,IAAKkD,EAAKtK,GAAI8B,KAAMwI,EAAKxI,SAHtD,sCAeT,OACEoC,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,gBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,4CACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,mBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,YACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,WAAWjD,KAAK8B,MAAMsG,KAAK1H,MAC1CoC,EAAA7D,EAAA8D,cAAA,OACEE,UAAU,oBACViC,MAAO,CAAEI,QAA6B,WAEtCxC,EAAA7D,EAAA8D,cAAA,KACEE,UAAU,8BACVC,MAAM,OACNF,QAAShD,KAAK4I,aAEhB9F,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,gCAAgCC,MAAM,SACnDJ,EAAA7D,EAAA8D,cAAA,KACEE,UAAU,+BACVC,MAAM,eAOhBJ,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,aAAajD,KAAKmJ,uBArDlBhG,IAAMC,WAiEdC,cANS,SAACC,EAAOkE,GAC9B,MAAO,CACLwB,OAAQ1F,EAAM8F,UAAU5B,EAASY,KAAKxJ,MAMxC,CAAEmK,eTgD0B,SAAAnK,GAAE,sBAAAyK,EAAAvK,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAoK,EAAMlK,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAiK,GAAA,cAAAA,EAAA/J,KAAA+J,EAAA9J,MAAA,cAAA8J,EAAA9J,KAAA,EACXjB,EAAOkB,IAAP,gBAAAlC,OAA2BoB,EAA3B,UADW,OAC5BS,EAD4BkK,EAAA5J,KAGlCP,EAAS,CAAEQ,KC7GmB,mBD6GKC,QAAS,CAAEjB,KAAIqK,MAAO5J,EAAShB,QAHhC,wBAAAkL,EAAAxJ,SAAAuJ,EAAAtJ,SAAJ,gBAAAwJ,GAAA,OAAAH,EAAAnJ,MAAAF,KAAAG,YAAA,IShDZyI,WTsDM,SAAClI,EAAM+I,GAAP,sBAAAC,EAAA5K,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAkB,SAAAyK,EAAMvK,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAsK,GAAA,cAAAA,EAAApK,KAAAoK,EAAAnK,MAAA,cAAAmK,EAAAnK,KAAA,EACrBjB,EAAOC,KAAK,eAAgB,CAAEiC,SADT,cACtCrB,EADsCuK,EAAAjK,KAAAiK,EAAAnK,KAAA,EAGzBjB,EAAOkB,IAAP,gBAAAlC,OAA2B6B,EAAShB,KAAKO,KAHhB,OAG1CS,EAH0CuK,EAAAjK,KAK1CrB,EAAO,CAAC,CAAEM,GAAIS,EAAShB,KAAKO,GAAIgB,KDjIP,ECiI0BC,QAAS,CAAEmB,UAAWyI,MAEzErK,EAAS,CAAEQ,KCrHc,cDqHKC,QAASR,EAAShB,OAPN,wBAAAuL,EAAA7J,SAAA4J,EAAA3J,SAAlB,gBAAA6J,GAAA,OAAAH,EAAAxJ,MAAAF,KAAAG,YAAA,KSxDXkD,CAGbsF,GCnEImB,6MAmBJC,YAAc,WAAM,IAAAlB,EACevH,EAAKQ,MAA9BsG,EADUS,EACVT,KAAM4B,EADInB,EACJmB,eAEV5B,GAAQ4B,GACVA,EAAe,WAAY5B,EAAKxJ,wFAtBhB,IAAAkK,EACe9I,KAAK8B,MAA9BsG,EADUU,EACVV,KAAM6B,EADInB,EACJmB,eAEV7B,GAAQ6B,GACVA,EAAe7B,EAAKxJ,0CAIV,IACJoK,EAAWhJ,KAAK8B,MAAhBkH,OAER,OAAKA,EAIEA,EAAOlJ,MAAM8F,IAAI,SAAAwC,GAAI,OAAItF,EAAA7D,EAAA8D,cAACmH,EAAD,CAAMlE,IAAKoC,EAAKxJ,GAAIwJ,KAAMA,MAHjD,sCAeT,OACEtF,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,gBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,4CACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,mBACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,YACbH,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,WAAWjD,KAAK8B,MAAMsG,KAAK1H,MAC1CoC,EAAA7D,EAAA8D,cAAA,OACEE,UAAU,oBACViC,MAAO,CAAEI,QAA6B,WAEtCxC,EAAA7D,EAAA8D,cAAA,KACEE,UAAU,8BACVC,MAAM,OACNF,QAAShD,KAAK+J,cAEhBjH,EAAA7D,EAAA8D,cAAA,KAAGE,UAAU,gCAAgCC,MAAM,SACnDJ,EAAA7D,EAAA8D,cAAA,KACEE,UAAU,+BACVC,MAAM,eAOhBJ,EAAA7D,EAAA8D,cAAA,OAAKE,UAAU,aAAajD,KAAKmK,uBArDbhH,IAAMC,WAiEnBC,cANS,SAACC,EAAOkE,GAC9B,MAAO,CACLwB,OAAQ1F,EAAM8G,UAAU5C,EAASY,KAAKxJ,MAMxC,CAAEqL,eVqB0B,SAAArL,GAAE,sBAAAyL,EAAAvL,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAI,SAAAoL,EAAMlL,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAiL,GAAA,cAAAA,EAAA/K,KAAA+K,EAAA9K,MAAA,cAAA8K,EAAA9K,KAAA,EACXjB,EAAOkB,IAAP,gBAAAlC,OAA2BoB,EAA3B,UADW,OAC5BS,EAD4BkL,EAAA5K,KAGlCP,EAAS,CAAEQ,KCvFmB,mBDuFKC,QAAS,CAAEjB,KAAIkB,MAAOT,EAAShB,QAHhC,wBAAAkM,EAAAxK,SAAAuK,EAAAtK,SAAJ,gBAAAwK,GAAA,OAAAH,EAAAnK,MAAAF,KAAAG,YAAA,IUrBZM,aAAYuJ,eVqCF,SAACtJ,EAAM+I,GAAP,sBAAAgB,EAAA3L,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAkB,SAAAwL,EAAMtL,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAqL,GAAA,cAAAA,EAAAnL,KAAAmL,EAAAlL,MAAA,cAAAkL,EAAAlL,KAAA,EACzBjB,EAAOC,KAAK,eAAgB,CAAEiC,OAAMd,KAAM,MADjB,cAC1CP,EAD0CsL,EAAAhL,KAAAgL,EAAAlL,KAAA,EAG7BjB,EAAOkB,IAAP,gBAAAlC,OAA2B6B,EAAShB,KAAKO,KAHZ,OAG9CS,EAH8CsL,EAAAhL,KAK9CrB,EAAO,CAAC,CAAEM,GAAIS,EAAShB,KAAKO,GAAIgB,KDjHP,ECiH0BC,QAAS,CAAEmB,UAAWyI,MAEzErK,EAAS,CAAEQ,KCzGc,cDyGKC,QAASR,EAAShB,OAPF,wBAAAsM,EAAA5K,SAAA2K,EAAA1K,SAAlB,gBAAA4K,GAAA,OAAAH,EAAAvK,MAAAF,KAAAG,YAAA,KUvCfkD,CAGbyG,GCzEaI,EAAA,SAAArL,GAAc,IAAXuJ,EAAWvJ,EAAXuJ,KAChB,MAAqB,MAAdA,EAAKxI,KACVkD,EAAA7D,EAAA8D,cAAC8H,EAAD,CAAU7E,IAAKoC,EAAKxJ,GAAIwJ,KAAMA,IAE9BtF,EAAA7D,EAAA8D,cAAC+H,EAAD,CAAe9E,IAAKoC,EAAKxJ,GAAIwJ,KAAMA,KCHjC2C,8LAEF,IAAMlF,EAAQ7F,KAAK8B,MAAM+D,MACrBA,GACF7F,KAAK8B,MAAMnD,gBAAgBkH,EAAMjH,+CAIlB8G,0CAQL,IACJsD,EAAWhJ,KAAK8B,MAAhBkH,OAER,OAAKA,EAIEA,EAAOlJ,MAAM8F,IAAI,SAAAwC,GAAI,OAAItF,EAAA7D,EAAA8D,cAACmH,EAAD,CAAMlE,IAAKoC,EAAKxJ,GAAIwJ,KAAMA,MAHjD,sCAOT,IAAMvC,EAAQ7F,KAAK8B,MAAM+D,MAEnBX,EAAmB,OADTW,GAASA,EAAM9E,QAAW,KACX,cAAgB,WAC/C,OAAO+B,EAAA7D,EAAA8D,cAAA,OAAKE,UAAS,UAAAzF,OAAY0H,IAAUlF,KAAKmK,sBA9BjChH,IAAMC,WAwCVC,cANS,SAACC,EAAOkE,GAC9B,MAAO,CACLwB,OAAQ1F,EAAM0H,WAAWxD,EAAS3B,MAAMjH,MAM1C,CAAED,mBAFW0E,CAGb0H,2BC9CaE,EAAA,SAAAC,GAAW,OAAI,SAACC,EAASC,EAAcC,GAYpD,OAAOH,EAXkB,SAAC5H,EAAOgI,GAC/B,IAJUC,EAIJvN,EAAQwN,YAAYC,MACpBC,EAAWP,EAAQ7H,EAAOgI,GAC1BK,EAAMH,YAAYC,MAClBG,GAPIL,EAOSI,EAAM3N,EAPL6N,KAAKC,MAAe,IAATP,GAAgB,KAW/C,OAFAtN,QAAQC,IAAI,wBAAyB0N,GAE9BF,GAG4BN,EAAcC,KCdtCU,EAAA,SAAAC,GAAK,OAAI,SAAAvM,GAAI,OAAI,SAAA6L,GAC9BrN,QAAQgO,MAAMX,EAAO1L,MACrB3B,QAAQiO,KAAK,cAAeZ,GAC5B,IAAIa,EAAS1M,EAAK6L,GAGlB,OAFArN,QAAQC,IAAI,aAAc8N,EAAMI,YAChCnO,QAAQoO,WACDF,KCJHG,EAAe,CACnBlL,WAAY,KACZmC,YAAa,8BCKA4C,GATU,WAAwB,IAAvB7C,EAAuBnD,UAAAoM,OAAA,QAAAC,IAAArM,UAAA,GAAAA,UAAA,GAAf,GAAImL,EAAWnL,UAAAoM,OAAA,EAAApM,UAAA,QAAAqM,EAC/C,OAAQlB,EAAO1L,MACb,IAAK,wBACH,OAAO0L,EAAOrH,OAChB,QACE,OAAOX,ICKEmJ,6BAAgB,CAC7BlL,KFJF,WAAiD,IAAjC+B,EAAiCnD,UAAAoM,OAAA,QAAAC,IAAArM,UAAA,GAAAA,UAAA,GAAzBmM,EAAchB,EAAWnL,UAAAoM,OAAA,EAAApM,UAAA,QAAAqM,EAC/C,OAAQlB,EAAO1L,MACb,IdTmB,UcUjB,OAAOd,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZ,CAAmBlC,YAAY,EAAMmC,YAAa+H,EAAOzL,UAC3D,IdVoB,WcWlB,OAAOf,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZ,CAAmBlC,YAAY,EAAOmC,YAAa,OACrD,QACE,OAAOD,IEFXqC,OCAa,WAAwB,IAAvBrC,EAAuBnD,UAAAoM,OAAA,QAAAC,IAAArM,UAAA,GAAAA,UAAA,GAAf,GAAImL,EAAWnL,UAAAoM,OAAA,EAAApM,UAAA,QAAAqM,EACjC3G,EAAQ,KACZ,OAAQyF,EAAO1L,MACb,IjBZ6B,oBiBiB3B,OAJAiG,EAAK/G,OAAAmH,EAAA,EAAAnH,CAAA,GACAwE,EAAMgI,EAAOzL,QAAQjB,IADrB,CAEHkB,MAAOwL,EAAOzL,QAAQC,QAEjBhB,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZxE,OAAA4N,EAAA,EAAA5N,CAAA,GAAoBwM,EAAOzL,QAAQjB,GAAKiH,IAC1C,IjBhBwB,eiBiBtB,OAAO/G,OAAAmH,EAAA,EAAAnH,CAAA,GAAK6N,IAAEC,QAAQtB,EAAOzL,QAAS,OACxC,IjBjBuB,ciBmBvB,IjBlBwB,eiBoBxB,IjBlBwB,eiBoBxB,IjBnBuB,ciBoBrB,OAAOf,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZxE,OAAA4N,EAAA,EAAA5N,CAAA,GAAoBwM,EAAOzL,QAAQjB,GAAK0M,EAAOzL,UACjD,IjBvBwB,eiBwBtB,OAAO8M,IAAEE,KAAKvJ,EAAOgI,EAAOzL,SAC9B,IjBtBwB,eiB2BtB,OAJAgG,EAAK/G,OAAAmH,EAAA,EAAAnH,CAAA,GACAwE,EAAMgI,EAAOzL,QAAQjB,IADrB,CAEHmC,OAAQuK,EAAOzL,QAAQkB,SAElBjC,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZxE,OAAA4N,EAAA,EAAA5N,CAAA,GAAoBwM,EAAOzL,QAAQjB,GAAKiH,IAC1C,QACE,OAAOvC,ID3BX0H,WEXa,WAAwB,IAAvB1H,EAAuBnD,UAAAoM,OAAA,QAAAC,IAAArM,UAAA,GAAAA,UAAA,GAAf,GAAImL,EAAWnL,UAAAoM,OAAA,EAAApM,UAAA,QAAAqM,EACrC,OAAQlB,EAAO1L,MACb,IlBD6B,oBkBE3B,OAAOd,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZxE,OAAA4N,EAAA,EAAA5N,CAAA,GAAoBwM,EAAOzL,QAAQjB,GAAK0M,EAAOzL,UACjD,QACE,OAAOyD,IFOXxD,MGVa,WAAwB,IAAvBwD,EAAuBnD,UAAAoM,OAAA,QAAAC,IAAArM,UAAA,GAAAA,UAAA,GAAf,GAAImL,EAAWnL,UAAAoM,OAAA,EAAApM,UAAA,QAAAqM,EACrC,OAAQlB,EAAO1L,MACb,InBSuB,cmBRrB,OAAOd,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZxE,OAAA4N,EAAA,EAAA5N,CAAA,GAAoBwM,EAAOzL,QAAQjB,GAAK0M,EAAOzL,UACjD,QACE,OAAOyD,IHMX8G,UIba,WAAwB,IAAvB9G,EAAuBnD,UAAAoM,OAAA,QAAAC,IAAArM,UAAA,GAAAA,UAAA,GAAf,GAAImL,EAAWnL,UAAAoM,OAAA,EAAApM,UAAA,QAAAqM,EACrC,OAAQlB,EAAO1L,MACb,IpBS4B,mBoBR1B,OAAOd,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZxE,OAAA4N,EAAA,EAAA5N,CAAA,GAAoBwM,EAAOzL,QAAQjB,GAAK0M,EAAOzL,UACjD,QACE,OAAOyD,IJSX8F,UKda,WAAwB,IAAvB9F,EAAuBnD,UAAAoM,OAAA,QAAAC,IAAArM,UAAA,GAAAA,UAAA,GAAf,GAAImL,EAAWnL,UAAAoM,OAAA,EAAApM,UAAA,QAAAqM,EACrC,OAAQlB,EAAO1L,MACb,IrBa4B,mBqBZ1B,OAAOd,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZxE,OAAA4N,EAAA,EAAA5N,CAAA,GAAoBwM,EAAOzL,QAAQjB,GAAK0M,EAAOzL,UACjD,QACE,OAAOyD,ILUX2F,MMba,WAAwB,IAAvB3F,EAAuBnD,UAAAoM,OAAA,QAAAC,IAAArM,UAAA,GAAAA,UAAA,GAAf,GAAImL,EAAWnL,UAAAoM,OAAA,EAAApM,UAAA,QAAAqM,EACrC,OAAQlB,EAAO1L,MACb,ItBauB,csBZrB,OAAOd,OAAAmH,EAAA,EAAAnH,CAAA,GAAKwE,EAAZxE,OAAA4N,EAAA,EAAA5N,CAAA,GAAoBwM,EAAOzL,QAAQjB,GAAK0M,EAAOzL,UACjD,QACE,OAAOyD,INSX6C,sBOAa2G,GAVQ,WACrB,IAAMC,EAAc,CAACC,EAAkBC,KAGjCC,EAAY,CAFSC,kBAAejN,WAAf,EAAmB6M,GAEPK,GACjCC,EAAoBC,sBAAmBpN,WAAnB,EAAuBgN,GAEjD,OAAOhC,sBAAYqC,GAAa,GAAIF,GAGvBP,GCdFU,GAA0B,EAC1BC,GAA0B,EAC1BC,GAA2B,EAKpCC,GAAS,KA8Bb,SAASC,GAAYC,EAAIC,GACvB7P,QAAQC,IAAI,kBAAmB6P,KAAKC,MAAMF,IAC1CD,EAAGI,KAAKH,GAGV,SAASI,GAAoBJ,GAC3B,OAAQA,EAAIlO,MACV,KAAK4N,GACL,KAAKC,GACL,KAAKC,GAIH,OAHAzP,QAAQC,IAAI,uCAAwC4P,GACpD1N,EAAW0N,EAAIK,QAAf/N,CAAwB4L,GAAM5M,eAC9BT,EAAgBmP,EAAIK,QAApBxP,CAA6BqN,GAAM5M,WAS1B,IAAAgP,GAAA,SAAAN,GACb,IAAKH,GAGH,OAFA1P,QAAQC,IAAI,gCACZyP,GApDJ,SAAsBG,GACpB,IAAIO,EAAO,IAAIC,UAAJ,GAAA9Q,OAAiBC,EAAjB,mBAwBX,OAtBA4Q,EAAKE,OAAS,SAASC,GACrBvQ,QAAQC,IAAI,oBACR4P,GACFF,GAAYS,EAAMP,IAGtBO,EAAKI,QAAU,SAASD,GACtBvQ,QAAQC,IAAI,oBACZyP,GAAS,MAEXU,EAAKK,UAAY,SAASF,GACxB,IAAMG,EAAgBZ,KAAKC,MAAMQ,EAAInQ,MAErC,GADAJ,QAAQC,IAAI,qBAAsByQ,GAC9BA,GAAiBA,EAAcpC,OAAO,KAAAqC,GAAA,EAAAC,GAAA,EAAAC,OAAAtC,EAAA,IACxC,QAAAuC,EAAAC,EAAyBL,EAAzBM,OAAAC,cAAAN,GAAAG,EAAAC,EAAAvP,QAAA0P,MAAAP,GAAA,EACEV,GADsCa,EAAApK,OADA,MAAAyK,GAAAP,GAAA,EAAAC,EAAAM,EAAA,YAAAR,GAAA,MAAAI,EAAAK,QAAAL,EAAAK,SAAA,WAAAR,EAAA,MAAAC,SAKxC7Q,QAAQC,IAAI,iCAITmQ,EA2BIiB,CAAaxB,IAIxBF,GAAYD,GAAQG,IC9DhByB,+LACgB,IACV3Q,EAAOoB,KAAK8B,MAAM1E,MAAMoS,OAAxB5Q,GAERoB,KAAK8B,MAAM1B,WAAWxB,GAEtB+O,GAAOI,KAAK0B,UAAU,CAAE7Q,uDAIxB+O,GAAOI,KAAK0B,UAAU,CAAE7Q,GAAI,uCAI5B,OAAKoB,KAAK8B,MAAM+D,MAKd/C,EAAA7D,EAAA8D,cAAA,WACED,EAAA7D,EAAA8D,cAAC2M,EAAD,CAAQ7J,MAAO7F,KAAK8B,MAAM+D,QAC1B/C,EAAA7D,EAAA8D,cAAC4M,EAAD,CAAM9J,MAAO7F,KAAK8B,MAAM+D,SANnB/C,EAAA7D,EAAA8D,cAAA,gCAfOI,IAAMC,WAiCXC,eANS,SAACC,EAAOkE,GAC9B,MAAO,CACL3B,MAAOvC,EAAMqC,OAAO6B,EAASpK,MAAMoS,OAAO5Q,MAM5C,CAAEwB,cAFWiD,CAGbkM,wCCzCaK,eCgBAC,GAXH,kBACV/M,EAAA7D,EAAA8D,cAAC+M,GAAA,EAAD,CAAQC,QAASA,IACfjN,EAAA7D,EAAA8D,cAAA,WACED,EAAA7D,EAAA8D,cAACiN,GAAA,EAAD,KACElN,EAAA7D,EAAA8D,cAACkN,GAAA,EAAD,CAAOC,KAAI,GAAA1S,OAAKF,EAAL,KAAc6S,OAAK,EAACC,UAAW/I,IAC1CvE,EAAA7D,EAAA8D,cAACkN,GAAA,EAAD,CAAOC,KAAI,GAAA1S,OAAKF,EAAL,cAAuB8S,UAAWb,qBCFrDc,iBACEvN,EAAA7D,EAAA8D,cAACuN,EAAA,EAAD,CAAUtE,MAAOA,IACflJ,EAAA7D,EAAA8D,cAACwN,GAAD,OAEFC,SAASC,eAAe,SjCmHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMlO,KAAK,SAAAmO,GACjCA,EAAaC","file":"static/js/main.fd4c2124.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const secure = 's';\r\nconst host = 'dmitrybodnar.com';\r\n//const secure = '';\r\n//const host = 'localhost:3001';\r\n\r\nexport const root = '/kanban-ui';\r\n//export const root = '';\r\nexport const api = `http${secure}://${host}`;\r\nexport const wsapi = `ws${secure}://${host}`;\r\n","import axios from 'axios';\r\nimport { api } from './urls';\r\n\r\nexport default axios.create({\r\n  baseURL: api\r\n});","import server from './index';\r\n\r\nexport const UPDATECARD = 0;\r\nexport const REMOVECARD = 1;\r\nexport const EXCLUDECHILD = 2;\r\nexport const APPENDCHILD = 3;\r\nexport const INSERTBEFORE = 4;\r\nexport const INSERTAFTER = 5;\r\nexport const LAYOUTBOARD = 6;\r\n\r\nlet sharedWorker = null;\r\n\r\nif (window.SharedWorker) {\r\n  sharedWorker = new SharedWorker('/worker.js');\r\n  sharedWorker.port.start();\r\n\r\n  console.log('shared worker: started');\r\n\r\n  sharedWorker.port.addEventListener('message', event => {\r\n    console.log('main: message received from shared worker', event.data);\r\n  });\r\n}\r\n\r\nexport default cmd => {\r\n  if (!sharedWorker) {\r\n    console.log('main: shared worker is not available');\r\n    \r\n    server.post(`/v1/api/command`, cmd);\r\n    \r\n    return;\r\n  }\r\n\r\n  console.log('main: post commands to shared worker', cmd);\r\n\r\n  sharedWorker.port.postMessage(cmd);\r\n\r\n  console.log('main: commands posted to shared worker');\r\n};\r\n","import server from '../apis/index';\r\nimport worker, { LAYOUTBOARD, APPENDCHILD } from '../apis/worker';\r\n//import { root } from '../apis/urls';\r\n//import history from '../history';\r\n\r\nimport {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n\r\n  FETCH_BOARD_LANES,\r\n\r\n  CREATE_BOARD,\r\n  FETCH_BOARDS,\r\n  FETCH_BOARD,\r\n  DELETE_BOARD,\r\n  RENAME_BOARD,\r\n  SHARE_BOARD,\r\n  LAYOUT_BOARD,\r\n\r\n  FETCH_LANE_LANES,\r\n  CREATE_LANE,\r\n\r\n  FETCH_LANE_CARDS,\r\n  CREATE_CARD\r\n\r\n} from './types';\r\n\r\nexport const signIn = userId => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  };\r\n};\r\n\r\nexport const setVisibilityFilter = filter => ({\r\n  type: 'SET_VISIBILITY_FILTER',\r\n  filter\r\n});\r\n\r\nexport const fetchBoardLanes = id => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${id}/lane`);\r\n\r\n  dispatch({ type: FETCH_BOARD_LANES, payload: { id, lanes: response.data }});\r\n};\r\n\r\nexport const fetchBoards = owner => async dispatch => {\r\n  const response = owner\r\n    ? await server.get(`/v1/api/board?owner=${owner}`)\r\n    : await server.get('/v1/api/board');\r\n\r\n  dispatch({ type: FETCH_BOARDS, payload: response.data });\r\n};\r\n\r\nexport const fetchBoard = id => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${id}`);\r\n\r\n  dispatch({ type: FETCH_BOARD, payload: response.data });\r\n};\r\n\r\nexport const createBoard = (name, owner) => async dispatch => {\r\n  let response = await server.post('/v1/api/board', { name, owner, layout: 'H', shared: false });\r\n\r\n  response = await server.get(`/v1/api/board/${response.data.id}`);\r\n\r\n  dispatch({ type: CREATE_BOARD, payload: response.data });\r\n};\r\n\r\nexport const layoutBoard = (id, layout) => async dispatch => {\r\n  worker([{ id, type: LAYOUTBOARD, payload: { layout } }]);\r\n\r\n  dispatch({ type: LAYOUT_BOARD, payload: { id, layout } });\r\n};\r\n\r\nexport const renameBoard = (id, name) => async dispatch => {\r\n  const response = await server.put(`/v1/api/board/${id}/rename`, { name });\r\n\r\n  dispatch({ type: RENAME_BOARD, payload: response.data });\r\n};\r\n\r\nexport const shareBoard = (id, shared) => async dispatch => {\r\n  const response = await server.put(`/v1/api/board/${id}/share`, { shared });\r\n\r\n  dispatch({ type: SHARE_BOARD, payload: response.data });\r\n};\r\n\r\nexport const deleteBoard = id => async dispatch => {\r\n  await server.delete(`/v1/api/board/${id}`);\r\n\r\n  dispatch({ type: DELETE_BOARD, payload: id });\r\n};\r\n\r\nexport const fetchLaneLanes = id => async dispatch => {\r\n  const response = await server.get(`/v1/api/lane/${id}/lane`);\r\n\r\n  dispatch({ type: FETCH_LANE_LANES, payload: { id, lanes: response.data }});\r\n};\r\n\r\nexport const createLane = (name, parentId) => async dispatch => {\r\n  let response = await server.post('/v1/api/lane', { name, layout: 'H', type: 'L' });\r\n\r\n  response = await server.get(`/v1/api/lane/${response.data.id}`);\r\n\r\n  worker([{ id: response.data.id, type: APPENDCHILD, payload: { parent_id: parentId } }]);\r\n\r\n  dispatch({ type: CREATE_LANE, payload: response.data });\r\n};\r\n\r\nexport const createCardLane = (name, laneId) => async dispatch => {\r\n  let response = await server.post('/v1/api/lane', { name, type: 'C' });\r\n\r\n  response = await server.get(`/v1/api/lane/${response.data.id}`);\r\n\r\n  worker([{ id: response.data.id, type: APPENDCHILD, payload: { parent_id: laneId } }]);\r\n\r\n  dispatch({ type: CREATE_LANE, payload: response.data });\r\n};\r\n\r\nexport const fetchLaneCards = id => async dispatch => {\r\n  const response = await server.get(`/v1/api/lane/${id}/card`);\r\n\r\n  dispatch({ type: FETCH_LANE_CARDS, payload: { id, cards: response.data }});\r\n};\r\n\r\nexport const createCard = (name, laneId) => async dispatch => {\r\n  let response = await server.post('/v1/api/card', { name });\r\n\r\n  response = await server.get(`/v1/api/card/${response.data.id}`);\r\n\r\n  worker([{ id: response.data.id, type: APPENDCHILD, payload: { parent_id: laneId } }]);\r\n\r\n  dispatch({ type: CREATE_CARD, payload: response.data });\r\n};\r\n","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\n\r\nexport const FETCH_BOARD_LANES = 'FETCH_BOARD_LANES'\r\n\r\nexport const FETCH_BOARDS = 'FETCH_BOARDS';\r\nexport const FETCH_BOARD = 'FETCH_BOARD';\r\nexport const CREATE_BOARD = 'CREATE_BOARD';\r\nexport const DELETE_BOARD = 'DELETE_BOARD';\r\nexport const RENAME_BOARD = 'RENAME_BOARD';\r\nexport const SHARE_BOARD = 'SHARE_BOARD';\r\nexport const LAYOUT_BOARD = 'LAYOUT_BOARD';\r\n\r\nexport const FETCH_LANE_LANES = 'FETCH_LANE_LANES'\r\n\r\nexport const CREATE_LANE = 'CREATE_LANE';\r\n\r\nexport const FETCH_LANE_CARDS = 'FETCH_LANE_CARDS'\r\n\r\nexport const CREATE_CARD = 'CREATE_CARD';","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signOut } from '../actions';\r\n\r\nclass GoogleAuth extends React.Component {\r\n  componentDidMount() {\r\n    window.gapi.load('client:auth2', () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId:\r\n            '745975090298-bi7i72f2akkt9cglmjjsgqh0q9qo2vmt.apps.googleusercontent.com', //https://dmibod.github.io\r\n            //'797401886567-9cumct9mrt3v2va409rasa7fa6fq02hh.apps.googleusercontent.com', //http://localhost:3000\r\n          scope: 'email'\r\n        })\r\n        .then(() => {\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n        });\r\n    });\r\n  }\r\n\r\n  onAuthChange = isSignedIn => {\r\n    if (isSignedIn) {\r\n      const profile = this.auth.currentUser.get().getBasicProfile();\r\n      const payload = {\r\n        id: profile.getId(),\r\n        email: profile.getEmail(),\r\n        name: profile.getName()\r\n      };\r\n      this.props.signIn(payload);\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n\r\n  render() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button\r\n          onClick={this.onSignOutClick}\r\n          className=\"btn btn-info btn-sm\"\r\n          title={this.props.profile.name}\r\n        >\r\n          <i className=\"fa fa-fw fa-google\" />\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button\r\n          onClick={this.onSignInClick}\r\n          className=\"btn btn-info btn-sm\"\r\n        >\r\n          <i className=\"fa fa-fw fa-google\" />\r\n          Sign In\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { isSignedIn: state.auth.isSignedIn, profile: state.auth.userProfile };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { signIn, signOut }\r\n)(GoogleAuth);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createBoard, setVisibilityFilter } from '../../actions';\r\nimport GoogleAuth from '../GoogleAuth';\r\n\r\nconst Header = ({ secure, owner, create, filter }) => {\r\n  let input;\r\n\r\n  const createButton = () => {\r\n    if (!secure) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"input-group-append\">\r\n        <button\r\n          className=\"btn btn-info btn-sm\"\r\n          onClick={e => {\r\n            if (!input.value.trim()) {\r\n              return;\r\n            }\r\n            console.log(secure, owner);\r\n            create(input.value, secure ? owner : 'anonymous');\r\n            input.value = '';\r\n          }}\r\n        >\r\n          <i className=\"fa fa-fw fa-check\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar bg-dark navbar-dark fixed-top\">\r\n      <div className=\"container-fluid no-gutters\">\r\n        <div className=\"col-12 col-sm-9 col-md-6 col-lg-3 ml-auto mr-auto\">\r\n          <form\r\n            className=\"input-group\"\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <GoogleAuth />\r\n              </div>\r\n              <input\r\n                type=\"search\"\r\n                className=\"form-control form-control-sm\"\r\n                placeholder=\"Board title...\"\r\n                ref={node => (input = node)}\r\n              />\r\n              {createButton()}\r\n              <div className=\"input-group-append\">\r\n                <button\r\n                  className=\"btn btn-info btn-sm\"\r\n                  onClick={e => {\r\n                    filter(input.value.trim());\r\n                  }}\r\n                >\r\n                  <i className=\"fa fa-fw fa-search\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  secure: state.auth.isSignedIn,\r\n  owner: state.auth.userProfile && state.auth.userProfile.id\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  create: (title, owner) => createBoard(title, owner)(dispatch),\r\n  filter: title => dispatch(setVisibilityFilter(title))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { root } from '../../apis/urls';\r\n\r\nconst Item = ({ id, name, shared, editable, shareBoard, deleteBoard }) => (\r\n  <div id={`${id}`} className=\"card-wrapper float-left m-3\">\r\n    <div className=\"card shadow board\">\r\n      <div className=\"card-header\">\r\n        <div className=\"card-title mb-0\">\r\n          <div className=\"row mx-0\">\r\n            <div className=\"mr-auto\">\r\n              <Link\r\n                className=\"text-info\"\r\n                style={{ textDecoration: 'none', fontWeight: '500' }}\r\n                to={`${root}/board/${id}`}\r\n              >\r\n                {name}\r\n              </Link>\r\n            </div>\r\n            <div\r\n              className=\"hover-card-badges\"\r\n              style={{ display: editable ? 'inline' : 'none' }}\r\n            >\r\n              <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n              <i\r\n                className=\"fa fa-fw fa-eye text-muted\"\r\n                title=\"public\"\r\n                style={{ display: shared ? 'inline' : 'none' }}\r\n                onClick={() => shareBoard(id, false)}\r\n              />\r\n              <i\r\n                className=\"fa fa-fw fa-eye-slash text-muted\"\r\n                title=\"private\"\r\n                style={{ display: shared ? 'none' : 'inline' }}\r\n                onClick={() => shareBoard(id, true)}\r\n              />\r\n              <i\r\n                className=\"fa fa-fw fa-trash text-muted\"\r\n                title=\"delete\"\r\n                onClick={() => deleteBoard(id)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"board-body-wrapper\">\r\n          <div className=\"card-text small text-justify\">\r\n            Lorem ipsum dolor sit amet consectetur adipisicing elit. Error quis,\r\n            sed temporibus numquam voluptas cupiditate nemo corrupti quia velit\r\n            odio quae natus molestias unde dolor aliquam magni consequuntur nisi\r\n            at illum inventore maxime! Exercitationem minima voluptate, culpa ut\r\n            eveniet enim harum illum eius quaerat alias labore fugiat sapiente\r\n            odit consectetur delectus aliquam amet deleniti in iusto quis\r\n            tempora ullam optio, nostrum quam! Architecto, laboriosam? Culpa\r\n            dolorem eum error dignissimos nostrum ea ratione similique hic\r\n            nesciunt, facere facilis doloremque, praesentium, corporis tempora\r\n            tempore cupiditate ab quam? Incidunt distinctio tempora a illum\r\n            eligendi quod voluptatibus excepturi laboriosam natus repellendus?\r\n            Quam dolor pariatur eveniet error at excepturi aperiam blanditiis\r\n            voluptatem expedita. Nisi saepe nulla accusantium. Consectetur,\r\n            velit voluptate corrupti quae repellat quaerat! Vel ut commodi est\r\n            dolorum ducimus culpa facilis pariatur incidunt, quisquam libero aut\r\n            sint mollitia quaerat ipsum iusto iure fuga nostrum vitae dolor\r\n            perferendis eligendi similique earum? Delectus unde sint\r\n            voluptatibus explicabo vel distinctio dolores illo fugit error\r\n            officia cupiditate, itaque libero ipsam repudiandae provident quasi\r\n            omnis modi ipsa eos quibusdam debitis. Aliquam earum quos vel fugit,\r\n            odit necessitatibus consectetur minima quae tempora quam libero ipsa\r\n            repellendus eius sunt veritatis distinctio quod a laudantium!\r\n            Cupiditate accusamus odit voluptatibus, error autem, enim iusto,\r\n            fuga corporis totam doloremque quaerat? Magni, corporis, et numquam\r\n            vel, nam reiciendis minima vero ullam deserunt quis officia dolor?\r\n            Nihil sunt aperiam sequi labore itaque libero repellat quaerat quo\r\n            sit facilis recusandae ea vero blanditiis nostrum dolorem, illo\r\n            soluta dignissimos praesentium iure ipsum. Nemo ullam dolorem\r\n            cupiditate commodi facilis corporis officia nam alias? Impedit,\r\n            dolores omnis, adipisci, quaerat eligendi aliquam beatae ratione\r\n            debitis in accusamus eum provident quam aut voluptatibus eveniet\r\n            nulla. Nam unde aspernatur error dignissimos odit omnis aperiam\r\n            nesciunt? Quae rerum molestias iusto aliquid harum dolores maiores\r\n            consequatur voluptate architecto odit facilis sapiente sed, nostrum\r\n            doloribus modi?\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nItem.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Item from './Item';\r\nimport {\r\n  fetchBoards,\r\n  shareBoard,\r\n  deleteBoard\r\n} from '../../actions';\r\n\r\nclass List extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchBoards(this.props.currentUserId);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.currentUserId !== prevProps.currentUserId) {\r\n      this.props.fetchBoards(this.props.currentUserId);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid board-list\">\r\n        <div className=\"lane-wrapper lane-item\">\r\n          <div className=\"lane-body\">\r\n            {this.props.boards.map(board => (\r\n              <Item\r\n                key={board.id}\r\n                {...{\r\n                  ...board,\r\n                  editable: this.props.isSignedIn && this.props.currentUserId === board.owner,\r\n                  shareBoard: this.props.shareBoard,\r\n                  deleteBoard: this.props.deleteBoard\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\nTodoList.propTypes = {\r\n  todos: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      selected: PropTypes.bool.isRequired,\r\n      text: PropTypes.string.isRequired\r\n    }).isRequired\r\n  ).isRequired,\r\n  toggleTodo: PropTypes.func.isRequired,\r\n  removeTodo: PropTypes.func.isRequired\r\n};\r\n*/\r\n\r\nconst mapStateToProps = state => {\r\n  let boards = Object.values(state.boards);\r\n  let filter = state.visibilityFilter.toLowerCase();\r\n\r\n  return {\r\n    boards: boards.filter(board => board.name.toLowerCase().includes(filter)),\r\n    currentUserId: state.auth.isSignedIn ? state.auth.userProfile.id : null,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoards, shareBoard, deleteBoard }\r\n)(List);\r\n","import React from 'react';\r\nimport Header from './boards/Header';\r\nimport List from './boards/List';\r\n\r\nconst Boards = () => {\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <List />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Boards;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { renameBoard, layoutBoard, createLane } from '../../actions';\r\nimport { root } from '../../apis/urls';\r\n\r\nconst Header = ({ editable, update, layout, lane, board }) => {\r\n  let input;\r\n\r\n  const updateButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"input-group-append\">\r\n        <button\r\n          className=\"btn btn-success btn-sm\"\r\n          onClick={e => {\r\n            if (!input.value.trim()) {\r\n              return;\r\n            }\r\n            update(board.id, input.value);\r\n          }}\r\n        >\r\n          <i className=\"fa fa-fw fa-check\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const layoutButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    const layoutIcon = board.layout === 'V' ? 'fa-table' : 'fa-columns';\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-sm text-white\"\r\n        onClick={e => {\r\n          layout(board.id, board.layout === 'V' ? 'H' : 'V');\r\n        }}\r\n      >\r\n        <i className={`fa fa-fw ${layoutIcon}`} />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  const laneButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-sm text-white\"\r\n        onClick={e => {\r\n          lane('Lane', board.id);\r\n        }}\r\n      >\r\n        <i className=\"fa fa-fw fa-file\" />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar bg-dark navbar-dark\">\r\n      <div className=\"container-fluid no-gutters\">\r\n        <div className=\"col-12 col-sm-12 col-md-6 col-lg-3 ml-auto\">\r\n          <form\r\n            className=\"input-group ml-auto mr-auto\"\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <Link to={`${root}/`} className=\"btn btn-success btn-sm\">\r\n                  <i className=\"fa fa-fw fa-home\" />\r\n                </Link>\r\n              </div>\r\n              <input\r\n                type=\"search\"\r\n                className=\"form-control form-control-sm\"\r\n                defaultValue={board.name}\r\n                ref={node => (input = node)}\r\n              />\r\n              {updateButton()}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"mr-auto\">\r\n          {laneButton()}\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-filter\" />\r\n          </button>\r\n          {layoutButton()}\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-gear\" />\r\n          </button>\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-refresh\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    editable:\r\n      state.auth.isSignedIn &&\r\n      ownProps.board &&\r\n      ownProps.board.owner === state.auth.userProfile.id\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  update: (id, title) => renameBoard(id, title)(dispatch),\r\n  layout: (id, layout) => layoutBoard(id, layout)(dispatch),\r\n  lane: (name, boardId) => createLane(name, boardId)(dispatch)\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header);\r\n","import React from 'react';\r\n\r\nexport default ({ name }) => {\r\n  return (\r\n    <div className=\"card-wrapper float-left m-3\">\r\n      <div className=\"card shadow item\">\r\n        <div className=\"card-header\">\r\n          <div className=\"card-title mb-0\">{name}</div>\r\n        </div>\r\n        <div className=\"card-body py-2\" style={{ overflow: 'hidden' }}>\r\n          <div className=\"card-body-wrapper\">\r\n            <div className=\"card-text small text-justify\">\r\n              Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n              Aspernatur odio fuga perspiciatis nesciunt rem quasi vero deleniti\r\n              sed beatae ex laborum dignissimos ipsam doloremque, expedita, quae\r\n              eum voluptates! Ut, necessitatibus!\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  fetchLaneCards,\r\n  createCard\r\n} from '../../actions';\r\nimport Card from './Card';\r\n\r\nclass CardLane extends React.Component {\r\n  componentDidMount() {\r\n    const { lane, fetchLaneCards } = this.props;\r\n\r\n    if (lane && fetchLaneCards) {\r\n        fetchLaneCards(lane.id);\r\n    }\r\n  }\r\n\r\n  renderCards() {\r\n    const { record } = this.props;\r\n\r\n    if (!record) {\r\n      return null;\r\n    }\r\n\r\n    return record.cards.map(card => <Card key={card.id} name={card.name} />);\r\n  }\r\n\r\n  createCard = () => {\r\n    const { lane, createCard } = this.props;\r\n\r\n    if (lane && createCard) {\r\n      createCard('Card', lane.id);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"lane-wrapper\">\r\n        <div className=\"lane-header card-header border rounded-0\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{this.props.lane.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: /*editable*/ true ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-file text-muted\"\r\n                  title=\"card\"\r\n                  onClick={this.createCard}\r\n                />\r\n                <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted\"\r\n                  title=\"delete\"\r\n                  /*onClick={() => deleteLane(id)}*/\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"lane-body\">{this.renderCards()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    record: state.laneCards[ownProps.lane.id]\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchLaneCards, createCard }\r\n)(CardLane);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  fetchLaneLanes,\r\n  createLane,\r\n  createCardLane\r\n} from '../../actions';\r\nimport Lane from './Lane';\r\n\r\nclass CompositeLane extends React.Component {\r\n  componentDidMount() {\r\n    const { lane, fetchLaneLanes } = this.props;\r\n\r\n    if (lane && fetchLaneLanes) {\r\n      fetchLaneLanes(lane.id);\r\n    }\r\n  }\r\n\r\n  renderLanes() {\r\n    const { record } = this.props;\r\n\r\n    if (!record) {\r\n      return null;\r\n    }\r\n\r\n    return record.lanes.map(lane => <Lane key={lane.id} lane={lane} />);\r\n  }\r\n\r\n  createChild = () => {\r\n    const { lane, createCardLane } = this.props;\r\n\r\n    if (lane && createCardLane) {\r\n      createCardLane('CardLane', lane.id);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"lane-wrapper\">\r\n        <div className=\"lane-header card-header border rounded-0\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{this.props.lane.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: /*editable*/ true ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-file text-muted\"\r\n                  title=\"card\"\r\n                  onClick={this.createChild}\r\n                />\r\n                <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted\"\r\n                  title=\"delete\"\r\n                  /*onClick={() => deleteLane(id)}*/\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"lane-body\">{this.renderLanes()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    record: state.laneLanes[ownProps.lane.id]\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchLaneLanes, createLane, createCardLane }\r\n)(CompositeLane);\r\n","import React from 'react';\r\nimport CardLane from './CardLane';\r\nimport CompositeLane from './CompositeLane';\r\n\r\nexport default ({ lane }) => {\r\n  return lane.type === 'C' ? (\r\n    <CardLane key={lane.id} lane={lane} />\r\n  ) : (\r\n    <CompositeLane key={lane.id} lane={lane} />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchBoardLanes } from '../../actions';\r\nimport Lane from './Lane';\r\n\r\nclass Body extends React.Component {\r\n  componentDidMount() {\r\n    const board = this.props.board;\r\n    if (board) {\r\n      this.props.fetchBoardLanes(board.id);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    /*\r\n    if (this.props.record.lanes.length !== prevProps.record.lanes.length) {\r\n      this.props.fetchBoardLanes(this.props.record.id);\r\n    }\r\n    */\r\n  }\r\n\r\n  renderLanes() {\r\n    const { record } = this.props;\r\n\r\n    if (!record) {\r\n      return null;\r\n    }\r\n\r\n    return record.lanes.map(lane => <Lane key={lane.id} lane={lane} />);\r\n  }\r\n\r\n  render() {\r\n    const board = this.props.board;\r\n    const layout = (board && board.layout) || 'V';\r\n    const style = layout === 'V' ? 'flex-column' : 'flex-row';\r\n    return <div className={`d-flex ${style}`}>{this.renderLanes()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    record: state.boardLanes[ownProps.board.id]\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoardLanes }\r\n)(Body);\r\n\r\n","const round = number => Math.round(number * 100) / 100;\r\n\r\nexport default createStore => (reducer, initialState, enhancer) => {\r\n  const monitoredReducer = (state, action) => {\r\n    const start = performance.now();\r\n    const newState = reducer(state, action);\r\n    const end = performance.now();\r\n    const diff = round(end - start);\r\n\r\n    console.log('reducer process time:', diff);\r\n\r\n    return newState;\r\n  };\r\n\r\n  return createStore(monitoredReducer, initialState, enhancer);\r\n};\r\n","export default store => next => action => {\r\n  console.group(action.type);\r\n  console.info('dispatching', action);\r\n  let result = next(action);\r\n  console.log('next state', store.getState());\r\n  console.groupEnd();\r\n  return result;\r\n};\r\n","import { SIGN_IN, SIGN_OUT } from '../actions/types';\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: null,\r\n  userProfile: null\r\n};\r\n\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userProfile: action.payload };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userProfile: null };\r\n    default:\r\n      return state;\r\n  }\r\n};","const visibilityFilter = (state = '', action) => {\r\n  switch (action.type) {\r\n    case 'SET_VISIBILITY_FILTER':\r\n      return action.filter\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default visibilityFilter","import { combineReducers } from 'redux'\r\nimport authReducer from './authReducer';\r\nimport boardReducer from './boardReducer';\r\nimport boardLaneReducer from './boardLaneReducer';\r\nimport laneReducer from './laneReducer';\r\nimport laneLaneReducer from './laneLaneReducer';\r\nimport laneCardReducer from './laneCardReducer';\r\nimport cardReducer from './cardReducer';\r\nimport visibilityFilter from './visibilityFilter'\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  boards: boardReducer,\r\n  boardLanes: boardLaneReducer,\r\n  lanes: laneReducer,\r\n  laneLanes: laneLaneReducer,\r\n  laneCards: laneCardReducer,\r\n  cards: cardReducer,\r\n  visibilityFilter\r\n})\r\n","import _ from 'lodash';\r\nimport {\r\n  FETCH_BOARD_LANES,\r\n  FETCH_BOARD,\r\n  FETCH_BOARDS,\r\n  CREATE_BOARD,\r\n  RENAME_BOARD,\r\n  SHARE_BOARD,\r\n  DELETE_BOARD,\r\n  LAYOUT_BOARD\r\n} from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  let board = null;\r\n  switch (action.type) {\r\n    case FETCH_BOARD_LANES:\r\n      board = {\r\n        ...state[action.payload.id],\r\n        lanes: action.payload.lanes\r\n      };\r\n      return { ...state, [action.payload.id]: board };\r\n    case FETCH_BOARDS:\r\n      return { ..._.mapKeys(action.payload, 'id') };\r\n    case FETCH_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case CREATE_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case RENAME_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case SHARE_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case DELETE_BOARD:\r\n      return _.omit(state, action.payload);\r\n    case LAYOUT_BOARD:\r\n      board = {\r\n        ...state[action.payload.id],\r\n        layout: action.payload.layout\r\n      };\r\n      return { ...state, [action.payload.id]: board };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_BOARD_LANES } from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_BOARD_LANES:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  CREATE_LANE\r\n} from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case CREATE_LANE:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_LANE_LANES } from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_LANE_LANES:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_LANE_CARDS } from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_LANE_CARDS:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  CREATE_CARD\r\n} from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case CREATE_CARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport monitorReducerEnhancer from './enhancers/monitorReducer';\r\nimport loggerMiddleware from './middleware/logger';\r\nimport rootReducer from './reducers';\r\n\r\nconst configureStore = () => {\r\n  const middlewares = [loggerMiddleware, thunkMiddleware];\r\n  const middlewareEnhancer = applyMiddleware(...middlewares);\r\n\r\n  const enhancers = [middlewareEnhancer, monitorReducerEnhancer];\r\n  const composedEnhancers = composeWithDevTools(...enhancers);\r\n\r\n  return createStore(rootReducer, {}, composedEnhancers);\r\n};\r\n\r\nexport default configureStore();\r\n","import { wsapi } from './urls';\r\nimport { fetchBoard, fetchBoardLanes } from '../actions';\r\nimport store from '../store';\r\n\r\nexport const REFRESHCARDNOTIFICATION = 0;\r\nexport const REFRESHLANENOTIFICATION = 1;\r\nexport const REFRESHBOARDNOTIFICATION = 2;\r\nexport const REMOVECARDNOTIFICATION = 3;\r\nexport const REMOVELANENOTIFICATION = 4;\r\nexport const REMOVEBOARDNOTIFICATION = 5;\r\n\r\nlet socket = null;\r\n\r\nfunction createSocket(msg) {\r\n  let conn = new WebSocket(`${wsapi}/v1/api/notify`);\r\n\r\n  conn.onopen = function(evt) {\r\n    console.log('websocket opened');\r\n    if (msg) {\r\n      sendMessage(conn, msg);\r\n    }\r\n  };\r\n  conn.onclose = function(evt) {\r\n    console.log('websocket closed');\r\n    socket = null;\r\n  };\r\n  conn.onmessage = function(evt) {\r\n    const notifiactions = JSON.parse(evt.data);\r\n    console.log('websocket: receive', notifiactions);\r\n    if (notifiactions && notifiactions.length){\r\n      for (let notification of notifiactions) {\r\n        processNotification(notification);\r\n      }\r\n    } else {\r\n      console.log('array is expected by socket!');\r\n    }\r\n  };\r\n\r\n  return conn;\r\n}\r\n\r\nfunction sendMessage(ws, msg) {\r\n  console.log('websocket: send', JSON.parse(msg));\r\n  ws.send(msg);\r\n}\r\n\r\nfunction processNotification(msg) {\r\n  switch (msg.type) {\r\n    case REFRESHCARDNOTIFICATION:\r\n    case REFRESHLANENOTIFICATION:\r\n    case REFRESHBOARDNOTIFICATION:\r\n      console.log('REFRESHBOARDNOTIFICATION: fetchBoard', msg);\r\n      fetchBoard(msg.context)(store.dispatch);\r\n      fetchBoardLanes(msg.context)(store.dispatch);\r\n      return;\r\n    case REMOVECARDNOTIFICATION:\r\n    case REMOVELANENOTIFICATION:\r\n    case REMOVEBOARDNOTIFICATION:\r\n    default:\r\n  }\r\n}\r\n\r\nexport default msg => {\r\n  if (!socket) {\r\n    console.log('websocket not available');\r\n    socket = createSocket(msg);\r\n    return;\r\n  }\r\n\r\n  sendMessage(socket, msg);\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './board/Header';\r\nimport Body from './board/Body';\r\nimport socket from '../apis/socket';\r\nimport { fetchBoard } from '../actions';\r\n\r\nclass Board extends React.Component {\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n\r\n    this.props.fetchBoard(id);\r\n\r\n    socket(JSON.stringify({ id }));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socket(JSON.stringify({ id: '' }));\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.board) {\r\n      return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Header board={this.props.board} />\r\n        <Body board={this.props.board} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    board: state.boards[ownProps.match.params.id]\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoard }\r\n)(Board);\r\n","import createHistory from 'history/createBrowserHistory';\r\n\r\nexport default createHistory();","import React from 'react';\nimport Boards from './Boards';\nimport Board from './Board';\nimport { root } from '../apis/urls';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from '../history';\n\nconst App = () => (\n  <Router history={history}>\n    <div>\n      <Switch>\n        <Route path={`${root}/`} exact component={Boards} />\n        <Route path={`${root}/board/:id`} component={Board} />\n      </Switch>\n    </div>\n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport store from './store';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}