(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(33)},25:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(10),c=n(3),i="dmitrybodnar.com",s="http".concat("s","://").concat(i),l="ws".concat("s","://").concat(i);n(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(27);var d=function(e){return{type:"ADD_TODO_STARTED",text:e}},u=function(e,t){return{type:"ADD_TODO_SUCCESS",id:e,text:t}},m=function(e){return{type:"ADD_TODO_FAILURE",error:e}},f=function(e){return{type:"REMOVE_TODO_STARTED",id:e}},p=function(e){return{type:"REMOVE_TODO_SUCCESS",id:e}},v=function(e,t){return{type:"REMOVE_TODO_FAILURE",id:e,error:t}},E="SHOW_ALL",h="SHOW_COMPLETED",O="SHOW_ACTIVE",g=function(e){var t=e.onClick,n=e.onTrash,r=(e.id,e.text),a=e.selected;return o.a.createElement("div",{id:"{id}",className:"card-wrapper float-left m-3",onClick:t},o.a.createElement("div",{className:"card shadow",style:{width:"150px",height:"150px"}},o.a.createElement("div",{className:"card-header"},o.a.createElement("div",{className:"card-title mb-0"},r),o.a.createElement("div",{className:"text-white position-absolute card-badges card-badges-left"},o.a.createElement("div",{className:"bg-success shadow-sm m-1 p-1 text-center small rounded-circle card-badge",style:{display:a?"block":"none"}},o.a.createElement("i",{className:"fa fa-fw fa-check"})),o.a.createElement("div",{className:"bg-danger shadow-sm m-1 p-1 text-center small rounded-circle card-badge hover-card-badges",onClick:n},o.a.createElement("i",{className:"fa fa-fw fa-trash"})))),o.a.createElement("div",{className:"card-body py-2",style:{overflow:"hidden"}},o.a.createElement("div",{className:"card-text small text-justify"}))))},b=function(e){var t=e.todos,n=e.toggleTodo,r=e.removeTodo;return o.a.createElement("div",{className:"lane-wrapper lane-item"},o.a.createElement("div",{className:"lane-body"},t.map(function(e){return o.a.createElement(g,Object.assign({key:e.id},e,{onTrash:function(){return r(e.id)},onClick:function(){return n(e.id)}}))})))},w=function(e,t){switch(t){case E:return e;case h:return e.filter(function(e){return e.completed});case O:return e.filter(function(e){return!e.completed});default:throw new Error("Unknown filter: "+t)}},y=Object(c.b)(function(e){return{todos:w(e.todos,e.visibilityFilter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))},removeTodo:function(t){return e(function(e){return function(t){t(f(e)),fetch("".concat(s,"/v1/api/board/").concat(e),{method:"delete"}).then(function(n){t(p(e))}).catch(function(n){t(v(e,n.message))})}}(t))}}})(b),T=Object(c.b)()(function(e){var t,n=e.dispatch;return o.a.createElement("div",{className:"d-flex flex-row ml-3 mt-4"},o.a.createElement("form",{onSubmit:function(e){var r;e.preventDefault(),t.value.trim()&&(n((r=t.value,function(e){e(d(r)),fetch("".concat(s,"/v1/api/board"),{method:"post",body:JSON.stringify({name:r})}).then(function(e){return e.json()}).then(function(t){e(u(t.id,r))}).catch(function(t){e(m(t.message))})})),t.value="")}},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",ref:function(e){return t=e}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-primary",type:"submit",id:"button-add"},"Add Board")))))}),D=function(){return o.a.createElement("div",null,o.a.createElement(T,null),o.a.createElement(y,null))},_=n(1),S=n(12),k=n(13),N=function(e){return function(t,n,r){return e(function(e,n){var r,o=performance.now(),a=t(e,n),c=performance.now(),i=(r=c-o,Math.round(100*r)/100);return console.log("reducer process time:",i),a},n,r)}},x=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),console.groupEnd(),r}}},A=n(15),R=n(14),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO_STARTED":return e;case"ADD_TODO_SUCCESS":return[].concat(Object(R.a)(e),[{id:t.id,text:t.text,completed:!1}]);case"ADD_TODO_FAILURE":case"REMOVE_TODO_STARTED":return e;case"REMOVE_TODO_SUCCESS":return e.filter(function(e){return e.id!==t.id});case"REMOVE_TODO_FAILURE":return e;case"TOGGLE_TODO":return e.map(function(e){return e.id===t.id?Object(A.a)({},e,{selected:!e.selected}):e});default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},L=Object(_.combineReducers)({todos:C,visibilityFilter:j});var I;n(29),n(31);fetch("".concat(s,"/v1/api/board")).then(function(e){return e.json()}).then(function(e){var t={todos:e.map(function(e){return{id:e.id,text:e.name,selected:!1}})};(I=function(e){var t=[x,S.a],n=[_.applyMiddleware.apply(void 0,t),N],r=k.composeWithDevTools.apply(void 0,n);return Object(_.createStore)(L,e,r)}(t)).subscribe(W),Object(a.render)(o.a.createElement(c.a,{store:I},o.a.createElement(D,null)),document.getElementById("root"))});var M=[],U=null;function W(){var e=M;if((M=I.getState().todos).length>e.length){!function(e){if(console.log("post commands: ",e),!U)return void console.log("shared worker is not available");console.log("commands posted to shared worker"),U.port.postMessage(e)}([{id:"5c3016bc4d74f1000177ed11",type:5,payload:{lane_id:"5c30169d4d74f1000177ed10"}}])}}!function(){var e=new WebSocket("".concat(l,"/v1/api/notify/ws"));e.onclose=function(e){console.log("Connection closed")},e.onmessage=function(e){console.log("notification received",e.data)}}(),window.SharedWorker&&((U=new SharedWorker("worker.js")).port.start(),console.log("shared worker is started"),U.port.addEventListener("message",function(e){console.log("message received by main is..."),console.log(e.data)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.84bc8b72.chunk.js.map