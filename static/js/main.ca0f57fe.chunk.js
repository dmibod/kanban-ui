(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},25:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(10),i=n(2);n(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(27);var a=0,l="SHOW_ALL",u="SHOW_COMPLETED",d="SHOW_ACTIVE",f=function(e){var t=e.active,n=e.children,o=e.onClick;return r.a.createElement("button",{onClick:o,disabled:t,style:{marginLeft:"4px"}},n)},s=Object(i.b)(function(e,t){return{active:t.filter===e.visibilityFilter}},function(e,t){return{onClick:function(){return e({type:"SET_VISIBILITY_FILTER",filter:t.filter})}}})(f),m=function(){return r.a.createElement("div",null,r.a.createElement("span",null,"Show: "),r.a.createElement(s,{filter:l},"All"),r.a.createElement(s,{filter:d},"Active"),r.a.createElement(s,{filter:u},"Completed"))},p=Object(i.b)()(function(e){var t,n=e.dispatch;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){var o;e.preventDefault(),t.value.trim()&&(n((o=t.value,{type:"ADD_TODO",id:""+a++,text:o})),t.value="")}},r.a.createElement("input",{ref:function(e){return t=e}}),r.a.createElement("button",{type:"submit"},"Add Todo")))}),v=function(e){var t=e.onClick,n=e.completed,o=e.text;return r.a.createElement("li",{onClick:t,style:{textDecoration:n?"line-through":"none"}},o)},h=function(e){var t=e.todos,n=e.toggleTodo;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement(v,Object.assign({key:e.id},e,{onClick:function(){return n(e.id)}}))}))},E=function(e,t){switch(t){case l:return e;case u:return e.filter(function(e){return e.completed});case d:return e.filter(function(e){return!e.completed});default:throw new Error("Unknown filter: "+t)}},b=Object(i.b)(function(e){return{todos:E(e.todos,e.visibilityFilter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))}}})(h),g=function(){return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(b,null),r.a.createElement(m,null))},w=n(1),O=n(12),y=n(13),T=function(e){return function(t,n,o){return e(function(e,n){var o,r=performance.now(),c=t(e,n),i=performance.now(),a=(o=i-r,Math.round(100*o)/100);return console.log("reducer process time:",a),c},n,o)}},S=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var o=t(n);return console.log("next state",e.getState()),console.groupEnd(),o}}},k=n(15),D=n(14),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return[].concat(Object(D.a)(e),[{id:t.id,text:t.text,completed:!1}]);case"TOGGLE_TODO":return e.map(function(e){return e.id===t.id?Object(k.a)({},e,{completed:!e.completed}):e});default:return e}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},C=Object(w.combineReducers)({todos:I,visibilityFilter:j});var _,x="localhost:8080",L="http".concat("","://").concat(x),A="ws".concat("","://").concat(x);fetch("".concat(L,"/v1/api/board")).then(function(e){return e.json()}).then(function(e){var t={todos:e.map(function(e){return{id:e.id,text:e.name,completed:!1}})};(_=function(e){var t=[S,O.a],n=[w.applyMiddleware.apply(void 0,t),T],o=y.composeWithDevTools.apply(void 0,n);return Object(w.createStore)(C,e,o)}(t)).subscribe(F),Object(c.render)(r.a.createElement(i.a,{store:_},r.a.createElement(g,null)),document.getElementById("root"))});var W=[];function F(){var e=W;if((W=_.getState().todos).length>e.length){var t=W[W.length-1];fetch("".concat(L,"/v1/api/board"),{method:"post",body:JSON.stringify({name:t.text})}).then(function(e){return e.json()}).then(function(e){console.log("Created board:",e)})}}!function(){var e=new WebSocket("".concat(A,"/v1/api/notify/ws"));e.onclose=function(e){console.log("Connection closed")},e.onmessage=function(e){console.log("notification received",e.data)}}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.ca0f57fe.chunk.js.map