{"version":3,"sources":["components/board/card/Desc.js","components/board/card/Key.js","components/board/card/Value.js","components/board/card/Prop.js","serviceWorker.js","components/boards/Desc.js","components/spinners/Spinner4.js","components/ProgressBar.js","components/boards/Item.js","apis/index.js","apis/worker.js","actions/board.js","actions/types.js","components/boards/List.js","actions/lane.js","actions/card.js","enhancers/monitorReducer.js","middleware/logger.js","reducers/authReducer.js","apis/speech.js","reducers/speechReducer.js","reducers/index.js","reducers/boardsReducer.js","reducers/boardReducer.js","reducers/filterReducer.js","reducers/activeBoardReducer.js","store.js","apis/socket.js","components/Auth.js","actions/auth.js","actions/speech/common.js","actions/speech/lane.js","actions/speech/control.js","actions/speech/help.js","actions/speech/zoom.js","actions/speech/language.js","actions/speech/console.js","actions/speech/scroll.js","actions/speech/filter.js","history.js","actions/speech/board.js","actions/speech/handlers.js","actions/speech/navigation.js","actions/speech.js","components/Microphone.js","components/Header.js","components/Boards.js","components/board/card/Body.js","components/board/card/Form.js","components/board/Card.js","components/board/CardLane.js","components/board/CompositeLane.js","components/board/Lane.js","components/board/Body.js","components/board/Header.js","components/Board.js","components/Speech.js","components/App.js","index.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Prop__WEBPACK_IMPORTED_MODULE_1__","IsJsArray","text","length","startsWith","endsWith","ParseJsArray","eval","error","__webpack_exports__","_ref","id","body","description","map","i","idx","a","createElement","Object","assign","key","concat","_key","value","className","Key","style","react_default","Value","Boolean","window","location","hostname","match","Desc","includes","split","filter","s","p","Spinner4","visible","display","position","bottom","right","ProgressBar","props","bgcolor","completed","fillerStyles","height","width","backgroundColor","borderRadius","textAlign","transition","padding","margin","color","fontWeight","fontSize","Item","name","state","shared","editable","shareBoard","deleteBoard","react_router_dom","textDecoration","to","process","title","onClick","left","axios","create","baseURL","worker","boardId","commands","console","log","server","post","filterBoards","type","fetchBoard","_ref2","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","response","wrap","_context2","prev","next","get","sent","payload","data","stop","_x2","apply","this","arguments","createBoard","owner","_ref3","_callee3","_context3","layout","_x3","layoutBoard","_ref4","_callee4","_context4","board_id","_x4","renameBoard","_ref5","_callee5","_context5","put","_x5","_ref6","_callee6","_context6","_x6","notification","_ref7","_callee7","_context7","delete","_x7","List","_this$props","_this","onConfirm","undefined","_this$props2","fetchBoards","currentUserId","prevProps","_this$props3","_this2","boards","board","boards_Item","objectSpread","isSignedIn","React","Component","connect","values","toLowerCase","auth","user","_callee","_context","t0","_x","fetchLane","laneId","createLane","parent_id","createCardLane","deleteLane","parentId","excludeAndDeleteLane","fetchCard","cardId","deleteCard","monitorReducer","createStore","reducer","initialState","enhancer","action","number","start","performance","now","newState","end","diff","Math","round","logger","store","group","info","result","getState","groupEnd","INTIAL_STATE","SpeechRecognition","webkitSpeechRecognition","recognition","counter","speechCallbacks","speechLang","localStorage","getItem","onResult","success","cb","_","find","Function","setTimeout","startSpeech","speech","continuous","lang","interimResults","maxAlternatives","onspeechend","onresult","event","cmd","results","transcript","onerror","stopSpeech","isSpeechEnabled","isSpeechOn","isSpeechError","speechCmd","speechResult","combineReducers","mapKeys","defineProperty","omit","lane","lanes","cards","walkFn","el","visitFn","forEach","children","push","formatBoard","pull","form","formReducer","activeBoard","executed","configureStore","middlewares","loggerMiddleware","thunkMiddleware","enhancers","applyMiddleware","monitorReducerEnhancer","composedEnhancers","composeWithDevTools","rootReducer","REFRESHCARDNOTIFICATION","REFRESHLANENOTIFICATION","REFRESHBOARDNOTIFICATION","REMOVECARDNOTIFICATION","REMOVELANENOTIFICATION","REMOVEBOARDNOTIFICATION","CREATECARDNOTIFICATION","CREATELANENOTIFICATION","CREATEBOARDNOTIFICATION","socket","sendMessage","ws","msg","JSON","parse","send","processNotification","apis_socket","conn","WebSocket","onopen","evt","onclose","onmessage","ns","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","err","return","createSocket","Auth","onSignInClick","token","getToken","signIn","setItem","clearValue","onSignOutClick","signOut","removeItem","headers","Content-Type","Authorization","User","isActiveBoard","activeBoardId","isEnabled","command","enabled","getFilteredBoards","omitBy","laneHandlers","fn","vertical","layoutLane","horizontal","tickers","show","close","elements","document","querySelectorAll","names","innerText","toUpperCase","slice","join","controlHandlers","mute","speechOff","reload","helpClose","zoom","zoomHandlers","in","out","reset","languageHandlers","english","ukrainian","consoleHandlers","clear","scrollHandlers","top","scrollTo","behavior","scrollHeight","up","scrollBy","down","ticker","pairs","fromPairs","scrollIntoView","filterHandlers","own","drop","createHistory","isOwnerDefined","getOwnerBoards","handlers","keys","each","indexOf","trim","share","private","count","control","help","mapCommand","cmdKey","handler","handlerKey","helpShow","language","navigation","home","history","first","findKey","val","last","findLastKey","open","scroll","speechOn","Microphone","onSpeechOnClick","onSpeechOffClick","getButtonStyle","isOn","isError","disabled","secure","input","visibility","onSubmit","e","preventDefault","components_Auth","components_Microphone","placeholder","ref","node","Boards","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleShow","bind","assertThisInitialized","handleClose","question","yesFn","stringify","setState","Fragment","components_Header","boards_List","Modal","onHide","Header","closeButton","Title","Body","Footer","Button","variant","card_Body","card","overflowY","card_Desc","Form","renderInput","label","meta","touched","autoComplete","renderError","formValues","handleSubmit","Field","component","Card","reduxForm","validate","errors","editCard","_useState","useState","_useState2","slicedToArray","setFormVisibility","draggable","onDragStart","dataTransfer","setData","CardLane","createCard","moveCard","fromLaneId","_this$props4","excludeAndDeleteCard","_this$props5","_this$props6","_this3","_this$props7","onDragOver","types","onDrop","getData","renderCards","ownProps","toLaneId","CompositeLane","createChild","child","Lane","renderLanes","board_CardLane","board_CompositeLane","update","defaultValue","layoutIcon","layoutButton","Board","params","cleanBoard","board_Header","board_Body","Speech","showFn","t","y","closeFn","speechHandle","callback","handle","subscribe","speechFn","speechError","size","backdropClassName","flatMap","category","some","getHandler","speechLanguage","App","react_router","components_Speech","path","exact","render","es","components_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9c4e6bf8.chunk.js","sourcesContent":["import React from 'react';\r\nimport Prop from './Prop';\r\n\r\nexport default ({id, description}) => {\r\n let body = description || '';\r\n if (IsJsArray(body)){\r\n   const arr = ParseJsArray(body);\r\n   body = arr.map((i, idx) => (<Prop key={`${id}_${idx}`} {...{id:`${id}_${idx}`, _key:i.key, value:i.value}}/>));\r\n }\r\n  return <div className=\"card-text small text-justify\">{body}</div>\r\n};\r\n\r\nfunction IsJsArray(text){\r\n  text = text || \"\";\r\n  return text.length > 1 && text.startsWith(\"[\") && text.endsWith(\"]\");\r\n}\r\n\r\nfunction ParseJsArray(text){\r\n  try {\r\n    return eval(text);\r\n  } catch (error) {\r\n    return [];\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport default ({id, text, style}) => {\r\n  text = text || \"\";\r\n  if (text.length > 0) text += \":\";\r\n  style = style || {};\r\n  return (\r\n    <div className=\"label\" style={style}>{text}</div>\r\n  ); \r\n};\r\n","import React from 'react';\r\n\r\nexport default ({id, text, style}) => {\r\n  text = text || \"\";\r\n  style = style || {};\r\n  return (\r\n    <div className=\"value\" style={style}>{text}</div>\r\n  ); \r\n};\r\n","import React from 'react';\r\nimport Key from './Key';\r\nimport Value from './Value';\r\n\r\nexport default ({id, _key, value}) => {\r\n  _key = _key || {};\r\n  _key.id = `${id}_key`;\r\n  value = value || {};\r\n  value.id = `${id}_value`;\r\n  return (\r\n    <div className=\"desc-container\">\r\n      <Key {...{id: `${_key.id}_body`, text: _key.text, style: _key.style}}/>\r\n      <Value {...{id: `${value.id}_body`, text: value.text, style: value.style}}/>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\n\r\nexport default ({id, description}) => {\r\n  var text = description || '';\r\n  if (!text.includes(':')){\r\n    return text;\r\n  }\r\n  var body = text \r\n  .split(\";\").filter(s => s != null && s.length > 0)\r\n  .map(s => s.split(':'))\r\n  .map((p, idx) => (<div key={`${id}_${idx}`} className=\"desc-container\"><div className=\"label\">{p[0]}:</div><div className=\"value\">{p[1]}</div></div>));\r\n\r\n  return <div className=\"card-text small text-justify\">{body}</div>\r\n};\r\n","import React from 'react';\r\n\r\nexport default ({visible}) => {\r\n  return <div className=\"lds-hourglass\" style={{ display: visible ? 'inline-block' : 'none', position: 'absolute', bottom: 0, right: 0 }}></div>\r\n};\r\n","import React from 'react';\r\n\r\nexport default (props) => {\r\n  const { bgcolor, completed } = props;\r\n\r\n  const containerStyles = {\r\n    height: 5,\r\n    width: '100%',\r\n    backgroundColor: \"transparent\",\r\n    borderRadius: '0.2rem',\r\n    padding: 0,\r\n    margin: 0\r\n  }\r\n\r\n  const fillerStyles = {\r\n    height: '100%',\r\n    width: `${completed}%`,\r\n    backgroundColor: bgcolor,\r\n    borderRadius: 'inherit',\r\n    textAlign: 'right',\r\n    transition: 'width 1s ease-in-out',\r\n    padding: 0,\r\n    margin: 0\r\n  }\r\n\r\n  const labelStyles = {\r\n    display: 'none',\r\n    padding: 0,\r\n    margin: 0,\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: 'xx-small'\r\n  }\r\n\r\n  return (\r\n    <div style={containerStyles}>\r\n      <div style={fillerStyles}>\r\n        <span style={labelStyles}>{`${completed}%`}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Desc from './Desc';\r\nimport Spinner4 from '../spinners/Spinner4';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nconst Item = ({ id, name, description, state, shared, editable, shareBoard, deleteBoard }) => (\r\n  <div id={`${id}`} className=\"card-wrapper float-left m-3\">\r\n    <div className=\"card shadow board\">\r\n      <div className=\"card-header\">\r\n        <div className=\"card-title mb-0\">\r\n          <div className=\"row mx-0\">\r\n            <div className=\"mr-auto\">\r\n              <Link\r\n                className=\"text-info\"\r\n                style={{ textDecoration: 'none', fontWeight: '500' }}\r\n                to={`${process.env.REACT_APP_CONTEXT_ROOT}/board/${id}`}\r\n              >\r\n                {name}\r\n              </Link>\r\n            </div>\r\n            <div\r\n              className=\"hover-card-badges\"\r\n              style={{ display: editable ? 'inline' : 'none' }}\r\n            >\r\n              <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n              <i\r\n                className=\"fa fa-fw fa-eye text-muted\"\r\n                title=\"public\"\r\n                style={{ display: shared ? 'inline' : 'none' }}\r\n                onClick={() => shareBoard(id, false)}\r\n              />\r\n              <i\r\n                className=\"fa fa-fw fa-eye-slash text-muted\"\r\n                title=\"private\"\r\n                style={{ display: shared ? 'none' : 'inline' }}\r\n                onClick={() => shareBoard(id, true)}\r\n              />\r\n              <i\r\n                className=\"fa fa-fw fa-trash text-muted\"\r\n                title=\"delete\"\r\n                onClick={() => deleteBoard(id, name)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"board-body-wrapper\">\r\n          <Desc key={id} {...{id, description}}></Desc>\r\n        </div>\r\n        <Spinner4 id={`spinner-${id}`} key={id} {...{visible: state === 'loading' }}/>\r\n      </div>\r\n      <div style={{ display: (state || '').startsWith('progress') ? 'block' : 'none', position: 'absolute', bottom: 0, left: 0, width: '100%' }}>\r\n        <ProgressBar bgcolor={\"#17a2b8\"} completed={(state||'').split(':')[1] || 100}/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nItem.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Item;\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL\r\n});","import server from './index';\r\n\r\nexport const UPDATECARD = 0;\r\nexport const REMOVECARD = 1;\r\nexport const UPDATELANE = 2;\r\nexport const REMOVELANE = 3;\r\nexport const EXCLUDECHILD = 4;\r\nexport const APPENDCHILD = 5;\r\nexport const INSERTBEFORE = 6;\r\nexport const INSERTAFTER = 7;\r\nexport const LAYOUTBOARD = 8;\r\nexport const LAYOUTLANE = 9;\r\n\r\nlet sharedWorker = null;\r\n\r\nif (false && window.SharedWorker) {\r\n  sharedWorker = new SharedWorker(`${process.env.REACT_APP_CONTEXT_ROOT}/worker.js`);\r\n  sharedWorker.port.start();\r\n\r\n  console.log('shared worker: started');\r\n\r\n  sharedWorker.port.addEventListener('message', event => {\r\n    console.log('main: message received from shared worker', event.data);\r\n  });\r\n}\r\n\r\nexport default (boardId, commands) => {\r\n  if (!sharedWorker) {\r\n    console.log('main: shared worker is not available');\r\n\r\n    server.post(`/v1/api/command/${boardId}`, commands);\r\n    \r\n    return;\r\n  }\r\n\r\n  console.log('main: post commands to shared worker', commands);\r\n\r\n  sharedWorker.port.postMessage({ boardId, commands });\r\n\r\n  console.log('main: commands posted to shared worker');\r\n};\r\n","import server from '../apis/index';\r\nimport worker, { LAYOUTBOARD } from '../apis/worker';\r\n\r\nimport {\r\n  CREATE_BOARD,\r\n  FILTER_BOARDS,\r\n  FETCH_BOARDS,\r\n  FETCH_BOARD,\r\n  CLEAN_BOARD,\r\n  ACTIVE_BOARD,\r\n  DELETE_BOARD,\r\n  RENAME_BOARD,\r\n  SHARE_BOARD,\r\n  LAYOUT_BOARD\r\n} from './types';\r\n\r\nexport const filterBoards = filter => ({\r\n  type: FILTER_BOARDS,\r\n  filter\r\n});\r\n\r\nexport const fetchBoards = owner => async dispatch => {\r\n  const response = owner\r\n    ? await server.get(`/v1/api/board?owner=${owner}`)\r\n    : await server.get('/v1/api/board');\r\n\r\n  dispatch({ type: FETCH_BOARDS, payload: response.data });\r\n};\r\n\r\nexport const fetchBoard = id => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${id}`);\r\n\r\n  dispatch({ type: FETCH_BOARD, payload: response.data });\r\n};\r\n\r\nexport const cleanBoard = () => ({ type: CLEAN_BOARD });\r\n\r\nexport const activeBoard = (id) => ({ type: ACTIVE_BOARD, payload: id });\r\n\r\nexport const createBoard = (name, owner) => async dispatch => {\r\n  const response = await server.post('/v1/api/board', {\r\n    name,\r\n    owner,\r\n    layout: 'H',\r\n    shared: false\r\n  });\r\n\r\n  dispatch({ type: CREATE_BOARD, payload: response.data });\r\n};\r\n\r\nexport const layoutBoard = (id, layout) => async dispatch => {\r\n  worker(id, [{ id, board_id: id, type: LAYOUTBOARD, payload: { layout } }]);\r\n\r\n  dispatch({ type: LAYOUT_BOARD, payload: layout });\r\n};\r\n\r\nexport const renameBoard = (id, name) => async dispatch => {\r\n  const response = await server.put(`/v1/api/board/${id}/rename`, { name });\r\n\r\n  dispatch({ type: RENAME_BOARD, payload: response.data });\r\n};\r\n\r\nexport const shareBoard = (id, shared) => async dispatch => {\r\n  const response = await server.put(`/v1/api/board/${id}/share`, { shared });\r\n\r\n  dispatch({ type: SHARE_BOARD, payload: response.data });\r\n};\r\n\r\nexport const deleteBoard = (id, notification) => async dispatch => {\r\n  if (!notification) {\r\n    await server.delete(`/v1/api/board/${id}`);\r\n  }\r\n\r\n  dispatch({ type: DELETE_BOARD, payload: id });\r\n};\r\n","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\n\r\nexport const FILTER_BOARDS = 'FILTER_BOARDS';\r\nexport const FETCH_BOARDS = 'FETCH_BOARDS';\r\nexport const CREATE_BOARD = 'CREATE_BOARD';\r\nexport const DELETE_BOARD = 'DELETE_BOARD';\r\nexport const RENAME_BOARD = 'RENAME_BOARD';\r\nexport const SHARE_BOARD = 'SHARE_BOARD';\r\n\r\nexport const FETCH_BOARD = 'FETCH_BOARD';\r\nexport const CLEAN_BOARD = 'CLEAN_BOARD';\r\nexport const ACTIVE_BOARD = 'ACTIVE_BOARD';\r\nexport const LAYOUT_BOARD = 'LAYOUT_BOARD';\r\n\r\nexport const FETCH_LANE = 'FETCH_LANE'\r\nexport const CREATE_LANE = 'CREATE_LANE';\r\nexport const APPEND_LANE = 'APPEND_LANE';\r\nexport const EXCLUDE_LANE = 'EXCLUDE_LANE';\r\nexport const DELETE_LANE = 'DELETE_LANE';\r\nexport const LAYOUT_LANE = 'LAYOUT_LANE';\r\n\r\nexport const FETCH_CARD = 'FETCH_CARD'\r\nexport const CREATE_CARD = 'CREATE_CARD';\r\nexport const APPEND_CARD = 'APPEND_CARD';\r\nexport const EXCLUDE_CARD = 'EXCLUDE_CARD';\r\nexport const DELETE_CARD = 'DELETE_CARD';\r\n\r\nexport const SPEECH_ON = 'SPEECH_ON';\r\nexport const SPEECH_OFF = 'SPEECH_OFF';\r\nexport const SPEECH_ERROR = 'SPEECH_ERROR';\r\nexport const SPEECH_CMD = 'SPEECH_CMD';\r\nexport const SPEECH_LANG = 'SPEECH_LANG';\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Item from './Item';\r\nimport {\r\n  fetchBoards,\r\n  shareBoard,\r\n  deleteBoard\r\n} from '../../actions/board';\r\n\r\nclass List extends React.Component {\r\n  componentDidMount() {\r\n    let { fetchBoards, currentUserId } = this.props;\r\n\r\n    fetchBoards(currentUserId);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let { fetchBoards, currentUserId } = this.props;\r\n\r\n    if (currentUserId !== prevProps.currentUserId) {\r\n      fetchBoards(currentUserId);\r\n    }\r\n  }\r\n\r\n  deleteBoard = (id, name) => {\r\n    const { onConfirm, deleteBoard } = this.props;\r\n\r\n    if (onConfirm && deleteBoard) {\r\n      onConfirm(undefined, `Delete ${name}?`, () => deleteBoard(id, false));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid board-list\">\r\n        <div className=\"lane-wrapper lane-item\">\r\n          <div className=\"lane-body\">\r\n            {this.props.boards.map(board => (\r\n              <Item\r\n                key={board.id}\r\n                {...{\r\n                  ...board,\r\n                  editable: this.props.isSignedIn && this.props.currentUserId === board.owner,\r\n                  shareBoard: this.props.shareBoard,\r\n                  deleteBoard: this.deleteBoard\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  let boards = Object.values(state.boards);\r\n  let filter = state.filter.toLowerCase();\r\n\r\n  return {\r\n    boards: boards.filter(board => (board.name || '').toLowerCase().includes(filter) || (board.description || '').toLowerCase().includes(filter) || (board.owner || '').toLowerCase().includes(filter)),\r\n    currentUserId: state.auth.isSignedIn ? state.auth.user : null,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoards, shareBoard, deleteBoard }\r\n)(List);\r\n","import server from '../apis/index';\r\nimport worker, { APPENDCHILD, EXCLUDECHILD, REMOVELANE, LAYOUTLANE } from '../apis/worker';\r\n\r\nimport {\r\n  FETCH_LANE,\r\n  CREATE_LANE,\r\n  APPEND_LANE,\r\n  EXCLUDE_LANE,\r\n  DELETE_LANE,\r\n  LAYOUT_LANE\r\n} from './types';\r\n\r\nexport const fetchLane = (boardId, laneId) => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${boardId}/lanes/${laneId}`);\r\n\r\n  dispatch({ type: FETCH_LANE, payload: response.data });\r\n};\r\n\r\nexport const createLane = (boardId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/lanes`, {\r\n    name,\r\n    layout: 'H',\r\n    type: 'L'\r\n  });\r\n\r\n  dispatch({ type: CREATE_LANE, payload: response.data });\r\n\r\n  worker(boardId, [\r\n    {\r\n      id: response.data.id,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: boardId }\r\n    }\r\n  ]);\r\n};\r\n\r\nexport const createCardLane = (boardId, laneId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/lanes`, {\r\n    name,\r\n    type: 'C'\r\n  });\r\n\r\n  dispatch({ type: CREATE_LANE, payload: response.data });\r\n\r\n  worker(boardId, [\r\n    {\r\n      id: response.data.id,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n  ]);\r\n};\r\n\r\nexport const layoutLane = (boardId, laneId, layout) => async dispatch => {\r\n  worker(boardId, [{ id: laneId, board_id: boardId, type: LAYOUTLANE, payload: { layout } }]);\r\n\r\n  dispatch({ type: LAYOUT_LANE, payload: { boardId, laneId, layout }});\r\n};\r\n\r\nexport const excludeLane = (boardId, parentId, laneId) => dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: laneId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: parentId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: EXCLUDE_LANE, payload: { boardId, laneId, parentId } });\r\n};\r\n\r\nexport const appendLane = (boardId, parentId, laneId) => dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: laneId,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: parentId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: APPEND_LANE, payload: { boardId, laneId, parentId } });\r\n};\r\n\r\nexport const deleteLane = (\r\n  boardId,\r\n  parentId,\r\n  laneId,\r\n  notification\r\n) => dispatch => {\r\n  if (!notification) {\r\n    worker(boardId, [\r\n      {\r\n        id: laneId,\r\n        board_id: boardId,\r\n        type: REMOVELANE,\r\n        payload: { parent_id: parentId }\r\n      }\r\n    ]);\r\n  }\r\n\r\n  dispatch({ type: DELETE_LANE, payload: { boardId, laneId } });\r\n};\r\n\r\nexport const excludeAndDeleteLane = (boardId, parentId, laneId) => dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: laneId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: parentId }\r\n    },\r\n    {\r\n      id: laneId,\r\n      board_id: boardId,\r\n      type: REMOVELANE,\r\n      payload: { parent_id: parentId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: EXCLUDE_LANE, payload: { boardId, laneId, parentId } });\r\n  dispatch({ type: DELETE_LANE, payload: { boardId, laneId } });\r\n};\r\n","import server from '../apis/index';\r\nimport worker, { APPENDCHILD, EXCLUDECHILD, REMOVECARD } from '../apis/worker';\r\n\r\nimport {\r\n  FETCH_CARD,\r\n  CREATE_CARD,\r\n  APPEND_CARD,\r\n  EXCLUDE_CARD,\r\n  DELETE_CARD\r\n} from './types';\r\n\r\nexport const fetchCard = (boardId, cardId) => async dispatch => {\r\n  const response = await server.get(`/v1/api/board/${boardId}/cards/${cardId}`);\r\n\r\n  dispatch({ type: FETCH_CARD, payload: response.data });\r\n};\r\n\r\nexport const createCard = (boardId, laneId, name) => async dispatch => {\r\n  const response = await server.post(`/v1/api/board/${boardId}/cards`, {\r\n    name\r\n  });\r\n\r\n  dispatch({ type: CREATE_CARD, payload: response.data });\r\n\r\n  worker(boardId, [\r\n    {\r\n      id: response.data.id,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n  ]);\r\n};\r\n\r\nexport const moveCard = (\r\n  boardId,\r\n  fromLaneId,\r\n  toLaneId,\r\n  cardId\r\n) => async dispatch => {\r\n  dispatch({\r\n    type: EXCLUDE_CARD,\r\n    payload: { boardId, laneId: fromLaneId, cardId }\r\n  });\r\n  dispatch({\r\n    type: APPEND_CARD,\r\n    payload: { boardId, laneId: toLaneId, cardId }\r\n  });\r\n\r\n  let cmds = [\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: fromLaneId }\r\n    },\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: toLaneId }\r\n    }\r\n  ];\r\n\r\n  worker(boardId, cmds);\r\n};\r\n\r\nexport const excludeCard = (boardId, laneId, cardId) => async dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: EXCLUDE_CARD, payload: { boardId, laneId, cardId } });\r\n};\r\n\r\nexport const appendCard = (boardId, laneId, cardId) => async dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: APPENDCHILD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n  ]);\r\n\r\n  dispatch({ type: APPEND_CARD, payload: { boardId, laneId, cardId } });\r\n};\r\n\r\nexport const deleteCard = (\r\n  boardId,\r\n  laneId,\r\n  cardId,\r\n  notification\r\n) => dispatch => {\r\n  if (!notification) {\r\n    worker(boardId, [\r\n      {\r\n        id: cardId,\r\n        board_id: boardId,\r\n        type: REMOVECARD,\r\n        payload: { parent_id: laneId }\r\n      }\r\n    ]);\r\n  }\r\n\r\n  dispatch({ type: DELETE_CARD, payload: { boardId, cardId } });\r\n};\r\n\r\nexport const excludeAndDeleteCard = (\r\n  boardId,\r\n  laneId,\r\n  cardId\r\n) => dispatch => {\r\n  worker(boardId, [\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: EXCLUDECHILD,\r\n      payload: { parent_id: laneId }\r\n    },\r\n    {\r\n      id: cardId,\r\n      board_id: boardId,\r\n      type: REMOVECARD,\r\n      payload: { parent_id: laneId }\r\n    }\r\n\r\n  ]);\r\n\r\n  dispatch({ type: EXCLUDE_CARD, payload: { boardId, laneId, cardId } });\r\n  dispatch({ type: DELETE_CARD, payload: { boardId, cardId } });\r\n};\r\n","const round = number => Math.round(number * 100) / 100;\r\n\r\nexport default createStore => (reducer, initialState, enhancer) => {\r\n  const monitoredReducer = (state, action) => {\r\n    const start = performance.now();\r\n    const newState = reducer(state, action);\r\n    const end = performance.now();\r\n    const diff = round(end - start);\r\n\r\n    console.log('reducer process time:', diff);\r\n\r\n    return newState;\r\n  };\r\n\r\n  return createStore(monitoredReducer, initialState, enhancer);\r\n};\r\n","export default store => next => action => {\r\n  console.group(action.type || 'THUNK');\r\n  console.info('dispatching', action);\r\n  let result = next(action);\r\n  console.log('next state', store.getState());\r\n  console.groupEnd();\r\n  return result;\r\n};\r\n","import { SIGN_IN, SIGN_OUT } from '../actions/types';\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: false,\r\n  user: null\r\n};\r\n\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, user: action.payload };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, user: null };\r\n    default:\r\n      return state;\r\n  }\r\n};","import _, { find } from 'lodash';\r\n\r\nconst SpeechRecognition =\r\n  window.SpeechRecognition || window.webkitSpeechRecognition;\r\n\r\nvar recognition = null;\r\nvar counter = 0;\r\nvar speechCallbacks = {};\r\nvar speechLang = localStorage.getItem('speech.lang') || 'en-US';\r\n\r\nfunction onResult(success, result) {\r\n  //_.each(speechCallbacks, (cb) => cb && cb(result));\r\n  var cb = _.find(speechCallbacks, cb => cb instanceof Function);\r\n  if (cb) cb(success, result);\r\n}\r\n\r\nfunction create() {\r\n  var speech = new SpeechRecognition();\r\n  speech.continuous = false;\r\n  speech.lang = speechLang;\r\n  speech.interimResults = false;\r\n  speech.maxAlternatives = 5;\r\n  speech.onspeechend = () => {\r\n    console.log('speech end');\r\n    speech.stop();\r\n    start();\r\n  };\r\n  speech.onresult = (event) => {\r\n    var cmd = event.results[0][0].transcript;\r\n    console.log('speech success: ' + cmd);\r\n    onResult(true, cmd);\r\n  };\r\n  speech.onerror = (event) => {\r\n    console.log('speech error');\r\n    onResult(false);\r\n    start();\r\n  };\r\n  return speech;\r\n}\r\n\r\nfunction start() {\r\n  setTimeout(() => {\r\n    if (recognition) {\r\n      recognition.start();\r\n    }\r\n  }, 500);\r\n}\r\n\r\nexport const isSpeechEnabled = () => {\r\n  return SpeechRecognition !== undefined;\r\n};\r\n\r\nexport const speechLanguage = (lang) => {\r\n  console.log('Language:' + lang);\r\n  if (speechLang === lang) {\r\n    return;\r\n  }\r\n  localStorage.setItem('speech.lang', lang);\r\n  speechLang = lang;\r\n  var cb = speechCallbacks;\r\n  stopSpeech();\r\n  setTimeout(() => {\r\n    speechCallbacks = cb;\r\n    startSpeech();\r\n  }, 2000);\r\n};\r\n\r\nexport const startSpeech = () => {\r\n  console.log('Listen');\r\n  recognition = create();\r\n  recognition.start();\r\n};\r\n\r\nexport const stopSpeech = () => {\r\n  console.log('Stop');\r\n  speechCallbacks = {};\r\n  if (recognition) {\r\n    recognition.stop();\r\n    recognition = null;\r\n  }\r\n};\r\n\r\nexport const subscribe = (callback) => {\r\n  if (!callback) return -1;\r\n  counter++;\r\n  var handle = `cb_${counter}`;\r\n  speechCallbacks[handle] = callback;\r\n  return handle;\r\n};\r\n\r\nexport const unsubscribe = (handle) => {\r\n  if (speechCallbacks[handle]) {\r\n    delete speechCallbacks[handle];\r\n  }\r\n};\r\n","import {\r\n  SPEECH_ON,\r\n  SPEECH_OFF,\r\n  SPEECH_ERROR,\r\n  SPEECH_CMD,\r\n  SPEECH_LANG,\r\n} from '../actions/types';\r\nimport { isSpeechEnabled } from '../apis/speech';\r\n\r\nconst INTIAL_STATE = {\r\n  isSpeechEnabled: isSpeechEnabled(),\r\n  isSpeechOn: false,\r\n  isSpeechError: false,\r\n  speechLang: localStorage.getItem('speech.lang') || 'en-US',\r\n  speechCmd: '',\r\n  speechResult: true,\r\n};\r\n\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SPEECH_ON:\r\n      return {\r\n        ...state,\r\n        isSpeechOn: true && state.isSpeechEnabled,\r\n        speechCmd: '',\r\n      };\r\n    case SPEECH_OFF:\r\n      return {\r\n        ...state,\r\n        isSpeechOn: false,\r\n        isSpeechError: false,\r\n        speechCmd: '',\r\n      };\r\n    case SPEECH_ERROR:\r\n      return { ...state, isSpeechError: true };\r\n    case SPEECH_CMD:\r\n      return {\r\n        ...state,\r\n        isSpeechError: false,\r\n        speechCmd: action.payload.cmd,\r\n        speechResult: action.payload.executed,\r\n      };\r\n    case SPEECH_LANG:\r\n      return { ...state, speechLang: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux'\r\nimport authReducer from './authReducer';\r\nimport boardsReducer from './boardsReducer';\r\nimport boardReducer from './boardReducer';\r\nimport filterReducer from './filterReducer'\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport activeBoardReducer from './activeBoardReducer';\r\nimport speechReducer from './speechReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  boards: boardsReducer,\r\n  board: boardReducer,\r\n  filter: filterReducer,\r\n  form: formReducer,\r\n  activeBoard: activeBoardReducer,\r\n  speech: speechReducer\r\n})\r\n","import _ from 'lodash';\r\nimport {\r\n  FETCH_BOARDS,\r\n  CREATE_BOARD,\r\n  FETCH_BOARD,\r\n  RENAME_BOARD,\r\n  SHARE_BOARD,\r\n  DELETE_BOARD\r\n} from '../actions/types';\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_BOARDS:\r\n      return { ..._.mapKeys(action.payload, 'id') };\r\n\r\n    case CREATE_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n\r\n    case FETCH_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n  \r\n    case RENAME_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n\r\n    case SHARE_BOARD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n\r\n    case DELETE_BOARD:\r\n      return _.omit(state, action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import _ from 'lodash';\r\nimport {\r\n  FETCH_BOARD,\r\n  LAYOUT_BOARD,\r\n  FETCH_LANE,\r\n  APPEND_LANE,\r\n  EXCLUDE_LANE,\r\n  CREATE_LANE,\r\n  DELETE_LANE,\r\n  LAYOUT_LANE,\r\n  FETCH_CARD,\r\n  APPEND_CARD,\r\n  EXCLUDE_CARD,\r\n  CREATE_CARD,\r\n  DELETE_CARD\r\n} from '../actions/types';\r\n\r\nconst formatBoard = payload => {\r\n  let walkFn = (el, visitFn) => {\r\n    visitFn(el);\r\n\r\n    if (el.lanes) {\r\n      el.lanes.forEach(i => walkFn(i, visitFn));\r\n    }\r\n\r\n    if (el.cards) {\r\n      el.cards.forEach(i => walkFn(i, visitFn));\r\n    }\r\n  };\r\n\r\n  let lanes = [];\r\n  let cards = [];\r\n\r\n  walkFn(payload, el => {\r\n    if (el.type) {\r\n      let children = (el.lanes || el.cards || []).map(i => i.id);\r\n      lanes.push(_.omit({ ...el, children }, ['lanes', 'cards']));\r\n    } else if (el.id !== payload.id) {\r\n      cards.push(el);\r\n    }\r\n  });\r\n\r\n  return {\r\n    ...payload,\r\n    children: (payload.lanes || []).map(i => i.id),\r\n    lanes: _.mapKeys(lanes, 'id'),\r\n    cards: _.mapKeys(cards, 'id')\r\n  };\r\n};\r\n\r\nexport default (state = null, action) => {\r\n  let lane = null;\r\n  switch (action.type) {\r\n    case FETCH_BOARD:\r\n      return formatBoard(action.payload);\r\n\r\n    case LAYOUT_BOARD:\r\n      return { ...state, layout: action.payload };\r\n\r\n    case FETCH_LANE:\r\n      return {\r\n        ...state,\r\n        lanes: {\r\n          ...state.lanes,\r\n          [action.payload.id]: {\r\n            ...action.payload,\r\n            children: action.payload.children || []\r\n          }\r\n        }\r\n      };\r\n\r\n    case CREATE_LANE:\r\n      return {\r\n        ...state,\r\n        lanes: {\r\n          ...state.lanes,\r\n          [action.payload.id]: {\r\n            ...action.payload,\r\n            children: []\r\n          }\r\n        }\r\n      };\r\n\r\n    case DELETE_LANE:\r\n      return state.lanes[action.payload.laneId]\r\n        ? { ...state, lanes: _.omit(state.lanes, action.payload.laneId) }\r\n        : state;\r\n\r\n    case APPEND_LANE:\r\n      lane = state.lanes[action.payload.parentId];\r\n      if (lane) {\r\n        lane.children = lane.children || [];\r\n        lane.children.push(action.payload.laneId);\r\n      } else {\r\n        state.children.push(action.payload.laneId);\r\n      }\r\n      return { ...state };\r\n\r\n    case EXCLUDE_LANE:\r\n      if (state.lanes[action.payload.parentId]) {\r\n        state.lanes[action.payload.parentId].children = _.pull(\r\n          state.lanes[action.payload.parentId].children,\r\n          action.payload.laneId\r\n        );\r\n      } else {\r\n        state.children = _.pull(state.children, action.payload.laneId);\r\n      }\r\n      return { ...state };\r\n\r\n      case LAYOUT_LANE:\r\n        if (state.lanes[action.payload.laneId]) {\r\n          state.lanes[action.payload.laneId].layout = action.payload.layout;\r\n          return { ...state };\r\n        } else {\r\n          return state;\r\n        }\r\n  \r\n    case APPEND_CARD:\r\n      if (state.lanes[action.payload.laneId]) {\r\n        state.lanes[action.payload.laneId].children.push(action.payload.cardId);\r\n        return { ...state };\r\n      } else {\r\n        return state;\r\n      }\r\n\r\n    case EXCLUDE_CARD:\r\n      if (state.lanes[action.payload.laneId]) {\r\n        state.lanes[action.payload.laneId].children = _.pull(\r\n          state.lanes[action.payload.laneId].children,\r\n          action.payload.cardId\r\n        );\r\n        return { ...state };\r\n      } else {\r\n        return state;\r\n      }\r\n\r\n    case CREATE_CARD:\r\n    case FETCH_CARD:\r\n      return {\r\n        ...state,\r\n        cards: {\r\n          ...state.cards,\r\n          [action.payload.id]: action.payload\r\n        }\r\n      };\r\n\r\n    case DELETE_CARD:\r\n      return state.cards[action.payload.cardId]\r\n        ? { ...state, cards: _.omit(state.cards, action.payload.cardId) }\r\n        : state;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  FILTER_BOARDS\r\n} from '../actions/types';\r\n\r\nexport default (state = '', action) => {\r\n  switch (action.type) {\r\n    case FILTER_BOARDS:\r\n      return action.filter.toLowerCase()\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  ACTIVE_BOARD,\r\n  CLEAN_BOARD\r\n} from '../actions/types';\r\n\r\nexport default (state = null, action) => {\r\n  switch (action.type) {\r\n    case ACTIVE_BOARD:\r\n      return action.payload\r\n    case CLEAN_BOARD:\r\n      return null;\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport monitorReducerEnhancer from './enhancers/monitorReducer';\r\nimport loggerMiddleware from './middleware/logger';\r\nimport rootReducer from './reducers';\r\n\r\nconst configureStore = () => {\r\n  const middlewares = [loggerMiddleware, thunkMiddleware];\r\n  const middlewareEnhancer = applyMiddleware(...middlewares);\r\n\r\n  const enhancers = [middlewareEnhancer, monitorReducerEnhancer];\r\n  const composedEnhancers = composeWithDevTools(...enhancers);\r\n\r\n  return createStore(rootReducer, {}, composedEnhancers);\r\n};\r\n\r\nexport default configureStore();\r\n","import { fetchBoard, deleteBoard } from '../actions/board';\r\nimport { fetchLane, deleteLane } from '../actions/lane';\r\nimport { fetchCard, deleteCard } from '../actions/card';\r\nimport store from '../store';\r\n\r\nconst REFRESHCARDNOTIFICATION = 0;\r\nconst REFRESHLANENOTIFICATION = 1;\r\nconst REFRESHBOARDNOTIFICATION = 2;\r\nconst REMOVECARDNOTIFICATION = 3;\r\nconst REMOVELANENOTIFICATION = 4;\r\nconst REMOVEBOARDNOTIFICATION = 5;\r\nconst CREATECARDNOTIFICATION = 6;\r\nconst CREATELANENOTIFICATION = 7;\r\nconst CREATEBOARDNOTIFICATION = 8;\r\n\r\nlet socket = null;\r\n\r\nfunction createSocket(msg) {\r\n  let conn = new WebSocket(`${process.env.REACT_APP_WS_URL}/v1/api/notify`);\r\n\r\n  conn.onopen = function(evt) {\r\n    console.log('websocket opened');\r\n    if (msg) {\r\n      sendMessage(conn, msg);\r\n    }\r\n  };\r\n\r\n  conn.onclose = function(evt) {\r\n    console.log('websocket closed');\r\n    socket = null;\r\n  };\r\n\r\n  conn.onmessage = function(evt) {\r\n    const ns = JSON.parse(evt.data);\r\n    console.log('websocket: receive', ns);\r\n    if (ns && ns.length) {\r\n      for (let n of ns) {\r\n        processNotification(n);\r\n      }\r\n    } else {\r\n      console.log('array is expected by socket!');\r\n    }\r\n  };\r\n\r\n  return conn;\r\n}\r\n\r\nfunction sendMessage(ws, msg) {\r\n  console.log('websocket: send', JSON.parse(msg));\r\n  ws.send(msg);\r\n}\r\n\r\nfunction processNotification(msg) {\r\n  switch (msg.type) {\r\n    case CREATECARDNOTIFICATION:\r\n    case REFRESHCARDNOTIFICATION:\r\n      fetchCard(msg.board_id, msg.id)(store.dispatch);\r\n      return;\r\n    case CREATELANENOTIFICATION:\r\n    case REFRESHLANENOTIFICATION:\r\n      fetchLane(msg.board_id, msg.id)(store.dispatch);\r\n      return;\r\n    case CREATEBOARDNOTIFICATION:\r\n    case REFRESHBOARDNOTIFICATION:\r\n      fetchBoard(msg.board_id)(store.dispatch);\r\n      return;\r\n    case REMOVECARDNOTIFICATION:\r\n      deleteCard(msg.board_id, undefined, msg.id, true)(store.dispatch);\r\n      return;\r\n    case REMOVELANENOTIFICATION:\r\n      deleteLane(msg.board_id, undefined, msg.id, true)(store.dispatch);\r\n      return;\r\n    case REMOVEBOARDNOTIFICATION:\r\n      deleteBoard(msg.board_id, true)(store.dispatch);\r\n      return;\r\n    default:\r\n  }\r\n}\r\n\r\nexport default msg => {\r\n  if (!socket) {\r\n    console.log('websocket not available');\r\n    socket = createSocket(msg);\r\n    return;\r\n  }\r\n\r\n  sendMessage(socket, msg);\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signOut } from '../actions/auth';\r\n\r\nclass Auth extends React.Component {\r\n  componentDidMount() {\r\n    var token = localStorage.getItem('auth.token');\r\n    if (token != null){\r\n      this.props.signIn(token);\r\n    }\r\n  }\r\n\r\n  onSignInClick = () => {\r\n    let token = this.props.getToken();\r\n    this.props.signIn(token);\r\n    localStorage.setItem('auth.token', token);\r\n    this.props.clearValue()\r\n  };\r\n\r\n  onSignOutClick = () => {\r\n    this.props.signOut();\r\n    this.props.clearValue()\r\n    localStorage.removeItem('auth.token');\r\n  };\r\n\r\n  render() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button onClick={this.onSignOutClick} className=\"btn btn-info btn-sm\" title={this.props.user}>\r\n          <i className=\"fa fa-fw fa-lock\" />\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button onClick={this.onSignInClick} className=\"btn btn-info btn-sm\">\r\n          <i className=\"fa fa-fw fa-unlock\" />\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { isSignedIn: state.auth.isSignedIn, user: state.auth.user };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { signIn, signOut }\r\n)(Auth);\r\n","import {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n} from './types';\r\nimport server from '../apis/index';\r\n\r\nexport const signIn = token => async dispatch => {\r\n  const response = await server.post('/Tenant/Token', {}, { headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` } });\r\n\r\n  dispatch({ type: SIGN_IN, payload: response.data.User });\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  };\r\n};\r\n\r\n","import _ from 'lodash';\r\n\r\nexport const isActiveBoard = (cmd, props) => props.owner && props.activeBoardId;\r\nexport const isNotActiveBoard = (cmd, props) => !props.activeBoardId;\r\nexport const isEnabled = (command, cmd, props) => command.enabled ? command.enabled(cmd, props) : command;\r\nexport const getFilteredBoards = (props) => {\r\n  var filter = props.filter.toLowerCase();\r\n  var filteredBoards = _.omitBy(\r\n    props.boards,\r\n    (board) =>\r\n      !(\r\n        (board.name || '').toLowerCase().includes(filter) ||\r\n        (board.description || '').toLowerCase().includes(filter) ||\r\n        (board.owner || '').toLowerCase().includes(filter)\r\n      )\r\n  );\r\n  return filteredBoards;\r\n};\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { isActiveBoard, isNotActiveBoard } from './common';\r\n\r\nfunction createLane(cmd, props) {\r\n  props.createLane(props.activeBoardId, 'Lane');\r\n}\r\n\r\nfunction layoutLaneVertical(cmd, props) {\r\n  props.layoutLane(props.activeBoardId, undefined, 'V');\r\n}\r\n\r\nfunction layoutLaneHorizontal(cmd, props) {\r\n  props.layoutLane(props.activeBoardId, undefined, 'H');\r\n}\r\n\r\nexport const laneHandlers = {\r\n  create: {\r\n    commands: ['create', 'створити'],\r\n    enabled: isActiveBoard,\r\n    fn: createLane,\r\n  },\r\n  vertical: {\r\n    commands: ['layout vertical', 'vertical', 'rows', 'рядки', 'вертикальний'],\r\n    enabled: () => false,\r\n    fn: layoutLaneVertical,\r\n  },\r\n  horizontal: {\r\n    commands: [\r\n      'layout horizontal',\r\n      'horizontal',\r\n      'columns',\r\n      'колонки',\r\n      'стовпчики',\r\n      'горизонтальний',\r\n    ],\r\n    enabled: () => false,\r\n    fn: layoutLaneHorizontal,\r\n  },\r\n  tickers: {\r\n    commands: ['tickers', 'companies', 'компанії', 'тікери'],\r\n    enabled: isActiveBoard,\r\n    fn: tickers,\r\n  },\r\n};\r\n\r\nfunction tickers(cmd, props, show, close) {\r\n  var elements = document.querySelectorAll(\"div.board-body > div.lane-wrapper > div.lane-header > div.lane-title > div.row > div.mr-auto b\");\r\n  var names = _.map(elements, el => {\r\n    var text = el.innerText.toUpperCase();\r\n    return text.slice(0, text.length - 1);\r\n  }).join(\", \");\r\n  console.log(names);\r\n  show(\r\n    'Hi there:)',\r\n    <div>{names || 'There are no tickers'}.</div>\r\n  );\r\n  setTimeout(close, 5000);\r\n}\r\n\r\n","function mute(cmd, props) {\r\n  props.speechOff();\r\n}\r\n\r\nfunction reloadPage(cmd, props) {\r\n  window.location.reload();\r\n}\r\n\r\nexport const controlHandlers = {\r\n  mute: {\r\n    commands: ['mute', 'виключити'],\r\n    fn: mute,\r\n  },\r\n  reload: {\r\n    commands: ['reload', 'оновити'],\r\n    fn: reloadPage,\r\n  },\r\n};\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { isEnabled } from './common';\r\n\r\nfunction helpShow(handlers, cmd, props, show, close) {\r\n  var mapCommand = (command, cmdKey) => (\r\n    <li key={cmdKey}>\r\n      {cmdKey}\r\n      {isEnabled(command, cmd, props) ? '' : '*'} (say:{' '}\r\n      {command.commands.join(', ')})\r\n    </li>\r\n  );\r\n  var mapCategory = (handler, handlerKey) => (\r\n    <div key={handlerKey}>\r\n      <b>{handlerKey.toUpperCase()}</b>\r\n      <br />\r\n      <ul>{_.map(handler, mapCommand)}</ul>\r\n    </div>\r\n  );\r\n\r\n  var body = _.map(_.map(handlers(), mapCategory));\r\n\r\n  show(\r\n    'Voice commands',\r\n    <div className=\"\" style={{ fontSize: 'x-small' }}>\r\n      {body}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction helpClose(cmd, props, show, close) {\r\n  close();\r\n}\r\n\r\nexport const helpHandlers = (handlers) => {\r\n  return {\r\n    help: {\r\n      commands: ['help', 'commands', 'допомога'],\r\n      fn: (cmd, props, show, close) => helpShow(handlers, cmd, props, show, close)\r\n    },\r\n    close: {\r\n      commands: ['close', 'cancel', 'закрити'],\r\n      fn: helpClose\r\n    }\r\n  };\r\n};\r\n","let zoom = 100;\r\n\r\nfunction zoomIn() {\r\n  zoom = Math.round(zoom * 1.25);\r\n  document.body.style.zoom = `${zoom}%`;\r\n}\r\n\r\nfunction zoomOut() {\r\n  zoom = Math.round(zoom * 0.75);\r\n  document.body.style.zoom = `${zoom}%`;\r\n}\r\n\r\nfunction zoom100() {\r\n  zoom = 100;\r\n  document.body.style.zoom = `${zoom}%`;\r\n}\r\n\r\nexport const zoomHandlers = {\r\n  in: {\r\n    commands: ['збільшити', 'більше', 'zoom', 'zoom zoom', 'zoom in', 'bigger'],\r\n    fn: zoomIn,\r\n  },\r\n  out: {\r\n    commands: ['zoom out', 'зменшити', 'менше', 'smaller'],\r\n    fn: zoomOut,\r\n  },\r\n  reset: {\r\n    commands: [\r\n      'zoom reset',\r\n      'reset zoom',\r\n      'normal zoom',\r\n      'original',\r\n      'оригінал',\r\n    ],\r\n    fn: zoom100,\r\n  },\r\n};\r\n","function languageUa(cmd, props) {\r\n  props.speechLang('uk-UA', (cmd) => props.speechCmd(cmd, props));\r\n}\r\n\r\nfunction languageUs(cmd, props) {\r\n  props.speechLang('en-US', (cmd) => props.speechCmd(cmd, props));\r\n}\r\n\r\nexport const languageHandlers = {\r\n  english: {\r\n    commands: ['англійська', 'english'],\r\n    fn: languageUs,\r\n  },\r\n\r\n  ukrainian: {\r\n    commands: ['ukrainian'],\r\n    fn: languageUa,\r\n  },\r\n};\r\n","export const consoleHandlers = {\r\n  clear: {\r\n    commands: ['clear', 'очистити', 'почистити', 'стерти'],\r\n    fn: clearConsole,\r\n  },\r\n};\r\n\r\nfunction clearConsole() {\r\n  console.clear();\r\n}","import _ from 'lodash';\r\nimport { isActiveBoard } from './common';\r\n\r\nexport const scrollHandlers = {\r\n  top: {\r\n    commands: [\r\n      'вгору',\r\n      'вверх',\r\n      'scroll top',\r\n      'scroll up',\r\n      'scroll start',\r\n      'go up',\r\n    ],\r\n    fn: scrollTop,\r\n  },\r\n  bottom: {\r\n    commands: ['вниз', 'scroll bottom', 'scroll down', 'scroll end', 'go down'],\r\n    fn: scrollBottom,\r\n  },\r\n  up: {\r\n    commands: ['up', 'north', 'вище', 'північ'],\r\n    fn: scrollUp,\r\n  },\r\n  down: {\r\n    commands: ['down', 'south', 'нижче', 'південь'],\r\n    fn: scrollDown,\r\n  },\r\n  left: {\r\n    commands: ['left', 'west', 'ліво', 'лівіше', 'захід'],\r\n    fn: scrollLeft,\r\n  },\r\n  right: {\r\n    commands: ['right', 'east', 'право', 'правіше', 'схід'],\r\n    fn: scrollRight,\r\n  },\r\n  to: {\r\n    commands: ['to', 'element', 'show', 'покажи', 'елемент'],\r\n    enabled: isActiveBoard,\r\n    fn: scrollTo,\r\n  },\r\n};\r\n\r\nfunction scrollTo(cmd, props) {\r\n  var ticker = cmd.split(' ')[1];\r\n  if (!ticker) {\r\n    return;\r\n  }\r\n  ticker = ticker.toLowerCase() + \":\";\r\n  var elements = document.querySelectorAll(\"div.lane-title > div.row > div.mr-auto b\");\r\n  var pairs = _.map(elements, el => [el.innerText.toLowerCase(), el]);\r\n  var map = _.fromPairs(pairs);\r\n  if (map[ticker]){\r\n    map[ticker].scrollIntoView();\r\n  }\r\n}\r\n\r\nfunction scrollLeft() {\r\n  window.scrollBy(-300, 0);\r\n}\r\n\r\nfunction scrollRight() {\r\n  window.scrollBy(300, 0);\r\n}\r\n\r\nfunction scrollUp() {\r\n  window.scrollBy(0, -300);\r\n}\r\n\r\nfunction scrollDown() {\r\n  window.scrollBy(0, 300);\r\n}\r\n\r\nfunction scrollTop() {\r\n  window.scrollTo({ left: 0, top: 0, behavior: 'smooth' });\r\n}\r\n\r\nfunction scrollBottom() {\r\n  window.scrollTo({\r\n    left: 0,\r\n    top: document.body.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n","export const filterHandlers = {\r\n  filter: {\r\n    commands: ['filter', 'фільтр'],\r\n    fn: filterBoards,\r\n  },\r\n  own: {\r\n    commands: ['owner', 'own', 'мої', 'моє'],\r\n    fn: filterOwn,\r\n  },\r\n  drop: {\r\n    commands: [\r\n      'drop filter',\r\n      'скинути фільтр',\r\n      'all',\r\n      'everything',\r\n      'unfiltered',\r\n      'все',\r\n      'без фільтра',\r\n    ],\r\n    fn: dropFilter,\r\n  },\r\n};\r\n\r\nfunction filterBoards(cmd, props) {\r\n  var filter = cmd.split(' ')[1];\r\n  if (!filter) {\r\n    return;\r\n  }\r\n  filter = filter.toLowerCase();\r\n  props.filterBoards(filter);\r\n}\r\n\r\nfunction filterOwn(cmd, props) {\r\n  props.filterBoards(props.owner || '');\r\n}\r\n\r\nfunction dropFilter(cmd, props) {\r\n  props.filterBoards('');\r\n}\r\n","import { createBrowserHistory as createHistory } from 'history';\r\n\r\nexport default createHistory();","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { isActiveBoard, isNotActiveBoard, getFilteredBoards } from './common';\r\n\r\nexport const boardHandlers = {\r\n  create: {\r\n    commands: ['create', 'створити'],\r\n    enabled: createBoardEnabled,\r\n    fn: createBoard,\r\n  },\r\n  delete: {\r\n    commands: ['delete', 'remove', 'видалити'],\r\n    enabled: removeBoardEnabled,\r\n    fn: removeBoard,\r\n  },\r\n  name: {\r\n    commands: ['name', 'назвати'],\r\n    enabled: isOwnerDefined,\r\n    fn: nameBoard,\r\n  },\r\n  vertical: {\r\n    commands: ['layout vertical', 'vertical', 'rows', 'рядки', 'вертикальний', 'вертикально'],\r\n    enabled: isActiveBoard,\r\n    fn: layoutBoardVertical,\r\n  },\r\n  horizontal: {\r\n    commands: [\r\n      'layout horizontal',\r\n      'horizontal',\r\n      'columns',\r\n      'колонки',\r\n      'стовпчики',\r\n      'горизонтальний',\r\n      'горизонтально'\r\n    ],\r\n    enabled: isActiveBoard,\r\n    fn: layoutBoardHorizontal,\r\n  },\r\n  share: {\r\n    commands: ['share', 'публічна'],\r\n    enabled: isOwnerDefined,\r\n    fn: shareBoard,\r\n  },\r\n  private: {\r\n    commands: ['private', 'приватна'],\r\n    enabled: isOwnerDefined,\r\n    fn: privateBoard,\r\n  },\r\n  count: {\r\n    commands: ['count'],\r\n    enabled: isNotActiveBoard,\r\n    fn: countBoards,\r\n  },\r\n};\r\n\r\nfunction createBoardEnabled(cmd, props) {\r\n  return props.owner && !props.activeBoardId;\r\n}\r\n\r\nfunction createBoard(cmd, props) {\r\n  props.createBoard('Board', props.owner);\r\n}\r\n\r\nfunction layoutBoardVertical(cmd, props) {\r\n  props.layoutBoard(props.activeBoardId, 'V');\r\n}\r\n\r\nfunction layoutBoardHorizontal(cmd, props) {\r\n  props.layoutBoard(props.activeBoardId, 'H');\r\n}\r\n\r\nfunction shareBoard(cmd, props) {\r\n  if (props.activeBoardId) {\r\n    props.shareBoard(props.activeBoardId, true);\r\n  } else {\r\n    _.each(_.keys(getOwnerBoards(props)), (id) => props.shareBoard(id, true)\r\n    );\r\n  }\r\n}\r\n\r\nfunction privateBoard(cmd, props) {\r\n  if (props.activeBoardId) {\r\n    props.shareBoard(props.activeBoardId, false);\r\n  } else {\r\n    _.each(_.keys(getOwnerBoards(props)), (id) => props.shareBoard(id, false)\r\n    );\r\n  }\r\n}\r\n\r\nfunction removeBoardEnabled(cmd, props) {\r\n  return props.owner && !props.activeBoardId;\r\n}\r\n\r\nfunction removeBoard(cmd, props, show, close) {\r\n  var keys = _.keys(getOwnerBoards(props));\r\n  show('Confirm', `Remove ${keys.length} boards?`, () => {\r\n    close();\r\n    _.each(keys, (id) => props.deleteBoard(id, false));\r\n  });\r\n}\r\n\r\nfunction isOwnerDefined(cmd, props) {\r\n  return props.owner;\r\n}\r\n\r\nfunction nameBoard(cmd, props, show, close) {\r\n  var name = cmd.slice(cmd.indexOf(' ')).trim();\r\n  if (!name) {\r\n    return;\r\n  }\r\n  if (props.activeBoardId) {\r\n    props.renameBoard(props.activeBoardId, name);\r\n  } else {\r\n    var keys = _.keys(getOwnerBoards(props));\r\n    show('Confirm', `Rename ${keys.length} boards to \"${name}\"?`, () => {\r\n      close();\r\n      _.each(keys, (id) => props.renameBoard(id, name));\r\n    });\r\n  }\r\n}\r\n\r\nfunction countBoards(cmd, props, show, close) {\r\n  var boards = getFilteredBoards(props);\r\n  var count = _.keys(boards).length;\r\n  console.log(count);\r\n  show(\r\n    'Hi there:)',\r\n    <div>You observe {count} board(s) at the moment.</div>\r\n  );\r\n  setTimeout(close, 3000);\r\n}\r\n\r\nfunction getOwnerBoards(props) {\r\n  return _.omitBy(\r\n    getFilteredBoards(props),\r\n    (board) => !((board.owner || '') == (props.owner || ''))\r\n  );\r\n}\r\n","import _ from 'lodash';\r\nimport { isEnabled } from './common';\r\nimport { laneHandlers } from './lane';\r\nimport { controlHandlers } from './control';\r\nimport { helpHandlers } from './help';\r\nimport { zoomHandlers } from './zoom';\r\nimport { languageHandlers } from './language';\r\nimport { consoleHandlers } from './console';\r\nimport { scrollHandlers } from './scroll';\r\nimport { filterHandlers } from './filter';\r\nimport { navigationHandlers } from './navigation';\r\nimport { boardHandlers } from './board';\r\n\r\nconst handlers = {\r\n  board: boardHandlers,\r\n  console: consoleHandlers,\r\n  control: controlHandlers,\r\n  filter: filterHandlers,\r\n  help: helpHandlers(() => handlers),\r\n  lane: laneHandlers,\r\n  language: languageHandlers,\r\n  navigation: navigationHandlers,\r\n  scroll: scrollHandlers,\r\n  zoom: zoomHandlers\r\n};\r\n\r\nexport const getHandler = (speechCmd, props) => {\r\n  var commands = _.flatMap(handlers, (category) =>\r\n    _.map(category, (command) => command)\r\n  );\r\n  return (\r\n    _.find(\r\n      commands,\r\n      (command) =>\r\n        _.includes(command.commands, speechCmd) &&\r\n        isEnabled(command, speechCmd, props)\r\n    ) ||\r\n    _.find(\r\n      commands,\r\n      (command) =>\r\n        _.some(command.commands, (cmd) => speechCmd.startsWith(cmd)) &&\r\n        isEnabled(command, speechCmd, props)\r\n    )\r\n  );\r\n}\r\n","import _ from 'lodash';\r\nimport history from '../../history';\r\nimport { getFilteredBoards } from './common';\r\nimport { isActiveBoard } from './common';\r\n\r\nexport const navigationHandlers = {\r\n  home: {\r\n    commands: ['go home', 'додому'],\r\n    enabled: isActiveBoard,\r\n    fn: goHome,\r\n  },\r\n  first: {\r\n    commands: ['first', 'перша', 'перший', 'першу'],\r\n    fn: firstItem,\r\n  },\r\n  last: {\r\n    commands: ['last', 'останній', 'остання', 'останню'],\r\n    fn: lastItem,\r\n  },\r\n  open: {\r\n    commands: ['open', 'відкрити'],\r\n    fn: openItem,\r\n  },\r\n};\r\n\r\nfunction goHome() {\r\n  history.push(`${process.env.REACT_APP_CONTEXT_ROOT}/`);\r\n}\r\n\r\nfunction firstItem(cmd, props) {\r\n  var ticker = cmd.split(' ')[1];\r\n  if (!ticker) {\r\n    var keys = _.keys(getFilteredBoards(props));\r\n    if (keys.length == 0) {\r\n      return;\r\n    }\r\n    var key = keys[0];\r\n    history.push(`${process.env.REACT_APP_CONTEXT_ROOT}/board/${key}`);\r\n    return;\r\n  }\r\n  ticker = ticker.toLowerCase();\r\n  var key = _.findKey(\r\n    getFilteredBoards(props),\r\n    (val) =>\r\n      (val.name || '').toLowerCase().includes(ticker) ||\r\n      (val.description || '').toLowerCase().includes(ticker)\r\n  );\r\n  if (key) {\r\n    history.push(`${process.env.REACT_APP_CONTEXT_ROOT}/board/${key}`);\r\n  }\r\n}\r\n\r\nfunction lastItem(cmd, props) {\r\n  var ticker = cmd.split(' ')[1];\r\n  if (!ticker) {\r\n    var keys = _.keys(getFilteredBoards(props));\r\n    if (keys.length == 0) {\r\n      return;\r\n    }\r\n    var key = keys[keys.length - 1];\r\n    history.push(`${process.env.REACT_APP_CONTEXT_ROOT}/board/${key}`);\r\n    return;\r\n  }\r\n  ticker = ticker.toLowerCase();\r\n  var key = _.findLastKey(\r\n    getFilteredBoards(props),\r\n    (val) =>\r\n      (val.name || '').toLowerCase().includes(ticker) ||\r\n      (val.description || '').toLowerCase().includes(ticker)\r\n  );\r\n  if (key) {\r\n    history.push(`${process.env.REACT_APP_CONTEXT_ROOT}/board/${key}`);\r\n  }\r\n}\r\n\r\nfunction openItem(cmd, props) {\r\n  var ticker = cmd.split(' ')[1];\r\n  if (!ticker) {\r\n    return;\r\n  }\r\n  ticker = ticker.toLowerCase();\r\n  var key = _.findKey(\r\n    getFilteredBoards(props),\r\n    (val) =>\r\n      (val.name || '').toLowerCase().includes(ticker) ||\r\n      (val.description || '').toLowerCase().includes(ticker)\r\n  );\r\n  if (key) {\r\n    history.push(`${process.env.REACT_APP_CONTEXT_ROOT}/board/${key}`);\r\n  }\r\n}\r\n","import { SPEECH_ON, SPEECH_OFF, SPEECH_ERROR, SPEECH_CMD, SPEECH_LANG } from './types';\r\nimport { startSpeech, stopSpeech, speechLanguage } from '../apis/speech';\r\nimport { getHandler } from './speech/handlers';\r\n\r\nexport const speechOn = () => {\r\n  startSpeech();\r\n  return {\r\n    type: SPEECH_ON,\r\n  };\r\n};\r\n\r\nexport const speechOff = () => {\r\n  stopSpeech();\r\n  return {\r\n    type: SPEECH_OFF,\r\n  };\r\n};\r\n\r\nexport const speechError = () => {\r\n  return {\r\n    type: SPEECH_ERROR,\r\n  };\r\n};\r\n\r\nexport const speechCmd = (cmd, props, helpShow, helpClose) => {\r\n  cmd = cmd.toLowerCase();\r\n  var handler = getHandler(cmd, props);\r\n  if (handler) {\r\n    console.log('found: ' + cmd);\r\n    handler.fn(cmd, props, helpShow, helpClose);\r\n  } else {\r\n    console.log('not found: ' + cmd);\r\n  }\r\n  return {\r\n    type: SPEECH_CMD,\r\n    payload: {\r\n      cmd: cmd,\r\n      executed: handler != null\r\n    }\r\n  };\r\n};\r\n\r\nexport const speechLang = (lang) => {\r\n  speechLanguage(lang);\r\n  return {\r\n    type: SPEECH_LANG,\r\n    payload: lang,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { speechOn, speechOff } from '../actions/speech';\r\n\r\nclass Microphone extends React.Component {\r\n  onSpeechOnClick = () => {\r\n    this.props.speechOn();\r\n  };\r\n\r\n  onSpeechOffClick = () => {\r\n    this.props.speechOff();\r\n  };\r\n\r\n  getButtonStyle = () => {\r\n    let style = this.props.home ? 'btn-info' : 'btn-success';\r\n\r\n    if (this.props.isEnabled && this.props.isOn){\r\n      if (this.props.isError){\r\n        style ='btn-danger';\r\n      } else if (!this.props.executed){\r\n        style ='btn-warning';\r\n      }\r\n    }\r\n\r\n    return 'btn btn-sm ' + style;\r\n  };\r\n\r\n  render() {\r\n      return (\r\n        <div className=\"input-group-append\">\r\n          <button\r\n            disabled={!this.props.isEnabled}\r\n            className={this.getButtonStyle()}\r\n            onClick={() => this.props.isOn ? this.onSpeechOffClick() : this.onSpeechOnClick()}\r\n            title={`${this.props.lang}:${this.props.cmd}`}\r\n          >\r\n            <i className={this.props.isOn ? 'fa fa-fw fa-microphone-slash' : 'fa fa-fw fa-microphone'} />\r\n          </button>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isEnabled: state.speech.isSpeechEnabled,\r\n    isOn: state.speech.isSpeechOn,\r\n    isError: state.speech.isSpeechError,\r\n    cmd: state.speech.speechCmd,\r\n    executed: state.speech.speechResult,\r\n    lang: state.speech.speechLang\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  speechOn,\r\n  speechOff\r\n})(Microphone);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createBoard, filterBoards } from '../actions/board';\r\nimport Auth from './Auth';\r\nimport Microphone from './Microphone';\r\n\r\nconst Header = ({ secure, owner, visible, createBoard, filterBoards }) => {\r\n  let input;\r\n\r\n  const createButton = () => {\r\n    if (!secure) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"input-group-append\">\r\n        <button\r\n          className=\"btn btn-info btn-sm\"\r\n          onClick={(e) => {\r\n            if (!input.value.trim()) {\r\n              return;\r\n            }\r\n            console.log(secure, owner);\r\n            createBoard(input.value, secure ? owner : 'anonymous');\r\n            input.value = '';\r\n          }}\r\n        >\r\n          <i className=\"fa fa-fw fa-check\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav\r\n      className=\"navbar bg-dark navbar-dark fixed-top\"\r\n      style={{ visibility: visible ? 'visible' : 'hidden' }}\r\n    >\r\n      <div className=\"container-fluid no-gutters\">\r\n        <div className=\"col-12 col-sm-9 col-md-6 col-lg-3 ml-auto mr-auto\">\r\n          <form\r\n            className=\"input-group\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <Auth\r\n                  getToken={() => input.value.trim()}\r\n                  clearValue={() => (input.value = '')}\r\n                />\r\n              </div>\r\n              <Microphone home={true}/>\r\n              <input\r\n                type=\"search\"\r\n                className=\"form-control form-control-sm\"\r\n                placeholder={secure ? 'Board title...' : 'Token...'}\r\n                ref={(node) => (input = node)}\r\n              />\r\n              {createButton()}\r\n              <div className=\"input-group-append\">\r\n                <button\r\n                  className=\"btn btn-info btn-sm\"\r\n                  onClick={(e) => {\r\n                    filterBoards(input.value.trim());\r\n                  }}\r\n                >\r\n                  <i className=\"fa fa-fw fa-search\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  secure: state.auth.isSignedIn,\r\n  owner: state.auth.user,\r\n  visible: state.activeBoard == null,\r\n});\r\n\r\nexport default connect(mapStateToProps, { createBoard, filterBoards })(Header);\r\n","import React from 'react';\r\nimport List from './boards/List';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport socket from '../apis/socket';\r\nimport Header from './Header';\r\n\r\nclass Boards extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n\r\n    this.state = {\r\n      show: false,\r\n      title: 'Confirm',\r\n      question: 'Are you sure?',\r\n      yesFn: this.handleClose\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    socket(JSON.stringify({ id: '' }));\r\n  }\r\n\r\n  handleClose(fn) {\r\n    if (fn && typeof fn == 'function') {\r\n      fn();\r\n    }\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow(title = 'Confirm', question = 'Are you sure?', fn) {\r\n    this.setState({\r\n      show: true,\r\n      title,\r\n      question,\r\n      yesFn: () => this.handleClose(fn)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header/>\r\n        <List onConfirm={this.handleShow}/>\r\n        <Modal show={this.state.show} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.state.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>{this.state.question}</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={this.state.yesFn}>\r\n              Yes\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Boards;\r\n","import React from 'react';\r\nimport Desc from './Desc';\r\n\r\nexport default ({card}) => {\r\n  return (\r\n    <div className=\"card-body py-2\" style={{ overflowY: 'auto' }}>\r\n      <div className=\"card-body-wrapper\">\r\n        <Desc key={card.id} {...{id: card.id, description: card.description}}></Desc>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nclass Form extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n\r\n    //console.log(`create form`);\r\n\r\n    this.state = {\r\n      show: !!props.visible,\r\n      title: 'Card',\r\n      yesFn: this.handleClose\r\n    };\r\n  }\r\n\r\n  handleClose(fn) {\r\n    if (fn && typeof fn == 'function') {\r\n      fn();\r\n    }\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow(title = 'Card', fn) {\r\n    this.setState({\r\n      show: true,\r\n      title,\r\n      yesFn: () => this.handleClose(fn)\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.visible !== prevProps.visible) {\r\n      this.setState({ show: !!this.props.visible });\r\n    }\r\n  }\r\n\r\n  renderError({ error, touched }) {\r\n    if (touched && error) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderInput = ({ input, label, meta }) => {\r\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`;\r\n    return (\r\n      <div className={className}>\r\n        <label>{label}</label>\r\n        <input {...input} autoComplete=\"off\" />\r\n        {this.renderError(meta)}\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  onSubmit = formValues => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    //console.log(`render form`);\r\n\r\n    return (\r\n      <Modal show={this.state.show} onHide={this.handleClose}>\r\n        <form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.state.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Field\r\n              name=\"name\"\r\n              component={this.renderInput}\r\n              label=\"Enter Title\"\r\n            />\r\n            <Field\r\n              name=\"description\"\r\n              component={this.renderInput}\r\n              label=\"Enter Description\"\r\n            />\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={this.state.yesFn}>\r\n              Yes\r\n            </Button>\r\n          </Modal.Footer>\r\n        </form>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = formValues => {\r\n  const errors = {};\r\n\r\n  if (!formValues.name) {\r\n    errors.name = 'You must enter a name';\r\n  }\r\n\r\n  if (!formValues.description) {\r\n    errors.description = 'You must enter a description';\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({ form: 'cardForm', validate })(Form);\r\n","import React, { useState } from 'react';\r\nimport Body from './card/Body';\r\nimport Form from './card/Form';\r\n\r\nexport default ({ lane, card, editCard, deleteCard, editable, children }) => {\r\n  const [formVisibility, setFormVisibility] = useState(false);\r\n\r\n  //console.log(`render card ${card ? card.id : 'N/A'}:${card ? card.name : 'N/A'}`);\r\n\r\n  const fn = () => {\r\n    console.log('setting form visible');\r\n    setFormVisibility(true);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      id={card.id}\r\n      className=\"card-wrapper float-left m-3\"\r\n      draggable={editable ? 'true' : 'false'}\r\n      onDragStart={e => {\r\n        //e.dataTransfer.setData('id', e.target.id);\r\n        //e.dataTransfer.setData('card', e.target.id);\r\n        e.dataTransfer.setData('card', card.id);\r\n        e.dataTransfer.setData('parent', lane.id);\r\n      }}\r\n    >\r\n      <div className=\"card shadow item\">\r\n        <div className=\"card-header\">\r\n          <div className=\"card-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\">{card.name}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-pencil text-muted card-badge\"\r\n                  title=\"edit\"\r\n                  onClick={() => fn()}\r\n                />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted card-badge\"\r\n                  title=\"delete\"\r\n                  onClick={() => deleteCard(card.id)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Body card={card} />\r\n        {/*<Form visible={formVisibility} initialValues={card}></Form>*/}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { excludeAndDeleteLane } from '../../actions/lane';\r\nimport { createCard, moveCard, excludeAndDeleteCard } from '../../actions/card';\r\nimport Card from './Card';\r\n\r\nclass CardLane extends React.Component {\r\n  renderCards() {\r\n    const { lane, board, editable } = this.props;\r\n\r\n    if (!lane || !lane.children) {\r\n      return null;\r\n    }\r\n\r\n    return lane.children\r\n      .map(id => board.cards[id])\r\n      .filter(card => card)\r\n      .map(card => (\r\n        <Card\r\n          key={card.id}\r\n          board={board}\r\n          card={card}\r\n          lane={lane}\r\n          editCard={this.editCard}\r\n          deleteCard={this.deleteCard}\r\n          editable={editable}\r\n        />\r\n      ));\r\n  }\r\n\r\n  createCard = () => {\r\n    const { lane, board, createCard, editable } = this.props;\r\n\r\n    if (editable && lane && createCard) {\r\n      createCard(board.id, lane.id, 'Card');\r\n    }\r\n  };\r\n\r\n  moveCard = (cardId, fromLaneId) => {\r\n    const { lane, board, moveCard, editable } = this.props;\r\n\r\n    if (editable && lane && moveCard) {\r\n      moveCard(board.id, fromLaneId, lane.id, cardId);\r\n    }\r\n  };\r\n\r\n  editCard = id => {\r\n    const { board, editable, onConfirm } = this.props;\r\n\r\n    if (editable) {\r\n      let card = board.cards[id];\r\n      onConfirm(undefined, `Edit ${card.name}?`);\r\n    }\r\n  };\r\n\r\n  deleteCard = id => {\r\n    const {\r\n      lane,\r\n      board,\r\n      excludeAndDeleteCard,\r\n      editable,\r\n      onConfirm\r\n    } = this.props;\r\n\r\n    if (editable && lane && excludeAndDeleteCard) {\r\n      let card = board.cards[id];\r\n      onConfirm(undefined, `Delete ${card.name}?`, () =>\r\n        excludeAndDeleteCard(board.id, lane.id, id)\r\n      );\r\n    }\r\n  };\r\n\r\n  deleteLane = () => {\r\n    const {\r\n      lane,\r\n      board,\r\n      excludeAndDeleteLane,\r\n      parentId,\r\n      editable,\r\n      onConfirm\r\n    } = this.props;\r\n\r\n    if (editable && lane && excludeAndDeleteLane) {\r\n      onConfirm(undefined, `Delete ${lane.name}?`, () =>\r\n        excludeAndDeleteLane(board.id, parentId, lane.id)\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { lane, editable } = this.props;\r\n\r\n    var text = lane.name + (lane.description ? ':' : '');\r\n\r\n    return (\r\n      <div id={lane.id} className=\"lane-wrapper\">\r\n        <div className=\"lane-header card-header border rounded-0\">\r\n          <div className=\"lane-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\"><b>{text}</b> {lane.description}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-file text-muted\"\r\n                  title=\"card\"\r\n                  onClick={this.createCard}\r\n                />\r\n                <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted\"\r\n                  title=\"delete\"\r\n                  onClick={this.deleteLane}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"lane-body\"\r\n          onDragOver={e => {\r\n            if (e.dataTransfer.types.includes('card')) {\r\n              e.preventDefault();\r\n            }\r\n          }}\r\n          onDrop={e => {\r\n            e.preventDefault();\r\n            let cardId = e.dataTransfer.getData('card');\r\n            let laneId = e.dataTransfer.getData('parent');\r\n            this.moveCard(cardId, laneId);\r\n          }}\r\n        >\r\n          {this.renderCards()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.board;\r\n  let lane = board.lanes[ownProps.lane.id];\r\n  return { board, lane };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createCard, moveCard, excludeAndDeleteCard, excludeAndDeleteLane }\r\n)(CardLane);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  createLane,\r\n  createCardLane,\r\n  excludeAndDeleteLane\r\n} from '../../actions/lane';\r\nimport Lane from './Lane';\r\n\r\nclass CompositeLane extends React.Component {\r\n  renderLanes() {\r\n    const { lane, board, editable, onConfirm } = this.props;\r\n\r\n    if (!lane || !lane.children) {\r\n      return null;\r\n    }\r\n\r\n    return lane.children\r\n      .map(id => board.lanes[id])\r\n      .filter(lane => lane)\r\n      .map(child => (\r\n        <Lane\r\n          key={child.id}\r\n          lane={child}\r\n          board={board}\r\n          parentId={lane.id}\r\n          editable={editable}\r\n          onConfirm={onConfirm}\r\n        />\r\n      ));\r\n  }\r\n\r\n  createChild = () => {\r\n    const { lane, board, createCardLane, editable } = this.props;\r\n\r\n    if (editable && lane && createCardLane) {\r\n      createCardLane(board.id, lane.id, 'CardLane');\r\n    }\r\n  };\r\n\r\n  deleteLane = () => {\r\n    const {\r\n      lane,\r\n      board,\r\n      excludeAndDeleteLane,\r\n      parentId,\r\n      editable,\r\n      onConfirm\r\n    } = this.props;\r\n\r\n    if (editable && lane && excludeAndDeleteLane) {\r\n      onConfirm(undefined, `Delete ${lane.name}?`, () =>\r\n        excludeAndDeleteLane(board.id, parentId, lane.id)\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { lane, editable } = this.props;\r\n\r\n    var text = lane.name + (lane.description ? ':' : '');\r\n\r\n    const layout = (lane && lane.layout) || 'V';\r\n    const style = layout === 'V' ? 'flex-column' : 'flex-row';\r\n\r\n    return (\r\n      <div id={lane.id} className=\"lane-wrapper composite-lane flex-fill\">\r\n        <div className=\"lane-header card-header border rounded-0\">\r\n          <div className=\"lane-title mb-0\">\r\n            <div className=\"row mx-0\">\r\n              <div className=\"mr-auto\"><b>{text}</b> {lane.description}</div>\r\n              <div\r\n                className=\"hover-card-badges\"\r\n                style={{ display: editable ? 'inline' : 'none' }}\r\n              >\r\n                <i\r\n                  className=\"fa fa-fw fa-file text-muted\"\r\n                  title=\"lane\"\r\n                  onClick={this.createChild}\r\n                />\r\n                <i className=\"fa fa-fw fa-pencil text-muted\" title=\"edit\" />\r\n                <i\r\n                  className=\"fa fa-fw fa-trash text-muted\"\r\n                  title=\"delete\"\r\n                  onClick={this.deleteLane}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={`lane-body d-flex ${style}`}>{this.renderLanes()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.board;\r\n  let lane = board.lanes[ownProps.lane.id];\r\n  return { board, lane };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createLane, createCardLane, excludeAndDeleteLane }\r\n)(CompositeLane);\r\n","import React from 'react';\r\nimport CardLane from './CardLane';\r\nimport CompositeLane from './CompositeLane';\r\n\r\nexport default ({ lane, board, parentId, editable, onConfirm }) => {\r\n  return lane.type === 'C' ? (\r\n    <CardLane key={lane.id} lane={lane} board={board} parentId={parentId} editable={editable} onConfirm={onConfirm}/>\r\n  ) : (\r\n    <CompositeLane key={lane.id} lane={lane} board={board} parentId={parentId} editable={editable} onConfirm={onConfirm}/>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Lane from './Lane';\r\n\r\nclass Body extends React.Component {\r\n  renderLanes() {\r\n    const { board, editable, onConfirm } = this.props;\r\n\r\n    if (!board || !board.children) {\r\n      return null;\r\n    }\r\n\r\n    return board.children\r\n      .map(id => board.lanes[id])\r\n      .filter(lane => lane)\r\n      .map(lane => (\r\n        <Lane\r\n          key={lane.id}\r\n          lane={lane}\r\n          board={board}\r\n          parentId={board.id}\r\n          editable={editable}\r\n          onConfirm={onConfirm}\r\n        />\r\n      ));\r\n  }\r\n\r\n  render() {\r\n    const board = this.props.board;\r\n    const layout = (board && board.layout) || 'V';\r\n    const style = layout === 'V' ? 'flex-column' : 'flex-row';\r\n\r\n    return (\r\n      <div className=\"container-fluid board-list\">\r\n        <div className={`board-body d-flex ${style}`}>{this.renderLanes()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { board: state.board };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Body);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { renameBoard, layoutBoard } from '../../actions/board';\r\nimport { createLane } from '../../actions/lane';\r\nimport Microphone from '../Microphone';\r\n\r\nconst Header = ({ editable, update, visible, layout, lane, board }) => {\r\n  let input;\r\n\r\n  const updateButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"input-group-append\">\r\n        <button\r\n          className=\"btn btn-success btn-sm\"\r\n          onClick={e => {\r\n            if (!input.value.trim()) {\r\n              return;\r\n            }\r\n            update(board.id, input.value);\r\n          }}\r\n        >\r\n          <i className=\"fa fa-fw fa-check\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const layoutButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    const layoutIcon = board.layout === 'V' ? 'fa-table' : 'fa-columns';\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-sm text-white\"\r\n        onClick={e => {\r\n          layout(board.id, board.layout === 'V' ? 'H' : 'V');\r\n        }}\r\n      >\r\n        <i className={`fa fa-fw ${layoutIcon}`} />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  const laneButton = () => {\r\n    if (!editable) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className=\"btn btn-sm text-white\"\r\n        onClick={e => {\r\n          lane(board.id, 'Lane');\r\n        }}\r\n      >\r\n        <i className=\"fa fa-fw fa-file\" />\r\n      </button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar bg-dark navbar-dark fixed-top\"\r\n    style={{ visibility: visible ? 'visible' : 'hidden' }}>\r\n      <div className=\"container-fluid no-gutters\">\r\n        <div className=\"col-12 col-sm-12 col-md-6 col-lg-3 ml-auto\">\r\n          <form\r\n            className=\"input-group ml-auto mr-auto\"\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n            }}\r\n          >\r\n            <div className=\"input-group\">\r\n              <div className=\"input-group-prepend\">\r\n                <Link to={`${process.env.REACT_APP_CONTEXT_ROOT}/`} className=\"btn btn-success btn-sm\">\r\n                  <i className=\"fa fa-fw fa-home\" />\r\n                </Link>\r\n              </div>\r\n              <Microphone home={false}/>\r\n              <input\r\n                type=\"search\"\r\n                className=\"form-control form-control-sm\"\r\n                defaultValue={board ? board.name : ''}\r\n                ref={node => (input = node)}\r\n              />\r\n              {updateButton()}\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"mr-auto\">\r\n          {laneButton()}\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-filter\" />\r\n          </button>\r\n          {layoutButton()}\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-gear\" />\r\n          </button>\r\n          <button className=\"btn btn-sm text-white\">\r\n            <i className=\"fa fa-fw fa-refresh\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.board && state.activeBoard && state.board.id === state.activeBoard ? state.board : null;\r\n  let editable = state.auth.isSignedIn && board && board.owner === state.auth.user;\r\n\r\n  return {\r\n    board,\r\n    editable,\r\n    visible: state.activeBoard != null,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { update: renameBoard, layout: layoutBoard, lane: createLane }\r\n)(Header);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Body from './board/Body';\r\nimport socket from '../apis/socket';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { fetchBoard, activeBoard, cleanBoard } from '../actions/board';\r\nimport Header from './board/Header';\r\n\r\nclass Board extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n\r\n    this.state = {\r\n      show: false,\r\n      title: 'Confirm',\r\n      question: 'Are you sure?',\r\n      yesFn: this.handleClose\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n    const { fetchBoard, activeBoard } = this.props;\r\n\r\n    fetchBoard(id);\r\n\r\n    activeBoard(id);\r\n\r\n    socket(JSON.stringify({ id }));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { cleanBoard } = this.props;\r\n    \r\n    cleanBoard();\r\n  }\r\n\r\n  handleClose(fn) {\r\n    if (fn && typeof fn == 'function') {\r\n      fn();\r\n    }\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow(title = 'Confirm', question = 'Are you sure?', fn) {\r\n    this.setState({\r\n      show: true,\r\n      title,\r\n      question,\r\n      yesFn: () => this.handleClose(fn)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { board, editable } = this.props;\r\n\r\n    if (!board) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Header/>\r\n        <Body board={board} editable={editable} onConfirm={this.handleShow} />\r\n        <Modal show={this.state.show} onHide={this.handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.state.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>{this.state.question}</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={this.state.yesFn}>\r\n              Yes\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  let board = state.board && state.board.id === ownProps.match.params.id ? state.board : null;\r\n  let editable = state.auth.isSignedIn && board && board.owner === state.auth.user;\r\n\r\n  return { board, editable };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchBoard, activeBoard, cleanBoard }\r\n)(Board);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport { filterBoards, createBoard, deleteBoard, shareBoard, renameBoard, layoutBoard } from '../actions/board';\r\nimport { createLane, createCardLane, layoutLane } from '../actions/lane';\r\nimport { speechOn, speechOff, speechError, speechCmd, speechLang } from '../actions/speech';\r\nimport { subscribe, unsubscribe } from '../apis/speech';\r\n\r\nclass Speech extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleShow = this.handleShow.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n\r\n    this.state = {\r\n      show: false,\r\n      title: '',\r\n      info: ''\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const showFn = (t, i, y) => !this.state.show && this.handleShow(t, i, y);\r\n    const closeFn = () => this.state.show && this.handleClose();\r\n    const speechFn = cmd => this.props.speechCmd(cmd, this.props, showFn, closeFn);\r\n    this.speechHandle = subscribe((success, cmd) => {\r\n      if (!success){\r\n        this.props.speechError();\r\n      } else {\r\n        speechFn(cmd);\r\n      }\r\n    });\r\n    console.log('sub: ' + this.speechHandle);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    console.log('unsub: ' + this.speechHandle);\r\n    unsubscribe(this.speechHandle);\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow(title = '', info = '', yesFn = undefined) {\r\n    this.setState({ show: true, title: title, info: info, yesFn: yesFn });\r\n  }\r\n\r\n  render() {\r\n      return (\r\n        <Modal show={this.state.show} onHide={this.handleClose} size='lg' backdropClassName='full-screen-size'>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>{this.state.title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body><div>{this.state.info}</div></Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={this.handleClose}>\r\n              Close\r\n            </Button>\r\n            {this.state.yesFn?(<Button variant=\"primary\" onClick={() => this.state.yesFn()} disabled={!this.state.yesFn}>Yes</Button>):''}\r\n          </Modal.Footer>\r\n        </Modal>\r\n      );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isEnabled: state.speech.isSpeechEnabled,\r\n    isOn: state.speech.isSpeechOn,\r\n    cmd: state.speech.speechCmd,\r\n    lang: state.speech.speechLang,\r\n    filter: state.filter,\r\n    boards: state.boards,\r\n    owner: state.auth.user,\r\n    activeBoardId: state.activeBoard\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  speechOn,\r\n  speechOff,\r\n  speechError,\r\n  speechCmd,\r\n  speechLang,\r\n  filterBoards,\r\n  createBoard,\r\n  deleteBoard,\r\n  shareBoard,\r\n  renameBoard,\r\n  layoutBoard,\r\n  createLane,\r\n  createCardLane,\r\n  layoutLane\r\n})(Speech);\r\n","import React from 'react';\nimport Boards from './Boards';\nimport Board from './Board';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport history from '../history';\nimport Speech from './Speech';\n\nconst App = () => (\n  <Router history={history}>\n    <React.Fragment>\n      <Speech />\n      <Switch>\n        <Route\n          path={`${process.env.REACT_APP_CONTEXT_ROOT}/`}\n          exact\n          component={Boards}\n        />\n        <Route\n          path={`${process.env.REACT_APP_CONTEXT_ROOT}/board/:id`}\n          exact\n          component={Board}\n        />\n      </Switch>\n    </React.Fragment>\n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport store from './store';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}