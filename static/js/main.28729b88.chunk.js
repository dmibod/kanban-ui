(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(31)},25:function(e,t,n){},27:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(10),c=n(2),i="dmitrybodnar.com",l="http".concat("s","://").concat(i),u="ws".concat("s","://").concat(i);n(25),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(27);var d=function(e){return{type:"ADD_TODO_STARTED",text:e}},s=function(e,t){return{type:"ADD_TODO_SUCCESS",id:e,text:t}},f=function(e){return{type:"ADD_TODO_FAILURE",error:e}},m=function(e){return{type:"REMOVE_TODO_STARTED",id:e}},p=function(e){return{type:"REMOVE_TODO_SUCCESS",id:e}},E=function(e,t){return{type:"REMOVE_TODO_FAILURE",id:e,error:t}},v="SHOW_ALL",O="SHOW_COMPLETED",h="SHOW_ACTIVE",b=function(e){var t=e.active,n=e.children,r=e.onClick;return o.a.createElement("button",{onClick:r,disabled:t,style:{marginLeft:"4px"}},n)},g=Object(c.b)(function(e,t){return{active:t.filter===e.visibilityFilter}},function(e,t){return{onClick:function(){return e({type:"SET_VISIBILITY_FILTER",filter:t.filter})}}})(b),w=function(){return o.a.createElement("div",null,o.a.createElement("span",null,"Show: "),o.a.createElement(g,{filter:v},"All"),o.a.createElement(g,{filter:h},"Active"),o.a.createElement(g,{filter:O},"Completed"))},y=function(e){var t=e.onClick,n=(e.id,e.text);return o.a.createElement("div",{id:"{id}",className:"card-wrapper float-left m-3",onClick:t},o.a.createElement("div",{className:"card shadow",style:{width:"150px",height:"150px"}},o.a.createElement("div",{className:"card-header"},o.a.createElement("div",{className:"card-title mb-0"},n)),o.a.createElement("div",{className:"card-body py-2",style:{overflow:"hidden"}},o.a.createElement("div",{className:"card-text small text-justify"}))))},T=Object(c.b)()(function(e){var t,n=e.dispatch;return o.a.createElement("form",{onSubmit:function(e){var r;e.preventDefault(),t.value.trim()&&(n((r=t.value,function(e){e(d(r)),fetch("".concat(l,"/v1/api/board"),{method:"post",body:JSON.stringify({name:r})}).then(function(e){return e.json()}).then(function(t){e(s(t.id,r))}).catch(function(t){e(f(t.message))})})),t.value="")}},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",ref:function(e){return t=e}}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-primary",type:"submit",id:"button-add"},"Add Board"))))}),_=function(e){var t=e.todos,n=(e.toggleTodo,e.removeTodo);return o.a.createElement("div",{className:"lane-wrapper lane-item"},o.a.createElement(T,null),o.a.createElement("div",{className:"lane-body"},t.map(function(e){return o.a.createElement(y,Object.assign({key:e.id},e,{onClick:function(){return n(e.id)}}))})))},D=function(e,t){switch(t){case v:return e;case O:return e.filter(function(e){return e.completed});case h:return e.filter(function(e){return!e.completed});default:throw new Error("Unknown filter: "+t)}},S=Object(c.b)(function(e){return{todos:D(e.todos,e.visibilityFilter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))},removeTodo:function(t){return e(function(e){return function(t){t(m(e)),fetch("".concat(l,"/v1/api/board/").concat(e),{method:"delete"}).then(function(n){t(p(e))}).catch(function(n){t(E(e,n.message))})}}(t))}}})(_),k=function(){return o.a.createElement("div",null,o.a.createElement(S,null),o.a.createElement(w,null))},A=n(1),C=n(12),R=n(13),I=function(e){return function(t,n,r){return e(function(e,n){var r,o=performance.now(),a=t(e,n),c=performance.now(),i=(r=c-o,Math.round(100*r)/100);return console.log("reducer process time:",i),a},n,r)}},L=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),console.groupEnd(),r}}},x=n(15),j=n(14),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO_STARTED":return e;case"ADD_TODO_SUCCESS":return[].concat(Object(j.a)(e),[{id:t.id,text:t.text,completed:!1}]);case"ADD_TODO_FAILURE":case"REMOVE_TODO_STARTED":return e;case"REMOVE_TODO_SUCCESS":return e.filter(function(e){return e.id!==t.id});case"REMOVE_TODO_FAILURE":return e;case"TOGGLE_TODO":return e.map(function(e){return e.id===t.id?Object(x.a)({},e,{completed:!e.completed}):e});default:return e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},F=Object(A.combineReducers)({todos:N,visibilityFilter:M});var U;n(29);fetch("".concat(l,"/v1/api/board")).then(function(e){return e.json()}).then(function(e){var t={todos:e.map(function(e){return{id:e.id,text:e.name,completed:!1}})};(U=function(e){var t=[L,C.a],n=[A.applyMiddleware.apply(void 0,t),I],r=R.composeWithDevTools.apply(void 0,n);return Object(A.createStore)(F,e,r)}(t)).subscribe(B),Object(a.render)(o.a.createElement(c.a,{store:U},o.a.createElement(k,null)),document.getElementById("root"))});var V=[],W=null;function B(){var e=V;if((V=U.getState().todos).length>e.length){!function(e){if(console.log("post commands: ",e),!W)return void console.log("shared worker is not available");console.log("commands posted to shared worker"),W.port.postMessage(e)}([{id:"5c3016bc4d74f1000177ed11",type:5,payload:{lane_id:"5c30169d4d74f1000177ed10"}}])}}!function(){var e=new WebSocket("".concat(u,"/v1/api/notify/ws"));e.onclose=function(e){console.log("Connection closed")},e.onmessage=function(e){console.log("notification received",e.data)}}(),window.SharedWorker&&((W=new SharedWorker("worker.js")).port.start(),console.log("shared worker is started"),W.port.addEventListener("message",function(e){console.log("message received by main is..."),console.log(e.data)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.28729b88.chunk.js.map